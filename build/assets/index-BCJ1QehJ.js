function eN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function tN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var B_={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS;function nN(){if(PS)return Th;PS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Th.Fragment=e,Th.jsx=t,Th.jsxs=t,Th}var DS;function rN(){return DS||(DS=1,B_.exports=nN()),B_.exports}var z=rN(),z_={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function iN(){if(NS)return Ne;NS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function k(L,oe,pe){this.props=L,this.context=oe,this.refs=I,this.updater=pe||R}k.prototype.isReactComponent={},k.prototype.setState=function(L,oe){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,oe,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=k.prototype;function K(L,oe,pe){this.props=L,this.context=oe,this.refs=I,this.updater=pe||R}var F=K.prototype=new B;F.constructor=K,C(F,k.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function P(L,oe,pe,he,Se,Pe){return pe=Pe.ref,{$$typeof:n,type:L,key:oe,ref:pe!==void 0?pe:null,props:Pe}}function x(L,oe){return P(L.type,oe,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function b(L){var oe={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return oe[pe]})}var N=/\/+/g;function M(L,oe){return typeof L=="object"&&L!==null&&L.key!=null?b(""+L.key):oe.toString(36)}function O(){}function Oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(oe){L.status==="pending"&&(L.status="fulfilled",L.value=oe)},function(oe){L.status==="pending"&&(L.status="rejected",L.reason=oe)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ke(L,oe,pe,he,Se){var Pe=typeof L;(Pe==="undefined"||Pe==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(Pe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case n:case e:ve=!0;break;case y:return ve=L._init,ke(ve(L._payload),oe,pe,he,Se)}}if(ve)return Se=Se(L),ve=he===""?"."+M(L,0):he,Z(Se)?(pe="",ve!=null&&(pe=ve.replace(N,"$&/")+"/"),ke(Se,oe,pe,"",function(Zn){return Zn})):Se!=null&&(D(Se)&&(Se=x(Se,pe+(Se.key==null||L&&L.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+ve)),oe.push(Se)),1;ve=0;var yt=he===""?".":he+":";if(Z(L))for(var Ke=0;Ke<L.length;Ke++)he=L[Ke],Pe=yt+M(he,Ke),ve+=ke(he,oe,pe,Pe,Se);else if(Ke=E(L),typeof Ke=="function")for(L=Ke.call(L),Ke=0;!(he=L.next()).done;)he=he.value,Pe=yt+M(he,Ke++),ve+=ke(he,oe,pe,Pe,Se);else if(Pe==="object"){if(typeof L.then=="function")return ke(Oe(L),oe,pe,he,Se);throw oe=String(L),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ee(L,oe,pe){if(L==null)return L;var he=[],Se=0;return ke(L,he,"","",function(Pe){return oe.call(pe,Pe,Se++)}),he}function de(L){if(L._status===-1){var oe=L._result;oe=oe(),oe.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=oe)}if(L._status===1)return L._result.default;throw L._result}var _e=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ze(){}return Ne.Children={map:ee,forEach:function(L,oe,pe){ee(L,function(){oe.apply(this,arguments)},pe)},count:function(L){var oe=0;return ee(L,function(){oe++}),oe},toArray:function(L){return ee(L,function(oe){return oe})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=k,Ne.Fragment=t,Ne.Profiler=s,Ne.PureComponent=K,Ne.StrictMode=r,Ne.Suspense=f,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ne.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,oe,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=C({},L.props),Se=L.key,Pe=void 0;if(oe!=null)for(ve in oe.ref!==void 0&&(Pe=void 0),oe.key!==void 0&&(Se=""+oe.key),oe)!ae.call(oe,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&oe.ref===void 0||(he[ve]=oe[ve]);var ve=arguments.length-2;if(ve===1)he.children=pe;else if(1<ve){for(var yt=Array(ve),Ke=0;Ke<ve;Ke++)yt[Ke]=arguments[Ke+2];he.children=yt}return P(L.type,Se,void 0,void 0,Pe,he)},Ne.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ne.createElement=function(L,oe,pe){var he,Se={},Pe=null;if(oe!=null)for(he in oe.key!==void 0&&(Pe=""+oe.key),oe)ae.call(oe,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=oe[he]);var ve=arguments.length-2;if(ve===1)Se.children=pe;else if(1<ve){for(var yt=Array(ve),Ke=0;Ke<ve;Ke++)yt[Ke]=arguments[Ke+2];Se.children=yt}if(L&&L.defaultProps)for(he in ve=L.defaultProps,ve)Se[he]===void 0&&(Se[he]=ve[he]);return P(L,Pe,void 0,void 0,null,Se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:h,render:L}},Ne.isValidElement=D,Ne.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:de}},Ne.memo=function(L,oe){return{$$typeof:p,type:L,compare:oe===void 0?null:oe}},Ne.startTransition=function(L){var oe=ne.T,pe={};ne.T=pe;try{var he=L(),Se=ne.S;Se!==null&&Se(pe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ze,_e)}catch(Pe){_e(Pe)}finally{ne.T=oe}},Ne.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Ne.use=function(L){return ne.H.use(L)},Ne.useActionState=function(L,oe,pe){return ne.H.useActionState(L,oe,pe)},Ne.useCallback=function(L,oe){return ne.H.useCallback(L,oe)},Ne.useContext=function(L){return ne.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,oe){return ne.H.useDeferredValue(L,oe)},Ne.useEffect=function(L,oe,pe){var he=ne.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(L,oe)},Ne.useId=function(){return ne.H.useId()},Ne.useImperativeHandle=function(L,oe,pe){return ne.H.useImperativeHandle(L,oe,pe)},Ne.useInsertionEffect=function(L,oe){return ne.H.useInsertionEffect(L,oe)},Ne.useLayoutEffect=function(L,oe){return ne.H.useLayoutEffect(L,oe)},Ne.useMemo=function(L,oe){return ne.H.useMemo(L,oe)},Ne.useOptimistic=function(L,oe){return ne.H.useOptimistic(L,oe)},Ne.useReducer=function(L,oe,pe){return ne.H.useReducer(L,oe,pe)},Ne.useRef=function(L){return ne.H.useRef(L)},Ne.useState=function(L){return ne.H.useState(L)},Ne.useSyncExternalStore=function(L,oe,pe){return ne.H.useSyncExternalStore(L,oe,pe)},Ne.useTransition=function(){return ne.H.useTransition()},Ne.version="19.1.0",Ne}var OS;function p0(){return OS||(OS=1,z_.exports=iN()),z_.exports}var Y=p0();const dp=tN(Y),kS=eN({__proto__:null,default:dp},[Y]);var F_={exports:{}},bh={},j_={exports:{}},q_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function sN(){return VS||(VS=1,function(n){function e(ee,de){var _e=ee.length;ee.push(de);e:for(;0<_e;){var ze=_e-1>>>1,L=ee[ze];if(0<s(L,de))ee[ze]=de,ee[_e]=L,_e=ze;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],_e=ee.pop();if(_e!==de){ee[0]=_e;e:for(var ze=0,L=ee.length,oe=L>>>1;ze<oe;){var pe=2*(ze+1)-1,he=ee[pe],Se=pe+1,Pe=ee[Se];if(0>s(he,_e))Se<L&&0>s(Pe,he)?(ee[ze]=Pe,ee[Se]=_e,ze=Se):(ee[ze]=he,ee[pe]=_e,ze=pe);else if(Se<L&&0>s(Pe,_e))ee[ze]=Pe,ee[Se]=_e,ze=Se;else break e}}return de}function s(ee,de){var _e=ee.sortIndex-de.sortIndex;return _e!==0?_e:ee.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,v=null,E=3,R=!1,C=!1,I=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(ee){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ee)r(p),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(p)}}function ne(ee){if(I=!1,Z(ee),!C)if(t(f)!==null)C=!0,ae||(ae=!0,M());else{var de=t(p);de!==null&&ke(ne,de.startTime-ee)}}var ae=!1,P=-1,x=5,D=-1;function b(){return k?!0:!(n.unstable_now()-D<x)}function N(){if(k=!1,ae){var ee=n.unstable_now();D=ee;var de=!0;try{e:{C=!1,I&&(I=!1,K(P),P=-1),R=!0;var _e=E;try{t:{for(Z(ee),v=t(f);v!==null&&!(v.expirationTime>ee&&b());){var ze=v.callback;if(typeof ze=="function"){v.callback=null,E=v.priorityLevel;var L=ze(v.expirationTime<=ee);if(ee=n.unstable_now(),typeof L=="function"){v.callback=L,Z(ee),de=!0;break t}v===t(f)&&r(f),Z(ee)}else r(f);v=t(f)}if(v!==null)de=!0;else{var oe=t(p);oe!==null&&ke(ne,oe.startTime-ee),de=!1}}break e}finally{v=null,E=_e,R=!1}de=void 0}}finally{de?M():ae=!1}}}var M;if(typeof F=="function")M=function(){F(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Oe=O.port2;O.port1.onmessage=N,M=function(){Oe.postMessage(null)}}else M=function(){B(N,0)};function ke(ee,de){P=B(function(){ee(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var _e=E;E=de;try{return ee()}finally{E=_e}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var _e=E;E=ee;try{return de()}finally{E=_e}},n.unstable_scheduleCallback=function(ee,de,_e){var ze=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ze+_e:ze):_e=ze,ee){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=_e+L,ee={id:y++,callback:de,priorityLevel:ee,startTime:_e,expirationTime:L,sortIndex:-1},_e>ze?(ee.sortIndex=_e,e(p,ee),t(f)===null&&ee===t(p)&&(I?(K(P),P=-1):I=!0,ke(ne,_e-ze))):(ee.sortIndex=L,e(f,ee),C||R||(C=!0,ae||(ae=!0,M()))),ee},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ee){var de=E;return function(){var _e=E;E=de;try{return ee.apply(this,arguments)}finally{E=_e}}}}(q_)),q_}var MS;function aN(){return MS||(MS=1,j_.exports=sN()),j_.exports}var H_={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function oN(){if(LS)return Mn;LS=1;var n=p0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},Mn.flushSync=function(f){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=y,r.d.f()}},Mn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Mn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Mn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:R}):y==="script"&&r.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Mn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Mn.requestFormReset=function(f){r.d.r(f)},Mn.unstable_batchedUpdates=function(f,p){return f(p)},Mn.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.1.0",Mn}var US;function lN(){if(US)return H_.exports;US=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),H_.exports=oN(),H_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function uN(){if(BS)return bh;BS=1;var n=aN(),e=p0(),t=lN();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return h(m),i;if(g===c)return h(m),a;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=g;else{for(var w=!1,S=m.child;S;){if(S===l){w=!0,l=m,c=g;break}if(S===c){w=!0,c=m,l=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===l){w=!0,l=g,c=m;break}if(S===c){w=!0,c=g,l=m;break}S=S.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function Oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case ne:return"Suspense";case ae:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case F:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case Z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:Oe(i.type)||"Memo";case x:a=i._payload,i=i._init;try{return Oe(i(a))}catch{}}return null}var ke=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ze=[],L=-1;function oe(i){return{current:i}}function pe(i){0>L||(i.current=ze[L],ze[L]=null,L--)}function he(i,a){L++,ze[L]=i.current,i.current=a}var Se=oe(null),Pe=oe(null),ve=oe(null),yt=oe(null);function Ke(i,a){switch(he(ve,a),he(Pe,i),he(Se,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?iS(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=iS(a),i=sS(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(Se),he(Se,i)}function Zn(){pe(Se),pe(Pe),pe(ve)}function Hr(i){i.memoizedState!==null&&he(yt,i);var a=Se.current,l=sS(a,i.type);a!==l&&(he(Pe,i),he(Se,l))}function Et(i){Pe.current===i&&(pe(Se),pe(Pe)),yt.current===i&&(pe(yt),gh._currentValue=_e)}var ur=Object.prototype.hasOwnProperty,ni=n.unstable_scheduleCallback,Gr=n.unstable_cancelCallback,Wa=n.unstable_shouldYield,Xa=n.unstable_requestPaint,On=n.unstable_now,Ja=n.unstable_getCurrentPriorityLevel,Us=n.unstable_ImmediatePriority,qi=n.unstable_UserBlockingPriority,Hi=n.unstable_NormalPriority,pl=n.unstable_LowPriority,Bs=n.unstable_IdlePriority,Za=n.log,cr=n.unstable_setDisableYieldValue,_t=null,Xe=null;function jn(i){if(typeof Za=="function"&&cr(i),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(_t,i)}catch{}}var fn=Math.clz32?Math.clz32:Gi,gl=Math.log,Ec=Math.LN2;function Gi(i){return i>>>=0,i===0?32:31-(gl(i)/Ec|0)|0}var ri=256,$i=4194304;function Je(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qt(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Je(c):(w&=S,w!==0?m=Je(w):l||(l=S&~i,l!==0&&(m=Je(l))))):(S=c&~g,S!==0?m=Je(S):w!==0?m=Je(w):l||(l=c&~i,l!==0&&(m=Je(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function Tt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function mn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var i=ri;return ri<<=1,(ri&4194048)===0&&(ri=256),i}function bt(){var i=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),i}function kn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function er(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ki(i,a,l,c,m,g){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,$=i.hiddenUpdates;for(l=w&~l;0<l;){var re=31-fn(l),se=1<<re;S[re]=0,V[re]=-1;var Q=$[re];if(Q!==null)for($[re]=null,re=0;re<Q.length;re++){var W=Q[re];W!==null&&(W.lane&=-536870913)}l&=~se}c!==0&&qn(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~a))}function qn(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-fn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function eo(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-fn(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function zs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function yl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fs(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:SS(i.type))}function hf(i,a){var l=de.p;try{return de.p=i,a()}finally{de.p=l}}var wt=Math.random().toString(36).slice(2),an="__reactFiber$"+wt,Jt="__reactProps$"+wt,Rr="__reactContainer$"+wt,Tc="__reactEvents$"+wt,jg="__reactListeners$"+wt,js="__reactHandles$"+wt,df="__reactResources$"+wt,to="__reactMarker$"+wt;function qs(i){delete i[an],delete i[Jt],delete i[Tc],delete i[jg],delete i[js]}function Qi(i){var a=i[an];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Rr]||l[an]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=uS(i);i!==null;){if(l=i[an])return l;i=uS(i)}return a}i=l,l=i.parentNode}return null}function ii(i){if(i=i[an]||i[Rr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function si(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Hn(i){var a=i[df];return a||(a=i[df]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ht(i){i[to]=!0}var bc=new Set,_l={};function $r(i,a){Yi(i,a),Yi(i+"Capture",a)}function Yi(i,a){for(_l[i]=a,i=0;i<a.length;i++)bc.add(a[i])}var ff=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},no={};function pf(i){return ur.call(no,i)?!0:ur.call(mf,i)?!1:ff.test(i)?no[i]=!0:(mf[i]=!0,!1)}function Hs(i,a,l){if(pf(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ai(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function wn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var ro,gf;function Wi(i){if(ro===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ro=a&&a[1]||"",gf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+i+gf}var vl=!1;function El(i,a){if(!i||vl)return"";vl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Q=W}Reflect.construct(i,[],se)}else{try{se.call()}catch(W){Q=W}i.call(se.prototype)}}else{try{throw Error()}catch(W){Q=W}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var V=w.split(`
`),$=S.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===$.length)for(c=V.length-1,m=$.length-1;1<=c&&0<=m&&V[c]!==$[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==$[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==$[m]){var re=`
`+V[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=m);break}}}finally{vl=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Wi(l):""}function wc(i){switch(i.tag){case 26:case 27:case 5:return Wi(i.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return El(i.type,!1);case 11:return El(i.type.render,!1);case 1:return El(i.type,!0);case 31:return Wi("Activity");default:return""}}function Tl(i){try{var a="";do a+=wc(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sc(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qg(i){var a=Sc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function bl(i){i._valueTracker||(i._valueTracker=qg(i))}function Ac(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Sc(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function io(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hg=/[\n"\\]/g;function Zt(i){return i.replace(Hg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function hr(i,a,l,c,m,g,w,S){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Gn(a)):i.value!==""+Gn(a)&&(i.value=""+Gn(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?Gs(i,w,Gn(a)):l!=null?Gs(i,w,Gn(l)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Gn(S):i.removeAttribute("name")}function so(i,a,l,c,m,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+Gn(l):"",a=a!=null?""+Gn(a):l,S||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Gs(i,a,l){a==="number"&&io(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Xi(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Gn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function ot(i,a,l){if(a!=null&&(a=""+Gn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Gn(l):""}function ao(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ke(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Gn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Cr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yf(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||oo.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Ic(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&yf(i,m,c)}else for(var g in a)a.hasOwnProperty(g)&&yf(i,g,a[g])}function Rc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(i){return $g.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ji=null;function xr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zi=null,es=null;function Cc(i){var a=ii(i);if(a&&(i=a.stateNode)){var l=i[Jt]||null;e:switch(i=a.stateNode,a.type){case"input":if(hr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[Jt]||null;if(!m)throw Error(r(90));hr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Ac(c)}break e;case"textarea":ot(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Xi(i,!!l.multiple,a,!1)}}}var oi=!1;function _f(i,a,l){if(oi)return i(a,l);oi=!0;try{var c=i(a);return c}finally{if(oi=!1,(Zi!==null||es!==null)&&(hm(),Zi&&(a=Zi,i=es,es=Zi=null,Cc(a),i)))for(a=0;a<i.length;a++)Cc(i[a])}}function lo(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Jt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Kr)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Pr=!1}var li=null,$s=null,ts=null;function xc(){if(ts)return ts;var i,a=$s,l=a.length,c,m="value"in li?li.value:li.textContent,g=m.length;for(i=0;i<l&&a[i]===m[i];i++);var w=l-i;for(c=1;c<=w&&a[l-c]===m[g-c];c++);return ts=m.slice(i,1<c?1-c:void 0)}function ui(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ci(){return!0}function Pc(){return!1}function pn(i){function a(l,c,m,g,w){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ci:Pc,this.isPropagationStopped=Pc,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),a}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=pn(nt),co=y({},nt,{view:0,detail:0}),vf=pn(co),Al,Il,hi,ho=y({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hi&&(hi&&i.type==="mousemove"?(Al=i.screenX-hi.screenX,Il=i.screenY-hi.screenY):Il=Al=0,hi=i),Al)},movementY:function(i){return"movementY"in i?i.movementY:Il}}),Dr=pn(ho),Ef=y({},ho,{dataTransfer:0}),Kg=pn(Ef),fo=y({},co,{relatedTarget:0}),Rl=pn(fo),Dc=y({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=pn(Dc),Tf=y({},nt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xl=pn(Tf),Qg=y({},nt,{data:0}),Nc=pn(Qg),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=wf[i])?!!a[i]:!1}function po(){return Oc}var Sf=y({},co,{key:function(i){if(i.key){var a=mo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ui(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(i){return i.type==="keypress"?ui(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ui(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pl=pn(Sf),Af=y({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=pn(Af),ns=y({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),If=pn(ns),Rf=y({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=pn(Rf),xf=y({},ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Dl=pn(xf),$n=y({},nt,{newState:0,oldState:0}),Pf=pn($n),Df=[9,13,27,32],di=Kr&&"CompositionEvent"in window,d=null;Kr&&"documentMode"in document&&(d=document.documentMode);var _=Kr&&"TextEvent"in window&&!d,T=Kr&&(!di||d&&8<d&&11>=d),A=" ",q=!1;function J(i,a){switch(i){case"keyup":return Df.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qe=!1;function on(i,a){switch(i){case"compositionend":return fe(a);case"keypress":return a.which!==32?null:(q=!0,A);case"textInput":return i=a.data,i===A&&q?null:i;default:return null}}function He(i,a){if(qe)return i==="compositionend"||!di&&J(i,a)?(i=xc(),ts=$s=li=null,qe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!gn[i.type]:a==="textarea"}function rs(i,a,l,c){Zi?es?es.push(c):es=[c]:Zi=c,a=ym(a,"onChange"),0<a.length&&(l=new Sl("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Sn=null,fi=null;function Vc(i){Zw(i,0)}function Nf(i){var a=si(i);if(Ac(a))return i}function ET(i,a){if(i==="change")return a}var TT=!1;if(Kr){var Yg;if(Kr){var Wg="oninput"in document;if(!Wg){var bT=document.createElement("div");bT.setAttribute("oninput","return;"),Wg=typeof bT.oninput=="function"}Yg=Wg}else Yg=!1;TT=Yg&&(!document.documentMode||9<document.documentMode)}function wT(){Sn&&(Sn.detachEvent("onpropertychange",ST),fi=Sn=null)}function ST(i){if(i.propertyName==="value"&&Nf(fi)){var a=[];rs(a,fi,i,xr(i)),_f(Vc,a)}}function PD(i,a,l){i==="focusin"?(wT(),Sn=a,fi=l,Sn.attachEvent("onpropertychange",ST)):i==="focusout"&&wT()}function DD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nf(fi)}function ND(i,a){if(i==="click")return Nf(a)}function OD(i,a){if(i==="input"||i==="change")return Nf(a)}function kD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var dr=typeof Object.is=="function"?Object.is:kD;function Mc(i,a){if(dr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!ur.call(a,m)||!dr(i[m],a[m]))return!1}return!0}function AT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function IT(i,a){var l=AT(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=AT(l)}}function RT(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?RT(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function CT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=io(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=io(i.document)}return a}function Xg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var VD=Kr&&"documentMode"in document&&11>=document.documentMode,Nl=null,Jg=null,Lc=null,Zg=!1;function xT(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zg||Nl==null||Nl!==io(c)||(c=Nl,"selectionStart"in c&&Xg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lc&&Mc(Lc,c)||(Lc=c,c=ym(Jg,"onSelect"),0<c.length&&(a=new Sl("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Nl)))}function go(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Ol={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},ey={},PT={};Kr&&(PT=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function yo(i){if(ey[i])return ey[i];if(!Ol[i])return i;var a=Ol[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in PT)return ey[i]=a[l];return i}var DT=yo("animationend"),NT=yo("animationiteration"),OT=yo("animationstart"),MD=yo("transitionrun"),LD=yo("transitionstart"),UD=yo("transitioncancel"),kT=yo("transitionend"),VT=new Map,ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ty.push("scrollEnd");function Qr(i,a){VT.set(i,a),$r(a,[i])}var MT=new WeakMap;function Nr(i,a){if(typeof i=="object"&&i!==null){var l=MT.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Tl(a)},MT.set(i,a),a)}return{value:i,source:a,stack:Tl(a)}}var Or=[],kl=0,ny=0;function Of(){for(var i=kl,a=ny=kl=0;a<i;){var l=Or[a];Or[a++]=null;var c=Or[a];Or[a++]=null;var m=Or[a];Or[a++]=null;var g=Or[a];if(Or[a++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&LT(l,m,g)}}function kf(i,a,l,c){Or[kl++]=i,Or[kl++]=a,Or[kl++]=l,Or[kl++]=c,ny|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ry(i,a,l,c){return kf(i,a,l,c),Vf(i)}function Vl(i,a){return kf(i,null,null,a),Vf(i)}function LT(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&a!==null&&(m=31-fn(l),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),g):null}function Vf(i){if(50<lh)throw lh=0,u_=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ml={};function BD(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(i,a,l,c){return new BD(i,a,l,c)}function iy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function is(i,a){var l=i.alternate;return l===null?(l=fr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function UT(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Mf(i,a,l,c,m,g){var w=0;if(c=i,typeof i=="function")iy(i)&&(w=1);else if(typeof i=="string")w=F2(i,l,Se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=fr(31,l,a,m),i.elementType=D,i.lanes=g,i;case C:return _o(l.children,m,g,a);case I:w=8,m|=24;break;case k:return i=fr(12,l,a,m|2),i.elementType=k,i.lanes=g,i;case ne:return i=fr(13,l,a,m),i.elementType=ne,i.lanes=g,i;case ae:return i=fr(19,l,a,m),i.elementType=ae,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case F:w=10;break e;case K:w=9;break e;case Z:w=11;break e;case P:w=14;break e;case x:w=16,c=null;break e}w=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=fr(w,l,a,m),a.elementType=i,a.type=c,a.lanes=g,a}function _o(i,a,l,c){return i=fr(7,i,c,a),i.lanes=l,i}function sy(i,a,l){return i=fr(6,i,null,a),i.lanes=l,i}function ay(i,a,l){return a=fr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ll=[],Ul=0,Lf=null,Uf=0,kr=[],Vr=0,vo=null,ss=1,as="";function Eo(i,a){Ll[Ul++]=Uf,Ll[Ul++]=Lf,Lf=i,Uf=a}function BT(i,a,l){kr[Vr++]=ss,kr[Vr++]=as,kr[Vr++]=vo,vo=i;var c=ss;i=as;var m=32-fn(c)-1;c&=~(1<<m),l+=1;var g=32-fn(a)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,ss=1<<32-fn(a)+m|l<<m|c,as=g+i}else ss=1<<g|l<<m|c,as=i}function oy(i){i.return!==null&&(Eo(i,1),BT(i,1,0))}function ly(i){for(;i===Lf;)Lf=Ll[--Ul],Ll[Ul]=null,Uf=Ll[--Ul],Ll[Ul]=null;for(;i===vo;)vo=kr[--Vr],kr[Vr]=null,as=kr[--Vr],kr[Vr]=null,ss=kr[--Vr],kr[Vr]=null}var Kn=null,Mt=null,Ze=!1,To=null,mi=!1,uy=Error(r(519));function bo(i){var a=Error(r(418,""));throw zc(Nr(a,i)),uy}function zT(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[an]=i,a[Jt]=c,l){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(l=0;l<ch.length;l++)Ue(ch[l],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),so(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),bl(a);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),ao(a,c.value,c.defaultValue,c.children),bl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||rS(a.textContent,l)?(c.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),c.onScroll!=null&&Ue("scroll",a),c.onScrollEnd!=null&&Ue("scrollend",a),c.onClick!=null&&(a.onclick=_m),a=!0):a=!1,a||bo(i)}function FT(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:Kn=Kn.return}}function Uc(i){if(i!==Kn)return!1;if(!Ze)return FT(i),Ze=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||A_(i.type,i.memoizedProps)),l=!l),l&&Mt&&bo(i),FT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Mt=Wr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Mt=null}}else a===27?(a=Mt,la(i.type)?(i=x_,x_=null,Mt=i):Mt=a):Mt=Kn?Wr(i.stateNode.nextSibling):null;return!0}function Bc(){Mt=Kn=null,Ze=!1}function jT(){var i=To;return i!==null&&(rr===null?rr=i:rr.push.apply(rr,i),To=null),i}function zc(i){To===null?To=[i]:To.push(i)}var cy=oe(null),wo=null,os=null;function Ks(i,a,l){he(cy,a._currentValue),a._currentValue=l}function ls(i){i._currentValue=cy.current,pe(cy)}function hy(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function dy(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var V=0;V<a.length;V++)if(S.context===a[V]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),hy(g.return,l,i),c||(w=null);break e}g=S.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),hy(w,l,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Fc(i,a,l,c){i=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var S=m.type;dr(m.pendingProps.value,w.value)||(i!==null?i.push(S):i=[S])}}else if(m===yt.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(gh):i=[gh])}m=m.return}i!==null&&dy(a,i,l,c),a.flags|=262144}function Bf(i){for(i=i.firstContext;i!==null;){if(!dr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function So(i){wo=i,os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Vn(i){return qT(wo,i)}function zf(i,a){return wo===null&&So(i),qT(i,a)}function qT(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},os===null){if(i===null)throw Error(r(308));os=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else os=os.next=a;return l}var zD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},FD=n.unstable_scheduleCallback,jD=n.unstable_NormalPriority,un={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fy(){return{controller:new zD,data:new Map,refCount:0}}function jc(i){i.refCount--,i.refCount===0&&FD(jD,function(){i.controller.abort()})}var qc=null,my=0,Bl=0,zl=null;function qD(i,a){if(qc===null){var l=qc=[];my=0,Bl=g_(),zl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return my++,a.then(HT,HT),a}function HT(){if(--my===0&&qc!==null){zl!==null&&(zl.status="fulfilled");var i=qc;qc=null,Bl=0,zl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function HD(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var GT=ee.S;ee.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&qD(i,a),GT!==null&&GT(i,a)};var Ao=oe(null);function py(){var i=Ao.current;return i!==null?i:pt.pooledCache}function Ff(i,a){a===null?he(Ao,Ao.current):he(Ao,a.pool)}function $T(){var i=py();return i===null?null:{parent:un._currentValue,pool:i}}var Hc=Error(r(460)),KT=Error(r(474)),jf=Error(r(542)),gy={then:function(){}};function QT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qf(){}function YT(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(qf,qf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,XT(i),i;default:if(typeof a.status=="string")a.then(qf,qf);else{if(i=pt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,XT(i),i}throw Gc=a,Hc}}var Gc=null;function WT(){if(Gc===null)throw Error(r(459));var i=Gc;return Gc=null,i}function XT(i){if(i===Hc||i===jf)throw Error(r(483))}var Qs=!1;function yy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _y(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ys(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ws(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Vf(i),LT(i,null,l),a}return kf(i,c,a,l),Vf(i)}function $c(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,eo(i,l)}}function vy(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ey=!1;function Kc(){if(Ey){var i=zl;if(i!==null)throw i}}function Qc(i,a,l,c){Ey=!1;var m=i.updateQueue;Qs=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,$=V.next;V.next=null,w===null?g=$:w.next=$,w=V;var re=i.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==w&&(S===null?re.firstBaseUpdate=$:S.next=$,re.lastBaseUpdate=V))}if(g!==null){var se=m.baseState;w=0,re=$=V=null,S=g;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(Ge&Q)===Q:(c&Q)===Q){Q!==0&&Q===Bl&&(Ey=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=i,Ie=S;Q=a;var ct=l;switch(Ie.tag){case 1:if(xe=Ie.payload,typeof xe=="function"){se=xe.call(ct,se,Q);break e}se=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ie.payload,Q=typeof xe=="function"?xe.call(ct,se,Q):xe,Q==null)break e;se=y({},se,Q);break e;case 2:Qs=!0}}Q=S.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?($=re=W,V=se):re=re.next=W,w|=Q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);re===null&&(V=se),m.baseState=V,m.firstBaseUpdate=$,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),ia|=w,i.lanes=w,i.memoizedState=se}}function JT(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function ZT(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)JT(l[i],a)}var Fl=oe(null),Hf=oe(0);function eb(i,a){i=ps,he(Hf,i),he(Fl,a),ps=i|a.baseLanes}function Ty(){he(Hf,ps),he(Fl,Fl.current)}function by(){ps=Hf.current,pe(Fl),pe(Hf)}var Xs=0,Ve=null,lt=null,en=null,Gf=!1,jl=!1,Io=!1,$f=0,Yc=0,ql=null,GD=0;function Gt(){throw Error(r(321))}function wy(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!dr(i[l],a[l]))return!1;return!0}function Sy(i,a,l,c,m,g){return Xs=g,Ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ee.H=i===null||i.memoizedState===null?Lb:Ub,Io=!1,g=l(c,m),Io=!1,jl&&(g=nb(a,l,c,m)),tb(i),g}function tb(i){ee.H=Jf;var a=lt!==null&&lt.next!==null;if(Xs=0,en=lt=Ve=null,Gf=!1,Yc=0,ql=null,a)throw Error(r(300));i===null||yn||(i=i.dependencies,i!==null&&Bf(i)&&(yn=!0))}function nb(i,a,l,c){Ve=i;var m=0;do{if(jl&&(ql=null),Yc=0,jl=!1,25<=m)throw Error(r(301));if(m+=1,en=lt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=JD,g=a(l,c)}while(jl);return g}function $D(){var i=ee.H,a=i.useState()[0];return a=typeof a.then=="function"?Wc(a):a,i=i.useState()[0],(lt!==null?lt.memoizedState:null)!==i&&(Ve.flags|=1024),a}function Ay(){var i=$f!==0;return $f=0,i}function Iy(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Ry(i){if(Gf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Gf=!1}Xs=0,en=lt=Ve=null,jl=!1,Yc=$f=0,ql=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ve.memoizedState=en=i:en=en.next=i,en}function tn(){if(lt===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=lt.next;var a=en===null?Ve.memoizedState:en.next;if(a!==null)en=a,lt=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));lt=i,i={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},en===null?Ve.memoizedState=en=i:en=en.next=i}return en}function Cy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wc(i){var a=Yc;return Yc+=1,ql===null&&(ql=[]),i=YT(ql,i,a),a=Ve,(en===null?a.memoizedState:en.next)===null&&(a=a.alternate,ee.H=a===null||a.memoizedState===null?Lb:Ub),i}function Kf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wc(i);if(i.$$typeof===F)return Vn(i)}throw Error(r(438,String(i)))}function xy(i){var a=null,l=Ve.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Cy(),Ve.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=b;return a.index++,l}function us(i,a){return typeof a=="function"?a(i):a}function Qf(i){var a=tn();return Py(a,lt,i)}function Py(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}a.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{a=m.next;var S=w=null,V=null,$=a,re=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Ge&se)===se:(Xs&se)===se){var Q=$.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===Bl&&(re=!0);else if((Xs&Q)===Q){$=$.next,Q===Bl&&(re=!0);continue}else se={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=se,w=g):V=V.next=se,Ve.lanes|=Q,ia|=Q;se=$.action,Io&&l(g,se),g=$.hasEagerState?$.eagerState:l(g,se)}else Q={lane:se,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=Q,w=g):V=V.next=Q,Ve.lanes|=se,ia|=se;$=$.next}while($!==null&&$!==a);if(V===null?w=g:V.next=S,!dr(g,i.memoizedState)&&(yn=!0,re&&(l=zl,l!==null)))throw l;i.memoizedState=g,i.baseState=w,i.baseQueue=V,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Dy(i){var a=tn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);dr(g,a.memoizedState)||(yn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function rb(i,a,l){var c=Ve,m=tn(),g=Ze;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var w=!dr((lt||m).memoizedState,l);w&&(m.memoizedState=l,yn=!0),m=m.queue;var S=ab.bind(null,c,m,i);if(Xc(2048,8,S,[i]),m.getSnapshot!==a||w||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,Hl(9,Yf(),sb.bind(null,c,m,l,a),null),pt===null)throw Error(r(349));g||(Xs&124)!==0||ib(c,a,l)}return l}function ib(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ve.updateQueue,a===null?(a=Cy(),Ve.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function sb(i,a,l,c){a.value=l,a.getSnapshot=c,ob(a)&&lb(i)}function ab(i,a,l){return l(function(){ob(a)&&lb(i)})}function ob(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!dr(i,l)}catch{return!0}}function lb(i){var a=Vl(i,2);a!==null&&_r(a,i,2)}function Ny(i){var a=tr();if(typeof i=="function"){var l=i;if(i=l(),Io){jn(!0);try{l()}finally{jn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},a}function ub(i,a,l,c){return i.baseState=l,Py(i,lt,typeof c=="function"?c:us)}function KD(i,a,l,c,m){if(Xf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};ee.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,cb(a,g)):(g.next=l.next,a.pending=l.next=g)}}function cb(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var g=ee.T,w={};ee.T=w;try{var S=l(m,c),V=ee.S;V!==null&&V(w,S),hb(i,a,S)}catch($){Oy(i,a,$)}finally{ee.T=g}}else try{g=l(m,c),hb(i,a,g)}catch($){Oy(i,a,$)}}function hb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){db(i,a,c)},function(c){return Oy(i,a,c)}):db(i,a,l)}function db(i,a,l){a.status="fulfilled",a.value=l,fb(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,cb(i,l)))}function Oy(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,fb(a),a=a.next;while(a!==c)}i.action=null}function fb(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function mb(i,a){return a}function pb(i,a){if(Ze){var l=pt.formState;if(l!==null){e:{var c=Ve;if(Ze){if(Mt){t:{for(var m=Mt,g=mi;m.nodeType!==8;){if(!g){m=null;break t}if(m=Wr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Mt=Wr(m.nextSibling),c=m.data==="F!";break e}}bo(c)}c=!1}c&&(a=l[0])}}return l=tr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:a},l.queue=c,l=kb.bind(null,Ve,c),c.dispatch=l,c=Ny(!1),g=Uy.bind(null,Ve,!1,c.queue),c=tr(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=KD.bind(null,Ve,m,g,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function gb(i){var a=tn();return yb(a,lt,i)}function yb(i,a,l){if(a=Py(i,a,mb)[0],i=Qf(us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Wc(a)}catch(w){throw w===Hc?jf:w}else c=a;a=tn();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(Ve.flags|=2048,Hl(9,Yf(),QD.bind(null,m,l),null)),[c,g,i]}function QD(i,a){i.action=a}function _b(i){var a=tn(),l=lt;if(l!==null)return yb(a,l,i);tn(),a=a.memoizedState,l=tn();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Hl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ve.updateQueue,a===null&&(a=Cy(),Ve.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Yf(){return{destroy:void 0,resource:void 0}}function vb(){return tn().memoizedState}function Wf(i,a,l,c){var m=tr();c=c===void 0?null:c,Ve.flags|=i,m.memoizedState=Hl(1|a,Yf(),l,c)}function Xc(i,a,l,c){var m=tn();c=c===void 0?null:c;var g=m.memoizedState.inst;lt!==null&&c!==null&&wy(c,lt.memoizedState.deps)?m.memoizedState=Hl(a,g,l,c):(Ve.flags|=i,m.memoizedState=Hl(1|a,g,l,c))}function Eb(i,a){Wf(8390656,8,i,a)}function Tb(i,a){Xc(2048,8,i,a)}function bb(i,a){return Xc(4,2,i,a)}function wb(i,a){return Xc(4,4,i,a)}function Sb(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ab(i,a,l){l=l!=null?l.concat([i]):null,Xc(4,4,Sb.bind(null,a,i),l)}function ky(){}function Ib(i,a){var l=tn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&wy(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function Rb(i,a){var l=tn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&wy(a,c[1]))return c[0];if(c=i(),Io){jn(!0);try{i()}finally{jn(!1)}}return l.memoizedState=[c,a],c}function Vy(i,a,l){return l===void 0||(Xs&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Pw(),Ve.lanes|=i,ia|=i,l)}function Cb(i,a,l,c){return dr(l,a)?l:Fl.current!==null?(i=Vy(i,l,c),dr(i,a)||(yn=!0),i):(Xs&42)===0?(yn=!0,i.memoizedState=l):(i=Pw(),Ve.lanes|=i,ia|=i,a)}function xb(i,a,l,c,m){var g=de.p;de.p=g!==0&&8>g?g:8;var w=ee.T,S={};ee.T=S,Uy(i,!1,a,l);try{var V=m(),$=ee.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=HD(V,c);Jc(i,a,re,yr(i))}else Jc(i,a,c,yr(i))}catch(se){Jc(i,a,{then:function(){},status:"rejected",reason:se},yr())}finally{de.p=g,ee.T=w}}function YD(){}function My(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=Pb(i).queue;xb(i,m,a,_e,l===null?YD:function(){return Db(i),l(c)})}function Pb(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:_e},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Db(i){var a=Pb(i).next.queue;Jc(i,a,{},yr())}function Ly(){return Vn(gh)}function Nb(){return tn().memoizedState}function Ob(){return tn().memoizedState}function WD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=yr();i=Ys(l);var c=Ws(a,i,l);c!==null&&(_r(c,a,l),$c(c,a,l)),a={cache:fy()},i.payload=a;return}a=a.return}}function XD(i,a,l){var c=yr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xf(i)?Vb(a,l):(l=ry(i,a,l,c),l!==null&&(_r(l,i,c),Mb(l,a,c)))}function kb(i,a,l){var c=yr();Jc(i,a,l,c)}function Jc(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xf(i))Vb(a,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,S=g(w,l);if(m.hasEagerState=!0,m.eagerState=S,dr(S,w))return kf(i,a,m,0),pt===null&&Of(),!1}catch{}finally{}if(l=ry(i,a,m,c),l!==null)return _r(l,i,c),Mb(l,a,c),!0}return!1}function Uy(i,a,l,c){if(c={lane:2,revertLane:g_(),action:c,hasEagerState:!1,eagerState:null,next:null},Xf(i)){if(a)throw Error(r(479))}else a=ry(i,l,c,2),a!==null&&_r(a,i,2)}function Xf(i){var a=i.alternate;return i===Ve||a!==null&&a===Ve}function Vb(i,a){jl=Gf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Mb(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,eo(i,l)}}var Jf={readContext:Vn,use:Kf,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Lb={readContext:Vn,use:Kf,useCallback:function(i,a){return tr().memoizedState=[i,a===void 0?null:a],i},useContext:Vn,useEffect:Eb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Wf(4194308,4,Sb.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Wf(4194308,4,i,a)},useInsertionEffect:function(i,a){Wf(4,2,i,a)},useMemo:function(i,a){var l=tr();a=a===void 0?null:a;var c=i();if(Io){jn(!0);try{i()}finally{jn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=tr();if(l!==void 0){var m=l(a);if(Io){jn(!0);try{l(a)}finally{jn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=XD.bind(null,Ve,i),[c.memoizedState,i]},useRef:function(i){var a=tr();return i={current:i},a.memoizedState=i},useState:function(i){i=Ny(i);var a=i.queue,l=kb.bind(null,Ve,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:ky,useDeferredValue:function(i,a){var l=tr();return Vy(l,i,a)},useTransition:function(){var i=Ny(!1);return i=xb.bind(null,Ve,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ve,m=tr();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),pt===null)throw Error(r(349));(Ge&124)!==0||ib(c,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,Eb(ab.bind(null,c,g,i),[i]),c.flags|=2048,Hl(9,Yf(),sb.bind(null,c,g,l,a),null),l},useId:function(){var i=tr(),a=pt.identifierPrefix;if(Ze){var l=as,c=ss;l=(c&~(1<<32-fn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=$f++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=GD++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Ly,useFormState:pb,useActionState:pb,useOptimistic:function(i){var a=tr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Uy.bind(null,Ve,!0,l),l.dispatch=a,[i,a]},useMemoCache:xy,useCacheRefresh:function(){return tr().memoizedState=WD.bind(null,Ve)}},Ub={readContext:Vn,use:Kf,useCallback:Ib,useContext:Vn,useEffect:Tb,useImperativeHandle:Ab,useInsertionEffect:bb,useLayoutEffect:wb,useMemo:Rb,useReducer:Qf,useRef:vb,useState:function(){return Qf(us)},useDebugValue:ky,useDeferredValue:function(i,a){var l=tn();return Cb(l,lt.memoizedState,i,a)},useTransition:function(){var i=Qf(us)[0],a=tn().memoizedState;return[typeof i=="boolean"?i:Wc(i),a]},useSyncExternalStore:rb,useId:Nb,useHostTransitionStatus:Ly,useFormState:gb,useActionState:gb,useOptimistic:function(i,a){var l=tn();return ub(l,lt,i,a)},useMemoCache:xy,useCacheRefresh:Ob},JD={readContext:Vn,use:Kf,useCallback:Ib,useContext:Vn,useEffect:Tb,useImperativeHandle:Ab,useInsertionEffect:bb,useLayoutEffect:wb,useMemo:Rb,useReducer:Dy,useRef:vb,useState:function(){return Dy(us)},useDebugValue:ky,useDeferredValue:function(i,a){var l=tn();return lt===null?Vy(l,i,a):Cb(l,lt.memoizedState,i,a)},useTransition:function(){var i=Dy(us)[0],a=tn().memoizedState;return[typeof i=="boolean"?i:Wc(i),a]},useSyncExternalStore:rb,useId:Nb,useHostTransitionStatus:Ly,useFormState:_b,useActionState:_b,useOptimistic:function(i,a){var l=tn();return lt!==null?ub(l,lt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:xy,useCacheRefresh:Ob},Gl=null,Zc=0;function Zf(i){var a=Zc;return Zc+=1,Gl===null&&(Gl=[]),YT(Gl,i,a)}function eh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function em(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Bb(i){var a=i._init;return a(i._payload)}function zb(i){function a(j,U){if(i){var G=j.deletions;G===null?(j.deletions=[U],j.flags|=16):G.push(U)}}function l(j,U){if(!i)return null;for(;U!==null;)a(j,U),U=U.sibling;return null}function c(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function m(j,U){return j=is(j,U),j.index=0,j.sibling=null,j}function g(j,U,G){return j.index=G,i?(G=j.alternate,G!==null?(G=G.index,G<U?(j.flags|=67108866,U):G):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function w(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function S(j,U,G,ie){return U===null||U.tag!==6?(U=sy(G,j.mode,ie),U.return=j,U):(U=m(U,G),U.return=j,U)}function V(j,U,G,ie){var Ee=G.type;return Ee===C?re(j,U,G.props.children,ie,G.key):U!==null&&(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Bb(Ee)===U.type)?(U=m(U,G.props),eh(U,G),U.return=j,U):(U=Mf(G.type,G.key,G.props,null,j.mode,ie),eh(U,G),U.return=j,U)}function $(j,U,G,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=ay(G,j.mode,ie),U.return=j,U):(U=m(U,G.children||[]),U.return=j,U)}function re(j,U,G,ie,Ee){return U===null||U.tag!==7?(U=_o(G,j.mode,ie,Ee),U.return=j,U):(U=m(U,G),U.return=j,U)}function se(j,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=sy(""+U,j.mode,G),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return G=Mf(U.type,U.key,U.props,null,j.mode,G),eh(G,U),G.return=j,G;case R:return U=ay(U,j.mode,G),U.return=j,U;case x:var ie=U._init;return U=ie(U._payload),se(j,U,G)}if(ke(U)||M(U))return U=_o(U,j.mode,G,null),U.return=j,U;if(typeof U.then=="function")return se(j,Zf(U),G);if(U.$$typeof===F)return se(j,zf(j,U),G);em(j,U)}return null}function Q(j,U,G,ie){var Ee=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:S(j,U,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===Ee?V(j,U,G,ie):null;case R:return G.key===Ee?$(j,U,G,ie):null;case x:return Ee=G._init,G=Ee(G._payload),Q(j,U,G,ie)}if(ke(G)||M(G))return Ee!==null?null:re(j,U,G,ie,null);if(typeof G.then=="function")return Q(j,U,Zf(G),ie);if(G.$$typeof===F)return Q(j,U,zf(j,G),ie);em(j,G)}return null}function W(j,U,G,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(G)||null,S(U,j,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return j=j.get(ie.key===null?G:ie.key)||null,V(U,j,ie,Ee);case R:return j=j.get(ie.key===null?G:ie.key)||null,$(U,j,ie,Ee);case x:var Me=ie._init;return ie=Me(ie._payload),W(j,U,G,ie,Ee)}if(ke(ie)||M(ie))return j=j.get(G)||null,re(U,j,ie,Ee,null);if(typeof ie.then=="function")return W(j,U,G,Zf(ie),Ee);if(ie.$$typeof===F)return W(j,U,G,zf(U,ie),Ee);em(U,ie)}return null}function xe(j,U,G,ie){for(var Ee=null,Me=null,we=U,Re=U=0,vn=null;we!==null&&Re<G.length;Re++){we.index>Re?(vn=we,we=null):vn=we.sibling;var Qe=Q(j,we,G[Re],ie);if(Qe===null){we===null&&(we=vn);break}i&&we&&Qe.alternate===null&&a(j,we),U=g(Qe,U,Re),Me===null?Ee=Qe:Me.sibling=Qe,Me=Qe,we=vn}if(Re===G.length)return l(j,we),Ze&&Eo(j,Re),Ee;if(we===null){for(;Re<G.length;Re++)we=se(j,G[Re],ie),we!==null&&(U=g(we,U,Re),Me===null?Ee=we:Me.sibling=we,Me=we);return Ze&&Eo(j,Re),Ee}for(we=c(we);Re<G.length;Re++)vn=W(we,j,Re,G[Re],ie),vn!==null&&(i&&vn.alternate!==null&&we.delete(vn.key===null?Re:vn.key),U=g(vn,U,Re),Me===null?Ee=vn:Me.sibling=vn,Me=vn);return i&&we.forEach(function(fa){return a(j,fa)}),Ze&&Eo(j,Re),Ee}function Ie(j,U,G,ie){if(G==null)throw Error(r(151));for(var Ee=null,Me=null,we=U,Re=U=0,vn=null,Qe=G.next();we!==null&&!Qe.done;Re++,Qe=G.next()){we.index>Re?(vn=we,we=null):vn=we.sibling;var fa=Q(j,we,Qe.value,ie);if(fa===null){we===null&&(we=vn);break}i&&we&&fa.alternate===null&&a(j,we),U=g(fa,U,Re),Me===null?Ee=fa:Me.sibling=fa,Me=fa,we=vn}if(Qe.done)return l(j,we),Ze&&Eo(j,Re),Ee;if(we===null){for(;!Qe.done;Re++,Qe=G.next())Qe=se(j,Qe.value,ie),Qe!==null&&(U=g(Qe,U,Re),Me===null?Ee=Qe:Me.sibling=Qe,Me=Qe);return Ze&&Eo(j,Re),Ee}for(we=c(we);!Qe.done;Re++,Qe=G.next())Qe=W(we,j,Re,Qe.value,ie),Qe!==null&&(i&&Qe.alternate!==null&&we.delete(Qe.key===null?Re:Qe.key),U=g(Qe,U,Re),Me===null?Ee=Qe:Me.sibling=Qe,Me=Qe);return i&&we.forEach(function(Z2){return a(j,Z2)}),Ze&&Eo(j,Re),Ee}function ct(j,U,G,ie){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var Ee=G.key;U!==null;){if(U.key===Ee){if(Ee=G.type,Ee===C){if(U.tag===7){l(j,U.sibling),ie=m(U,G.props.children),ie.return=j,j=ie;break e}}else if(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Bb(Ee)===U.type){l(j,U.sibling),ie=m(U,G.props),eh(ie,G),ie.return=j,j=ie;break e}l(j,U);break}else a(j,U);U=U.sibling}G.type===C?(ie=_o(G.props.children,j.mode,ie,G.key),ie.return=j,j=ie):(ie=Mf(G.type,G.key,G.props,null,j.mode,ie),eh(ie,G),ie.return=j,j=ie)}return w(j);case R:e:{for(Ee=G.key;U!==null;){if(U.key===Ee)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(j,U.sibling),ie=m(U,G.children||[]),ie.return=j,j=ie;break e}else{l(j,U);break}else a(j,U);U=U.sibling}ie=ay(G,j.mode,ie),ie.return=j,j=ie}return w(j);case x:return Ee=G._init,G=Ee(G._payload),ct(j,U,G,ie)}if(ke(G))return xe(j,U,G,ie);if(M(G)){if(Ee=M(G),typeof Ee!="function")throw Error(r(150));return G=Ee.call(G),Ie(j,U,G,ie)}if(typeof G.then=="function")return ct(j,U,Zf(G),ie);if(G.$$typeof===F)return ct(j,U,zf(j,G),ie);em(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(j,U.sibling),ie=m(U,G),ie.return=j,j=ie):(l(j,U),ie=sy(G,j.mode,ie),ie.return=j,j=ie),w(j)):l(j,U)}return function(j,U,G,ie){try{Zc=0;var Ee=ct(j,U,G,ie);return Gl=null,Ee}catch(we){if(we===Hc||we===jf)throw we;var Me=fr(29,we,null,j.mode);return Me.lanes=ie,Me.return=j,Me}finally{}}}var $l=zb(!0),Fb=zb(!1),Mr=oe(null),pi=null;function Js(i){var a=i.alternate;he(cn,cn.current&1),he(Mr,i),pi===null&&(a===null||Fl.current!==null||a.memoizedState!==null)&&(pi=i)}function jb(i){if(i.tag===22){if(he(cn,cn.current),he(Mr,i),pi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(pi=i)}}else Zs()}function Zs(){he(cn,cn.current),he(Mr,Mr.current)}function cs(i){pe(Mr),pi===i&&(pi=null),pe(cn)}var cn=oe(0);function tm(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||C_(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function By(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zy={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=yr(),m=Ys(c);m.payload=a,l!=null&&(m.callback=l),a=Ws(i,m,c),a!==null&&(_r(a,i,c),$c(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=yr(),m=Ys(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Ws(i,m,c),a!==null&&(_r(a,i,c),$c(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=yr(),c=Ys(l);c.tag=2,a!=null&&(c.callback=a),a=Ws(i,c,l),a!==null&&(_r(a,i,l),$c(a,i,l))}};function qb(i,a,l,c,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):a.prototype&&a.prototype.isPureReactComponent?!Mc(l,c)||!Mc(m,g):!0}function Hb(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&zy.enqueueReplaceState(a,a.state,null)}function Ro(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var nm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Gb(i){nm(i)}function $b(i){console.error(i)}function Kb(i){nm(i)}function rm(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Qb(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Fy(i,a,l){return l=Ys(l),l.tag=3,l.payload={element:null},l.callback=function(){rm(i,a)},l}function Yb(i){return i=Ys(i),i.tag=3,i}function Wb(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){Qb(a,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Qb(a,l,c),typeof m!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function ZD(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Fc(a,l,m,!0),l=Mr.current,l!==null){switch(l.tag){case 13:return pi===null?h_():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===gy?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),f_(i,c,m)),!1;case 22:return l.flags|=65536,c===gy?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),f_(i,c,m)),!1}throw Error(r(435,l.tag))}return f_(i,c,m),h_(),!1}if(Ze)return a=Mr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==uy&&(i=Error(r(422),{cause:c}),zc(Nr(i,l)))):(c!==uy&&(a=Error(r(423),{cause:c}),zc(Nr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Nr(c,l),m=Fy(i.stateNode,c,m),vy(i,m),Lt!==4&&(Lt=2)),!1;var g=Error(r(520),{cause:c});if(g=Nr(g,l),oh===null?oh=[g]:oh.push(g),Lt!==4&&(Lt=2),a===null)return!0;c=Nr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Fy(l.stateNode,c,i),vy(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Yb(m),Wb(m,i,l,c),vy(l,m),!1}l=l.return}while(l!==null);return!1}var Xb=Error(r(461)),yn=!1;function An(i,a,l,c){a.child=i===null?Fb(a,null,l,c):$l(a,i.child,l,c)}function Jb(i,a,l,c,m){l=l.render;var g=a.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return So(a),c=Sy(i,a,l,w,g,m),S=Ay(),i!==null&&!yn?(Iy(i,a,m),hs(i,a,m)):(Ze&&S&&oy(a),a.flags|=1,An(i,a,c,m),a.child)}function Zb(i,a,l,c,m){if(i===null){var g=l.type;return typeof g=="function"&&!iy(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,ew(i,a,g,c,m)):(i=Mf(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!Yy(i,m)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Mc,l(w,c)&&i.ref===a.ref)return hs(i,a,m)}return a.flags|=1,i=is(g,c),i.ref=a.ref,i.return=a,a.child=i}function ew(i,a,l,c,m){if(i!==null){var g=i.memoizedProps;if(Mc(g,c)&&i.ref===a.ref)if(yn=!1,a.pendingProps=c=g,Yy(i,m))(i.flags&131072)!==0&&(yn=!0);else return a.lanes=i.lanes,hs(i,a,m)}return jy(i,a,l,c,m)}function tw(i,a,l){var c=a.pendingProps,m=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(m=a.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return nw(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ff(a,g!==null?g.cachePool:null),g!==null?eb(a,g):Ty(),jb(a);else return a.lanes=a.childLanes=536870912,nw(i,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(Ff(a,g.cachePool),eb(a,g),Zs(),a.memoizedState=null):(i!==null&&Ff(a,null),Ty(),Zs());return An(i,a,m,l),a.child}function nw(i,a,l,c){var m=py();return m=m===null?null:{parent:un._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&Ff(a,null),Ty(),jb(a),i!==null&&Fc(i,a,c,!0),null}function im(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function jy(i,a,l,c,m){return So(a),l=Sy(i,a,l,c,void 0,m),c=Ay(),i!==null&&!yn?(Iy(i,a,m),hs(i,a,m)):(Ze&&c&&oy(a),a.flags|=1,An(i,a,l,m),a.child)}function rw(i,a,l,c,m,g){return So(a),a.updateQueue=null,l=nb(a,c,l,m),tb(i),c=Ay(),i!==null&&!yn?(Iy(i,a,g),hs(i,a,g)):(Ze&&c&&oy(a),a.flags|=1,An(i,a,l,g),a.child)}function iw(i,a,l,c,m){if(So(a),a.stateNode===null){var g=Ml,w=l.contextType;typeof w=="object"&&w!==null&&(g=Vn(w)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=zy,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},yy(a),w=l.contextType,g.context=typeof w=="object"&&w!==null?Vn(w):Ml,g.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(By(a,l,w,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&zy.enqueueReplaceState(g,g.state,null),Qc(a,c,g,m),Kc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var S=a.memoizedProps,V=Ro(l,S);g.props=V;var $=g.context,re=l.contextType;w=Ml,typeof re=="object"&&re!==null&&(w=Vn(re));var se=l.getDerivedStateFromProps;re=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==w)&&Hb(a,g,c,w),Qs=!1;var Q=a.memoizedState;g.state=Q,Qc(a,c,g,m),Kc(),$=a.memoizedState,S||Q!==$||Qs?(typeof se=="function"&&(By(a,l,se,c),$=a.memoizedState),(V=Qs||qb(a,l,V,c,Q,$,w))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=$),g.props=c,g.state=$,g.context=w,c=V):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,_y(i,a),w=a.memoizedProps,re=Ro(l,w),g.props=re,se=a.pendingProps,Q=g.context,$=l.contextType,V=Ml,typeof $=="object"&&$!==null&&(V=Vn($)),S=l.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==se||Q!==V)&&Hb(a,g,c,V),Qs=!1,Q=a.memoizedState,g.state=Q,Qc(a,c,g,m),Kc();var W=a.memoizedState;w!==se||Q!==W||Qs||i!==null&&i.dependencies!==null&&Bf(i.dependencies)?(typeof S=="function"&&(By(a,l,S,c),W=a.memoizedState),(re=Qs||qb(a,l,re,c,Q,W,V)||i!==null&&i.dependencies!==null&&Bf(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,V)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),g.props=c,g.state=W,g.context=V,c=re):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,im(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=$l(a,i.child,null,m),a.child=$l(a,null,l,m)):An(i,a,l,m),a.memoizedState=g.state,i=a.child):i=hs(i,a,m),i}function sw(i,a,l,c){return Bc(),a.flags|=256,An(i,a,l,c),a.child}var qy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hy(i){return{baseLanes:i,cachePool:$T()}}function Gy(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Lr),i}function aw(i,a,l){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(cn.current&2)!==0),w&&(m=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ze){if(m?Js(a):Zs(),Ze){var S=Mt,V;if(V=S){e:{for(V=S,S=mi;V.nodeType!==8;){if(!S){S=null;break e}if(V=Wr(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(a.memoizedState={dehydrated:S,treeContext:vo!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},V=fr(18,null,null,0),V.stateNode=S,V.return=a,a.child=V,Kn=a,Mt=null,V=!0):V=!1}V||bo(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return C_(S)?a.lanes=32:a.lanes=536870912,null;cs(a)}return S=c.children,c=c.fallback,m?(Zs(),m=a.mode,S=sm({mode:"hidden",children:S},m),c=_o(c,m,l,null),S.return=a,c.return=a,S.sibling=c,a.child=S,m=a.child,m.memoizedState=Hy(l),m.childLanes=Gy(i,w,l),a.memoizedState=qy,c):(Js(a),$y(a,S))}if(V=i.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(g)a.flags&256?(Js(a),a.flags&=-257,a=Ky(i,a,l)):a.memoizedState!==null?(Zs(),a.child=i.child,a.flags|=128,a=null):(Zs(),m=c.fallback,S=a.mode,c=sm({mode:"visible",children:c.children},S),m=_o(m,S,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,$l(a,i.child,null,l),c=a.child,c.memoizedState=Hy(l),c.childLanes=Gy(i,w,l),a.memoizedState=qy,a=m);else if(Js(a),C_(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(r(419)),c.stack="",c.digest=w,zc({value:c,source:null,stack:null}),a=Ky(i,a,l)}else if(yn||Fc(i,a,l,!1),w=(l&i.childLanes)!==0,yn||w){if(w=pt,w!==null&&(c=l&-l,c=(c&42)!==0?1:zs(c),c=(c&(w.suspendedLanes|l))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Vl(i,c),_r(w,i,c),Xb;S.data==="$?"||h_(),a=Ky(i,a,l)}else S.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,Mt=Wr(S.nextSibling),Kn=a,Ze=!0,To=null,mi=!1,i!==null&&(kr[Vr++]=ss,kr[Vr++]=as,kr[Vr++]=vo,ss=i.id,as=i.overflow,vo=a),a=$y(a,c.children),a.flags|=4096);return a}return m?(Zs(),m=c.fallback,S=a.mode,V=i.child,$=V.sibling,c=is(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,$!==null?m=is($,m):(m=_o(m,S,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,S=i.child.memoizedState,S===null?S=Hy(l):(V=S.cachePool,V!==null?($=un._currentValue,V=V.parent!==$?{parent:$,pool:$}:V):V=$T(),S={baseLanes:S.baseLanes|l,cachePool:V}),m.memoizedState=S,m.childLanes=Gy(i,w,l),a.memoizedState=qy,c):(Js(a),l=i.child,i=l.sibling,l=is(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=l,a.memoizedState=null,l)}function $y(i,a){return a=sm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function sm(i,a){return i=fr(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ky(i,a,l){return $l(a,i.child,null,l),i=$y(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function ow(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),hy(i.return,a,l)}function Qy(i,a,l,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=m)}function lw(i,a,l){var c=a.pendingProps,m=c.revealOrder,g=c.tail;if(An(i,a,c.children,l),c=cn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ow(i,l,a);else if(i.tag===19)ow(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(he(cn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&tm(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Qy(a,!1,m,l,g);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&tm(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Qy(a,!0,l,null,g);break;case"together":Qy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hs(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ia|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Fc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=is(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=is(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Yy(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Bf(i)))}function e2(i,a,l){switch(a.tag){case 3:Ke(a,a.stateNode.containerInfo),Ks(a,un,i.memoizedState.cache),Bc();break;case 27:case 5:Hr(a);break;case 4:Ke(a,a.stateNode.containerInfo);break;case 10:Ks(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Js(a),a.flags|=128,null):(l&a.child.childLanes)!==0?aw(i,a,l):(Js(a),i=hs(i,a,l),i!==null?i.sibling:null);Js(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Fc(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return lw(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(cn,cn.current),c)break;return null;case 22:case 23:return a.lanes=0,tw(i,a,l);case 24:Ks(a,un,i.memoizedState.cache)}return hs(i,a,l)}function uw(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)yn=!0;else{if(!Yy(i,l)&&(a.flags&128)===0)return yn=!1,e2(i,a,l);yn=(i.flags&131072)!==0}else yn=!1,Ze&&(a.flags&1048576)!==0&&BT(a,Uf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")iy(c)?(i=Ro(c,i),a.tag=1,a=iw(null,a,c,i,l)):(a.tag=0,a=jy(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===Z){a.tag=11,a=Jb(null,a,c,i,l);break e}else if(m===P){a.tag=14,a=Zb(null,a,c,i,l);break e}}throw a=Oe(c)||c,Error(r(306,a,""))}}return a;case 0:return jy(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Ro(c,a.pendingProps),iw(i,a,c,m,l);case 3:e:{if(Ke(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var g=a.memoizedState;m=g.element,_y(i,a),Qc(a,c,null,l);var w=a.memoizedState;if(c=w.cache,Ks(a,un,c),c!==g.cache&&dy(a,[un],l,!0),Kc(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=sw(i,a,c,l);break e}else if(c!==m){m=Nr(Error(r(424)),a),zc(m),a=sw(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Mt=Wr(i.firstChild),Kn=a,Ze=!0,To=null,mi=!0,l=Fb(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Bc(),c===m){a=hs(i,a,l);break e}An(i,a,c,l)}a=a.child}return a;case 26:return im(i,a),i===null?(l=fS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,i=a.pendingProps,c=vm(ve.current).createElement(l),c[an]=a,c[Jt]=i,Rn(c,l,i),Ht(c),a.stateNode=c):a.memoizedState=fS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Hr(a),i===null&&Ze&&(c=a.stateNode=cS(a.type,a.pendingProps,ve.current),Kn=a,mi=!0,m=Mt,la(a.type)?(x_=m,Mt=Wr(c.firstChild)):Mt=m),An(i,a,a.pendingProps.children,l),im(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ze&&((m=c=Mt)&&(c=C2(c,a.type,a.pendingProps,mi),c!==null?(a.stateNode=c,Kn=a,Mt=Wr(c.firstChild),mi=!1,m=!0):m=!1),m||bo(a)),Hr(a),m=a.type,g=a.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,A_(m,g)?c=null:w!==null&&A_(m,w)&&(a.flags|=32),a.memoizedState!==null&&(m=Sy(i,a,$D,null,null,l),gh._currentValue=m),im(i,a),An(i,a,c,l),a.child;case 6:return i===null&&Ze&&((i=l=Mt)&&(l=x2(l,a.pendingProps,mi),l!==null?(a.stateNode=l,Kn=a,Mt=null,i=!0):i=!1),i||bo(a)),null;case 13:return aw(i,a,l);case 4:return Ke(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=$l(a,null,c,l):An(i,a,c,l),a.child;case 11:return Jb(i,a,a.type,a.pendingProps,l);case 7:return An(i,a,a.pendingProps,l),a.child;case 8:return An(i,a,a.pendingProps.children,l),a.child;case 12:return An(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ks(a,a.type,c.value),An(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,So(a),m=Vn(m),c=c(m),a.flags|=1,An(i,a,c,l),a.child;case 14:return Zb(i,a,a.type,a.pendingProps,l);case 15:return ew(i,a,a.type,a.pendingProps,l);case 19:return lw(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=sm(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=is(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return tw(i,a,l);case 24:return So(a),c=Vn(un),i===null?(m=py(),m===null&&(m=pt,g=fy(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:c,cache:m},yy(a),Ks(a,un,m)):((i.lanes&l)!==0&&(_y(i,a),Qc(a,null,null,l),Kc()),m=i.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ks(a,un,c)):(c=g.cache,Ks(a,un,c),c!==m.cache&&dy(a,[un],l,!0))),An(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ds(i){i.flags|=4}function cw(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_S(a)){if(a=Mr.current,a!==null&&((Ge&4194048)===Ge?pi!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||a!==pi))throw Gc=gy,KT;i.flags|=8192}}function am(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?bt():536870912,i.lanes|=a,Wl|=a)}function th(i,a){if(!Ze)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Dt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function t2(i,a,l){var c=a.pendingProps;switch(ly(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ls(un),Zn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Uc(a)?ds(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jT())),Dt(a),null;case 26:return l=a.memoizedState,i===null?(ds(a),l!==null?(Dt(a),cw(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(ds(a),Dt(a),cw(a,l)):(Dt(a),a.flags&=-16777217):(i.memoizedProps!==c&&ds(a),Dt(a),a.flags&=-16777217),null;case 27:Et(a),l=ve.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ds(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}i=Se.current,Uc(a)?zT(a):(i=cS(m,c,l),a.stateNode=i,ds(a))}return Dt(a),null;case 5:if(Et(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ds(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(i=Se.current,Uc(a))zT(a);else{switch(m=vm(ve.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[an]=a,i[Jt]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Rn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ds(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&ds(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=ve.current,Uc(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=Kn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[an]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||rS(i.nodeValue,l)),i||bo(a)}else i=vm(i).createTextNode(c),i[an]=a,a.stateNode=i}return Dt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Uc(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[an]=a}else Bc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),m=!1}else m=jT(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(cs(a),a):(cs(a),null)}if(cs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),am(a,a.updateQueue),Dt(a),null;case 4:return Zn(),i===null&&E_(a.stateNode.containerInfo),Dt(a),null;case 10:return ls(a.type),Dt(a),null;case 19:if(pe(cn),m=a.memoizedState,m===null)return Dt(a),null;if(c=(a.flags&128)!==0,g=m.rendering,g===null)if(c)th(m,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=tm(i),g!==null){for(a.flags|=128,th(m,!1),i=g.updateQueue,a.updateQueue=i,am(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)UT(l,i),l=l.sibling;return he(cn,cn.current&1|2),a.child}i=i.sibling}m.tail!==null&&On()>um&&(a.flags|=128,c=!0,th(m,!1),a.lanes=4194304)}else{if(!c)if(i=tm(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,am(a,i),th(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Ze)return Dt(a),null}else 2*On()-m.renderingStartTime>um&&l!==536870912&&(a.flags|=128,c=!0,th(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(i=m.last,i!==null?i.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=On(),a.sibling=null,i=cn.current,he(cn,c?i&1|2:i&1),a):(Dt(a),null);case 22:case 23:return cs(a),by(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&am(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&pe(Ao),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ls(un),Dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function n2(i,a){switch(ly(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ls(un),Zn(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Et(a),null;case 13:if(cs(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Bc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return pe(cn),null;case 4:return Zn(),null;case 10:return ls(a.type),null;case 22:case 23:return cs(a),by(),i!==null&&pe(Ao),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ls(un),null;case 25:return null;default:return null}}function hw(i,a){switch(ly(a),a.tag){case 3:ls(un),Zn();break;case 26:case 27:case 5:Et(a);break;case 4:Zn();break;case 13:cs(a);break;case 19:pe(cn);break;case 10:ls(a.type);break;case 22:case 23:cs(a),by(),i!==null&&pe(Ao);break;case 24:ls(un)}}function nh(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var g=l.create,w=l.inst;c=g(),w.destroy=c}l=l.next}while(l!==m)}}catch(S){dt(a,a.return,S)}}function ea(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,m=a;var V=l,$=S;try{$()}catch(re){dt(m,V,re)}}}c=c.next}while(c!==g)}}catch(re){dt(a,a.return,re)}}function dw(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{ZT(a,l)}catch(c){dt(i,i.return,c)}}}function fw(i,a,l){l.props=Ro(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){dt(i,a,c)}}function rh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){dt(i,a,m)}}function gi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(i,a,m)}else l.current=null}function mw(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(i,i.return,m)}}function Wy(i,a,l){try{var c=i.stateNode;w2(c,i.type,l,a),c[Jt]=a}catch(m){dt(i,i.return,m)}}function pw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&la(i.type)||i.tag===4}function Xy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&la(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jy(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=_m));else if(c!==4&&(c===27&&la(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Jy(i,a,l),i=i.sibling;i!==null;)Jy(i,a,l),i=i.sibling}function om(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&la(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(om(i,a,l),i=i.sibling;i!==null;)om(i,a,l),i=i.sibling}function gw(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Rn(a,c,l),a[an]=i,a[Jt]=l}catch(g){dt(i,i.return,g)}}var fs=!1,$t=!1,Zy=!1,yw=typeof WeakSet=="function"?WeakSet:Set,_n=null;function r2(i,a){if(i=i.containerInfo,w_=Am,i=CT(i),Xg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,S=-1,V=-1,$=0,re=0,se=i,Q=null;t:for(;;){for(var W;se!==l||m!==0&&se.nodeType!==3||(S=w+m),se!==g||c!==0&&se.nodeType!==3||(V=w+c),se.nodeType===3&&(w+=se.nodeValue.length),(W=se.firstChild)!==null;)Q=se,se=W;for(;;){if(se===i)break t;if(Q===l&&++$===m&&(S=w),Q===g&&++re===c&&(V=w),(W=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=W}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(S_={focusedElem:i,selectionRange:l},Am=!1,_n=a;_n!==null;)if(a=_n,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,_n=i;else for(;_n!==null;){switch(a=_n,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var xe=Ro(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(xe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){dt(l,l.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)R_(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":R_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,_n=i;break}_n=a.return}}function _w(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ta(i,l),c&4&&nh(5,l);break;case 1:if(ta(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(w){dt(l,l.return,w)}else{var m=Ro(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){dt(l,l.return,w)}}c&64&&dw(l),c&512&&rh(l,l.return);break;case 3:if(ta(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ZT(i,a)}catch(w){dt(l,l.return,w)}}break;case 27:a===null&&c&4&&gw(l);case 26:case 5:ta(i,l),a===null&&c&4&&mw(l),c&512&&rh(l,l.return);break;case 12:ta(i,l);break;case 13:ta(i,l),c&4&&Tw(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=d2.bind(null,l),P2(i,l))));break;case 22:if(c=l.memoizedState!==null||fs,!c){a=a!==null&&a.memoizedState!==null||$t,m=fs;var g=$t;fs=c,($t=a)&&!g?na(i,l,(l.subtreeFlags&8772)!==0):ta(i,l),fs=m,$t=g}break;case 30:break;default:ta(i,l)}}function vw(i){var a=i.alternate;a!==null&&(i.alternate=null,vw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&qs(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var St=null,nr=!1;function ms(i,a,l){for(l=l.child;l!==null;)Ew(i,a,l),l=l.sibling}function Ew(i,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(_t,l)}catch{}switch(l.tag){case 26:$t||gi(l,a),ms(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||gi(l,a);var c=St,m=nr;la(l.type)&&(St=l.stateNode,nr=!1),ms(i,a,l),dh(l.stateNode),St=c,nr=m;break;case 5:$t||gi(l,a);case 6:if(c=St,m=nr,St=null,ms(i,a,l),St=c,nr=m,St!==null)if(nr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(g){dt(l,a,g)}else try{St.removeChild(l.stateNode)}catch(g){dt(l,a,g)}break;case 18:St!==null&&(nr?(i=St,lS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Eh(i)):lS(St,l.stateNode));break;case 4:c=St,m=nr,St=l.stateNode.containerInfo,nr=!0,ms(i,a,l),St=c,nr=m;break;case 0:case 11:case 14:case 15:$t||ea(2,l,a),$t||ea(4,l,a),ms(i,a,l);break;case 1:$t||(gi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&fw(l,a,c)),ms(i,a,l);break;case 21:ms(i,a,l);break;case 22:$t=(c=$t)||l.memoizedState!==null,ms(i,a,l),$t=c;break;default:ms(i,a,l)}}function Tw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eh(i)}catch(l){dt(a,a.return,l)}}function i2(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new yw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new yw),a;default:throw Error(r(435,i.tag))}}function e_(i,a){var l=i2(i);a.forEach(function(c){var m=f2.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function mr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=i,w=a,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(la(S.type)){St=S.stateNode,nr=!1;break e}break;case 5:St=S.stateNode,nr=!1;break e;case 3:case 4:St=S.stateNode.containerInfo,nr=!0;break e}S=S.return}if(St===null)throw Error(r(160));Ew(g,w,m),St=null,nr=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)bw(a,i),a=a.sibling}var Yr=null;function bw(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mr(a,i),pr(i),c&4&&(ea(3,i,i.return),nh(3,i),ea(5,i,i.return));break;case 1:mr(a,i),pr(i),c&512&&($t||l===null||gi(l,l.return)),c&64&&fs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Yr;if(mr(a,i),pr(i),c&512&&($t||l===null||gi(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[to]||g[an]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Rn(g,c,l),g[an]=i,Ht(g),c=g;break e;case"link":var w=gS("link","href",m).get(c+(l.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(S,1);break t}}g=m.createElement(c),Rn(g,c,l),m.head.appendChild(g);break;case"meta":if(w=gS("meta","content",m).get(c+(l.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(S,1);break t}}g=m.createElement(c),Rn(g,c,l),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[an]=i,Ht(g),c=g}i.stateNode=c}else yS(m,i.type,i.stateNode);else i.stateNode=pS(m,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?yS(m,i.type,i.stateNode):pS(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Wy(i,i.memoizedProps,l.memoizedProps)}break;case 27:mr(a,i),pr(i),c&512&&($t||l===null||gi(l,l.return)),l!==null&&c&4&&Wy(i,i.memoizedProps,l.memoizedProps);break;case 5:if(mr(a,i),pr(i),c&512&&($t||l===null||gi(l,l.return)),i.flags&32){m=i.stateNode;try{Cr(m,"")}catch(W){dt(i,i.return,W)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Wy(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Zy=!0);break;case 6:if(mr(a,i),pr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(W){dt(i,i.return,W)}}break;case 3:if(bm=null,m=Yr,Yr=Em(a.containerInfo),mr(a,i),Yr=m,pr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Eh(a.containerInfo)}catch(W){dt(i,i.return,W)}Zy&&(Zy=!1,ww(i));break;case 4:c=Yr,Yr=Em(i.stateNode.containerInfo),mr(a,i),pr(i),Yr=c;break;case 12:mr(a,i),pr(i);break;case 13:mr(a,i),pr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(a_=On()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,e_(i,c)));break;case 22:m=i.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,$=fs,re=$t;if(fs=$||m,$t=re||V,mr(a,i),$t=re,fs=$,pr(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||V||fs||$t||Co(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=V.stateNode;var se=V.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(W){dt(V,V.return,W)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(W){dt(V,V.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,e_(i,l))));break;case 19:mr(a,i),pr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,e_(i,c)));break;case 30:break;case 21:break;default:mr(a,i),pr(i)}}function pr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(pw(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=Xy(i);om(i,g,m);break;case 5:var w=l.stateNode;l.flags&32&&(Cr(w,""),l.flags&=-33);var S=Xy(i);om(i,S,w);break;case 3:case 4:var V=l.stateNode.containerInfo,$=Xy(i);Jy(i,$,V);break;default:throw Error(r(161))}}catch(re){dt(i,i.return,re)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ww(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;ww(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ta(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)_w(i,a.alternate,a),a=a.sibling}function Co(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ea(4,a,a.return),Co(a);break;case 1:gi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&fw(a,a.return,l),Co(a);break;case 27:dh(a.stateNode);case 26:case 5:gi(a,a.return),Co(a);break;case 22:a.memoizedState===null&&Co(a);break;case 30:Co(a);break;default:Co(a)}i=i.sibling}}function na(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:na(m,g,l),nh(4,g);break;case 1:if(na(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){dt(c,c.return,$)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)JT(V[m],S)}catch($){dt(c,c.return,$)}}l&&w&64&&dw(g),rh(g,g.return);break;case 27:gw(g);case 26:case 5:na(m,g,l),l&&c===null&&w&4&&mw(g),rh(g,g.return);break;case 12:na(m,g,l);break;case 13:na(m,g,l),l&&w&4&&Tw(m,g);break;case 22:g.memoizedState===null&&na(m,g,l),rh(g,g.return);break;case 30:break;default:na(m,g,l)}a=a.sibling}}function t_(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&jc(l))}function n_(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&jc(i))}function yi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Sw(i,a,l,c),a=a.sibling}function Sw(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:yi(i,a,l,c),m&2048&&nh(9,a);break;case 1:yi(i,a,l,c);break;case 3:yi(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&jc(i)));break;case 12:if(m&2048){yi(i,a,l,c),i=a.stateNode;try{var g=a.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){dt(a,a.return,V)}}else yi(i,a,l,c);break;case 13:yi(i,a,l,c);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?yi(i,a,l,c):ih(i,a):g._visibility&2?yi(i,a,l,c):(g._visibility|=2,Kl(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&t_(w,a);break;case 24:yi(i,a,l,c),m&2048&&n_(a.alternate,a);break;default:yi(i,a,l,c)}}function Kl(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,w=a,S=l,V=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:Kl(g,w,S,V,m),nh(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Kl(g,w,S,V,m):ih(g,w):(re._visibility|=2,Kl(g,w,S,V,m)),m&&$&2048&&t_(w.alternate,w);break;case 24:Kl(g,w,S,V,m),m&&$&2048&&n_(w.alternate,w);break;default:Kl(g,w,S,V,m)}a=a.sibling}}function ih(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:ih(l,c),m&2048&&t_(c.alternate,c);break;case 24:ih(l,c),m&2048&&n_(c.alternate,c);break;default:ih(l,c)}a=a.sibling}}var sh=8192;function Ql(i){if(i.subtreeFlags&sh)for(i=i.child;i!==null;)Aw(i),i=i.sibling}function Aw(i){switch(i.tag){case 26:Ql(i),i.flags&sh&&i.memoizedState!==null&&q2(Yr,i.memoizedState,i.memoizedProps);break;case 5:Ql(i);break;case 3:case 4:var a=Yr;Yr=Em(i.stateNode.containerInfo),Ql(i),Yr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=sh,sh=16777216,Ql(i),sh=a):Ql(i));break;default:Ql(i)}}function Iw(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ah(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];_n=c,Cw(c,i)}Iw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rw(i),i=i.sibling}function Rw(i){switch(i.tag){case 0:case 11:case 15:ah(i),i.flags&2048&&ea(9,i,i.return);break;case 3:ah(i);break;case 12:ah(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,lm(i)):ah(i);break;default:ah(i)}}function lm(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];_n=c,Cw(c,i)}Iw(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ea(8,a,a.return),lm(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,lm(a));break;default:lm(a)}i=i.sibling}}function Cw(i,a){for(;_n!==null;){var l=_n;switch(l.tag){case 0:case 11:case 15:ea(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:jc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,_n=c;else e:for(l=i;_n!==null;){c=_n;var m=c.sibling,g=c.return;if(vw(c),c===l){_n=null;break e}if(m!==null){m.return=g,_n=m;break e}_n=g}}}var s2={getCacheForType:function(i){var a=Vn(un),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},a2=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,Le=null,Ge=0,it=0,gr=null,ra=!1,Yl=!1,r_=!1,ps=0,Lt=0,ia=0,xo=0,i_=0,Lr=0,Wl=0,oh=null,rr=null,s_=!1,a_=0,um=1/0,cm=null,sa=null,In=0,aa=null,Xl=null,Jl=0,o_=0,l_=null,xw=null,lh=0,u_=null;function yr(){if((rt&2)!==0&&Ge!==0)return Ge&-Ge;if(ee.T!==null){var i=Bl;return i!==0?i:g_()}return Fs()}function Pw(){Lr===0&&(Lr=(Ge&536870912)===0||Ze?Xt():536870912);var i=Mr.current;return i!==null&&(i.flags|=32),Lr}function _r(i,a,l){(i===pt&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Zl(i,0),oa(i,Ge,Lr,!1)),er(i,l),((rt&2)===0||i!==pt)&&(i===pt&&((rt&2)===0&&(xo|=l),Lt===4&&oa(i,Ge,Lr,!1)),_i(i))}function Dw(i,a,l){if((rt&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Tt(i,a),m=c?u2(i,a):d_(i,a,!0),g=c;do{if(m===0){Yl&&!c&&oa(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!o2(l)){m=d_(i,a,!1),g=!1;continue}if(m===2){if(g=a,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var S=i;m=oh;var V=S.current.memoizedState.isDehydrated;if(V&&(Zl(S,w).flags|=256),w=d_(S,w,!1),w!==2){if(r_&&!V){S.errorRecoveryDisabledLanes|=g,xo|=g,m=4;break e}g=rr,rr=m,g!==null&&(rr===null?rr=g:rr.push.apply(rr,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Zl(i,0),oa(i,a,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:oa(c,a,Lr,!ra);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=a_+300-On(),10<m)){if(oa(c,a,Lr,!ra),qt(c,0,!0)!==0)break e;c.timeoutHandle=aS(Nw.bind(null,c,l,rr,cm,s_,a,Lr,xo,Wl,ra,g,2,-0,0),m);break e}Nw(c,l,rr,cm,s_,a,Lr,xo,Wl,ra,g,0,-0,0)}}break}while(!0);_i(i)}function Nw(i,a,l,c,m,g,w,S,V,$,re,se,Q,W){if(i.timeoutHandle=-1,se=a.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(ph={stylesheets:null,count:0,unsuspend:j2},Aw(a),se=H2(),se!==null)){i.cancelPendingCommit=se(Bw.bind(null,i,a,g,l,c,m,w,S,V,re,1,Q,W)),oa(i,g,w,!$);return}Bw(i,a,g,l,c,m,w,S,V)}function o2(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!dr(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oa(i,a,l,c){a&=~i_,a&=~xo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var g=31-fn(m),w=1<<g;c[g]=-1,m&=~w}l!==0&&qn(i,l,a)}function hm(){return(rt&6)===0?(uh(0),!1):!0}function c_(){if(Le!==null){if(it===0)var i=Le.return;else i=Le,os=wo=null,Ry(i),Gl=null,Zc=0,i=Le;for(;i!==null;)hw(i.alternate,i),i=i.return;Le=null}}function Zl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,A2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),c_(),pt=i,Le=l=is(i.current,null),Ge=a,it=0,gr=null,ra=!1,Yl=Tt(i,a),r_=!1,Wl=Lr=i_=xo=ia=Lt=0,rr=oh=null,s_=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-fn(c),g=1<<m;a|=i[m],c&=~g}return ps=a,Of(),l}function Ow(i,a){Ve=null,ee.H=Jf,a===Hc||a===jf?(a=WT(),it=3):a===KT?(a=WT(),it=4):it=a===Xb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gr=a,Le===null&&(Lt=1,rm(i,Nr(a,i.current)))}function kw(){var i=ee.H;return ee.H=Jf,i===null?Jf:i}function Vw(){var i=ee.A;return ee.A=s2,i}function h_(){Lt=4,ra||(Ge&4194048)!==Ge&&Mr.current!==null||(Yl=!0),(ia&134217727)===0&&(xo&134217727)===0||pt===null||oa(pt,Ge,Lr,!1)}function d_(i,a,l){var c=rt;rt|=2;var m=kw(),g=Vw();(pt!==i||Ge!==a)&&(cm=null,Zl(i,a)),a=!1;var w=Lt;e:do try{if(it!==0&&Le!==null){var S=Le,V=gr;switch(it){case 8:c_(),w=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(a=!0);var $=it;if(it=0,gr=null,eu(i,S,V,$),l&&Yl){w=0;break e}break;default:$=it,it=0,gr=null,eu(i,S,V,$)}}l2(),w=Lt;break}catch(re){Ow(i,re)}while(!0);return a&&i.shellSuspendCounter++,os=wo=null,rt=c,ee.H=m,ee.A=g,Le===null&&(pt=null,Ge=0,Of()),w}function l2(){for(;Le!==null;)Mw(Le)}function u2(i,a){var l=rt;rt|=2;var c=kw(),m=Vw();pt!==i||Ge!==a?(cm=null,um=On()+500,Zl(i,a)):Yl=Tt(i,a);e:do try{if(it!==0&&Le!==null){a=Le;var g=gr;t:switch(it){case 1:it=0,gr=null,eu(i,a,g,1);break;case 2:case 9:if(QT(g)){it=0,gr=null,Lw(a);break}a=function(){it!==2&&it!==9||pt!==i||(it=7),_i(i)},g.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:QT(g)?(it=0,gr=null,Lw(a)):(it=0,gr=null,eu(i,a,g,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var S=Le;if(!w||_S(w)){it=0,gr=null;var V=S.sibling;if(V!==null)Le=V;else{var $=S.return;$!==null?(Le=$,dm($)):Le=null}break t}}it=0,gr=null,eu(i,a,g,5);break;case 6:it=0,gr=null,eu(i,a,g,6);break;case 8:c_(),Lt=6;break e;default:throw Error(r(462))}}c2();break}catch(re){Ow(i,re)}while(!0);return os=wo=null,ee.H=c,ee.A=m,rt=l,Le!==null?0:(pt=null,Ge=0,Of(),Lt)}function c2(){for(;Le!==null&&!Wa();)Mw(Le)}function Mw(i){var a=uw(i.alternate,i,ps);i.memoizedProps=i.pendingProps,a===null?dm(i):Le=a}function Lw(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=rw(l,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=rw(l,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:Ry(a);default:hw(l,a),a=Le=UT(a,ps),a=uw(l,a,ps)}i.memoizedProps=i.pendingProps,a===null?dm(i):Le=a}function eu(i,a,l,c){os=wo=null,Ry(a),Gl=null,Zc=0;var m=a.return;try{if(ZD(i,m,a,l,Ge)){Lt=1,rm(i,Nr(l,i.current)),Le=null;return}}catch(g){if(m!==null)throw Le=m,g;Lt=1,rm(i,Nr(l,i.current)),Le=null;return}a.flags&32768?(Ze||c===1?i=!0:Yl||(Ge&536870912)!==0?i=!1:(ra=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Uw(a,i)):dm(a)}function dm(i){var a=i;do{if((a.flags&32768)!==0){Uw(a,ra);return}i=a.return;var l=t2(a.alternate,a,ps);if(l!==null){Le=l;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=i}while(a!==null);Lt===0&&(Lt=5)}function Uw(i,a){do{var l=n2(i.alternate,i);if(l!==null){l.flags&=32767,Le=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Le=i;return}Le=i=l}while(i!==null);Lt=6,Le=null}function Bw(i,a,l,c,m,g,w,S,V){i.cancelPendingCommit=null;do fm();while(In!==0);if((rt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=ny,Ki(i,l,g,w,S,V),i===pt&&(Le=pt=null,Ge=0),Xl=a,aa=i,Jl=l,o_=g,l_=m,xw=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,m2(Hi,function(){return Hw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,m=de.p,de.p=2,w=rt,rt|=4;try{r2(i,a,l)}finally{rt=w,de.p=m,ee.T=c}}In=1,zw(),Fw(),jw()}}function zw(){if(In===1){In=0;var i=aa,a=Xl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=de.p;de.p=2;var m=rt;rt|=4;try{bw(a,i);var g=S_,w=CT(i.containerInfo),S=g.focusedElem,V=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&RT(S.ownerDocument.documentElement,S)){if(V!==null&&Xg(S)){var $=V.start,re=V.end;if(re===void 0&&(re=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(re,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),xe=S.textContent.length,Ie=Math.min(V.start,xe),ct=V.end===void 0?Ie:Math.min(V.end,xe);!W.extend&&Ie>ct&&(w=ct,ct=Ie,Ie=w);var j=IT(S,Ie),U=IT(S,ct);if(j&&U&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var G=se.createRange();G.setStart(j.node,j.offset),W.removeAllRanges(),Ie>ct?(W.addRange(G),W.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),W.addRange(G))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Am=!!w_,S_=w_=null}finally{rt=m,de.p=c,ee.T=l}}i.current=a,In=2}}function Fw(){if(In===2){In=0;var i=aa,a=Xl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=de.p;de.p=2;var m=rt;rt|=4;try{_w(i,a.alternate,a)}finally{rt=m,de.p=c,ee.T=l}}In=3}}function jw(){if(In===4||In===3){In=0,Xa();var i=aa,a=Xl,l=Jl,c=xw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?In=5:(In=0,Xl=aa=null,qw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(sa=null),yl(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(_t,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=ee.T,m=de.p,de.p=2,ee.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var S=c[w];g(S.value,{componentStack:S.stack})}}finally{ee.T=a,de.p=m}}(Jl&3)!==0&&fm(),_i(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===u_?lh++:(lh=0,u_=i):lh=0,uh(0)}}function qw(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,jc(a)))}function fm(i){return zw(),Fw(),jw(),Hw()}function Hw(){if(In!==5)return!1;var i=aa,a=o_;o_=0;var l=yl(Jl),c=ee.T,m=de.p;try{de.p=32>l?32:l,ee.T=null,l=l_,l_=null;var g=aa,w=Jl;if(In=0,Xl=aa=null,Jl=0,(rt&6)!==0)throw Error(r(331));var S=rt;if(rt|=4,Rw(g.current),Sw(g,g.current,w,l),rt=S,uh(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(_t,g)}catch{}return!0}finally{de.p=m,ee.T=c,qw(i,a)}}function Gw(i,a,l){a=Nr(l,a),a=Fy(i.stateNode,a,2),i=Ws(i,a,2),i!==null&&(er(i,2),_i(i))}function dt(i,a,l){if(i.tag===3)Gw(i,i,l);else for(;a!==null;){if(a.tag===3){Gw(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(sa===null||!sa.has(c))){i=Nr(l,i),l=Yb(2),c=Ws(a,l,2),c!==null&&(Wb(l,c,a,i),er(c,2),_i(c));break}}a=a.return}}function f_(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new a2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(r_=!0,m.add(l),i=h2.bind(null,i,a,l),a.then(i,i))}function h2(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,pt===i&&(Ge&l)===l&&(Lt===4||Lt===3&&(Ge&62914560)===Ge&&300>On()-a_?(rt&2)===0&&Zl(i,0):i_|=l,Wl===Ge&&(Wl=0)),_i(i)}function $w(i,a){a===0&&(a=bt()),i=Vl(i,a),i!==null&&(er(i,a),_i(i))}function d2(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),$w(i,l)}function f2(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),$w(i,l)}function m2(i,a){return ni(i,a)}var mm=null,tu=null,m_=!1,pm=!1,p_=!1,Po=0;function _i(i){i!==tu&&i.next===null&&(tu===null?mm=tu=i:tu=tu.next=i),pm=!0,m_||(m_=!0,g2())}function uh(i,a){if(!p_&&pm){p_=!0;do for(var l=!1,c=mm;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-fn(42|i)+1)-1,g&=m&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Ww(c,g))}else g=Ge,g=qt(c,c===pt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Tt(c,g)||(l=!0,Ww(c,g));c=c.next}while(l);p_=!1}}function p2(){Kw()}function Kw(){pm=m_=!1;var i=0;Po!==0&&(S2()&&(i=Po),Po=0);for(var a=On(),l=null,c=mm;c!==null;){var m=c.next,g=Qw(c,a);g===0?(c.next=null,l===null?mm=m:l.next=m,m===null&&(tu=l)):(l=c,(i!==0||(g&3)!==0)&&(pm=!0)),c=m}uh(i)}function Qw(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-fn(g),S=1<<w,V=m[w];V===-1?((S&l)===0||(S&c)!==0)&&(m[w]=mn(S,a)):V<=a&&(i.expiredLanes|=S),g&=~S}if(a=pt,l=Ge,l=qt(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(it===2||it===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Gr(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Tt(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Gr(c),yl(l)){case 2:case 8:l=qi;break;case 32:l=Hi;break;case 268435456:l=Bs;break;default:l=Hi}return c=Yw.bind(null,i),l=ni(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Gr(c),i.callbackPriority=2,i.callbackNode=null,2}function Yw(i,a){if(In!==0&&In!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(fm()&&i.callbackNode!==l)return null;var c=Ge;return c=qt(i,i===pt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Dw(i,c,a),Qw(i,On()),i.callbackNode!=null&&i.callbackNode===l?Yw.bind(null,i):null)}function Ww(i,a){if(fm())return null;Dw(i,a,!0)}function g2(){I2(function(){(rt&6)!==0?ni(Us,p2):Kw()})}function g_(){return Po===0&&(Po=Xt()),Po}function Xw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wl(""+i)}function Jw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function y2(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var g=Xw((m[Jt]||null).action),w=c.submitter;w&&(a=(a=w[Jt]||null)?Xw(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var S=new Sl("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Po!==0){var V=w?Jw(m,w):new FormData(m);My(l,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=w?Jw(m,w):new FormData(m),My(l,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var y_=0;y_<ty.length;y_++){var __=ty[y_],_2=__.toLowerCase(),v2=__[0].toUpperCase()+__.slice(1);Qr(_2,"on"+v2)}Qr(DT,"onAnimationEnd"),Qr(NT,"onAnimationIteration"),Qr(OT,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(MD,"onTransitionRun"),Qr(LD,"onTransitionStart"),Qr(UD,"onTransitionCancel"),Qr(kT,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$r("onBeforeInput",["compositionend","keypress","textInput","paste"]),$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ch));function Zw(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var w=c.length-1;0<=w;w--){var S=c[w],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=$;try{g(m)}catch(re){nm(re)}m.currentTarget=null,g=V}else for(w=0;w<c.length;w++){if(S=c[w],V=S.instance,$=S.currentTarget,S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=$;try{g(m)}catch(re){nm(re)}m.currentTarget=null,g=V}}}}function Ue(i,a){var l=a[Tc];l===void 0&&(l=a[Tc]=new Set);var c=i+"__bubble";l.has(c)||(eS(a,i,2,!1),l.add(c))}function v_(i,a,l){var c=0;a&&(c|=4),eS(l,i,c,a)}var gm="_reactListening"+Math.random().toString(36).slice(2);function E_(i){if(!i[gm]){i[gm]=!0,bc.forEach(function(l){l!=="selectionchange"&&(E2.has(l)||v_(l,!1,i),v_(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[gm]||(a[gm]=!0,v_("selectionchange",!1,a))}}function eS(i,a,l,c){switch(SS(a)){case 2:var m=K2;break;case 8:m=Q2;break;default:m=k_}l=m.bind(null,a,l,i),m=void 0,!Pr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function T_(i,a,l,c,m){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===m)break;if(w===4)for(w=c.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;S!==null;){if(w=Qi(S),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){c=g=w;continue e}S=S.parentNode}}c=c.return}_f(function(){var $=g,re=xr(l),se=[];e:{var Q=VT.get(i);if(Q!==void 0){var W=Sl,xe=i;switch(i){case"keypress":if(ui(l)===0)break e;case"keydown":case"keyup":W=Pl;break;case"focusin":xe="focus",W=Rl;break;case"focusout":xe="blur",W=Rl;break;case"beforeblur":case"afterblur":W=Rl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=If;break;case DT:case NT:case OT:W=Cl;break;case kT:W=Cf;break;case"scroll":case"scrollend":W=vf;break;case"wheel":W=Dl;break;case"copy":case"cut":case"paste":W=xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=kc;break;case"toggle":case"beforetoggle":W=Pf}var Ie=(a&4)!==0,ct=!Ie&&(i==="scroll"||i==="scrollend"),j=Ie?Q!==null?Q+"Capture":null:Q;Ie=[];for(var U=$,G;U!==null;){var ie=U;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||j===null||(ie=lo(U,j),ie!=null&&Ie.push(hh(U,ie,G))),ct)break;U=U.return}0<Ie.length&&(Q=new W(Q,xe,null,l,re),se.push({event:Q,listeners:Ie}))}}if((a&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&l!==Ji&&(xe=l.relatedTarget||l.fromElement)&&(Qi(xe)||xe[Rr]))break e;if((W||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(xe=l.relatedTarget||l.toElement,W=$,xe=xe?Qi(xe):null,xe!==null&&(ct=o(xe),Ie=xe.tag,xe!==ct||Ie!==5&&Ie!==27&&Ie!==6)&&(xe=null)):(W=null,xe=$),W!==xe)){if(Ie=Dr,ie="onMouseLeave",j="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=kc,ie="onPointerLeave",j="onPointerEnter",U="pointer"),ct=W==null?Q:si(W),G=xe==null?Q:si(xe),Q=new Ie(ie,U+"leave",W,l,re),Q.target=ct,Q.relatedTarget=G,ie=null,Qi(re)===$&&(Ie=new Ie(j,U+"enter",xe,l,re),Ie.target=G,Ie.relatedTarget=ct,ie=Ie),ct=ie,W&&xe)t:{for(Ie=W,j=xe,U=0,G=Ie;G;G=nu(G))U++;for(G=0,ie=j;ie;ie=nu(ie))G++;for(;0<U-G;)Ie=nu(Ie),U--;for(;0<G-U;)j=nu(j),G--;for(;U--;){if(Ie===j||j!==null&&Ie===j.alternate)break t;Ie=nu(Ie),j=nu(j)}Ie=null}else Ie=null;W!==null&&tS(se,Q,W,Ie,!1),xe!==null&&ct!==null&&tS(se,ct,xe,Ie,!0)}}e:{if(Q=$?si($):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Ee=ET;else if(ln(Q))if(TT)Ee=OD;else{Ee=DD;var Me=PD}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Rc($.elementType)&&(Ee=ET):Ee=ND;if(Ee&&(Ee=Ee(i,$))){rs(se,Ee,l,re);break e}Me&&Me(i,Q,$),i==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&Gs(Q,"number",Q.value)}switch(Me=$?si($):window,i){case"focusin":(ln(Me)||Me.contentEditable==="true")&&(Nl=Me,Jg=$,Lc=null);break;case"focusout":Lc=Jg=Nl=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,xT(se,l,re);break;case"selectionchange":if(VD)break;case"keydown":case"keyup":xT(se,l,re)}var we;if(di)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else qe?J(i,l)&&(Re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(T&&l.locale!=="ko"&&(qe||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&qe&&(we=xc()):(li=re,$s="value"in li?li.value:li.textContent,qe=!0)),Me=ym($,Re),0<Me.length&&(Re=new Nc(Re,i,null,l,re),se.push({event:Re,listeners:Me}),we?Re.data=we:(we=fe(l),we!==null&&(Re.data=we)))),(we=_?on(i,l):He(i,l))&&(Re=ym($,"onBeforeInput"),0<Re.length&&(Me=new Nc("onBeforeInput","beforeinput",null,l,re),se.push({event:Me,listeners:Re}),Me.data=we)),y2(se,i,$,l,re)}Zw(se,a)})}function hh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function ym(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=lo(i,l),m!=null&&c.unshift(hh(i,m,g)),m=lo(i,a),m!=null&&c.push(hh(i,m,g))),i.tag===3)return c;i=i.return}return[]}function nu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function tS(i,a,l,c,m){for(var g=a._reactName,w=[];l!==null&&l!==c;){var S=l,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||$===null||(V=$,m?($=lo(l,g),$!=null&&w.unshift(hh(l,$,V))):m||($=lo(l,g),$!=null&&w.push(hh(l,$,V)))),l=l.return}w.length!==0&&i.push({event:a,listeners:w})}var T2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function nS(i){return(typeof i=="string"?i:""+i).replace(T2,`
`).replace(b2,"")}function rS(i,a){return a=nS(a),nS(i)===a}function _m(){}function ut(i,a,l,c,m,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Cr(i,""+c);break;case"className":ai(i,"class",c);break;case"tabIndex":ai(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(i,l,c);break;case"style":Ic(i,c,g);break;case"data":if(a!=="object"){ai(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=wl(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&ut(i,a,"name",m.name,m,null),ut(i,a,"formEncType",m.formEncType,m,null),ut(i,a,"formMethod",m.formMethod,m,null),ut(i,a,"formTarget",m.formTarget,m,null)):(ut(i,a,"encType",m.encType,m,null),ut(i,a,"method",m.method,m,null),ut(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=wl(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=_m);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=wl(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Hs(i,"popover",c);break;case"xlinkActuate":wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gg.get(l)||l,Hs(i,l,c))}}function b_(i,a,l,c,m,g){switch(l){case"style":Ic(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&Cr(i,""+c);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"onClick":c!=null&&(i.onclick=_m);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=i[Jt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Hs(i,l,c)}}}function Rn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ut(i,a,g,w,l,null)}}m&&ut(i,a,"srcSet",l.srcSet,l,null),c&&ut(i,a,"src",l.src,l,null);return;case"input":Ue("invalid",i);var S=g=w=m=null,V=null,$=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":m=re;break;case"type":w=re;break;case"checked":V=re;break;case"defaultChecked":$=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:ut(i,a,c,re,l,null)}}so(i,g,S,V,$,w,m,!1),bl(i);return;case"select":Ue("invalid",i),c=w=g=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:ut(i,a,m,S,l,null)}a=g,l=w,i.multiple=!!c,a!=null?Xi(i,!!c,a,!1):l!=null&&Xi(i,!!c,l,!0);return;case"textarea":Ue("invalid",i),g=m=c=null;for(w in l)if(l.hasOwnProperty(w)&&(S=l[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ut(i,a,w,S,l,null)}ao(i,c,m,g),bl(i);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(i,a,V,c,l,null)}return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(c=0;c<ch.length;c++)Ue(ch[c],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in l)if(l.hasOwnProperty($)&&(c=l[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ut(i,a,$,c,l,null)}return;default:if(Rc(a)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&b_(i,a,re,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&ut(i,a,S,c,l,null))}function w2(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,S=null,V=null,$=null,re=null;for(W in l){var se=l[W];if(l.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=se;default:c.hasOwnProperty(W)||ut(i,a,W,null,c,se)}}for(var Q in c){var W=c[Q];if(se=l[Q],c.hasOwnProperty(Q)&&(W!=null||se!=null))switch(Q){case"type":g=W;break;case"name":m=W;break;case"checked":$=W;break;case"defaultChecked":re=W;break;case"value":w=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:W!==se&&ut(i,a,Q,W,c,se)}}hr(i,w,S,V,$,re,g,m);return;case"select":W=w=S=Q=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(g)||ut(i,a,g,null,c,V)}for(m in c)if(g=c[m],V=l[m],c.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==V&&ut(i,a,m,g,c,V)}a=S,l=w,c=W,Q!=null?Xi(i,!!l,Q,!1):!!c!=!!l&&(a!=null?Xi(i,!!l,a,!0):Xi(i,!!l,l?[]:"",!1));return;case"textarea":W=Q=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(i,a,S,null,c,m)}for(w in c)if(m=c[w],g=l[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":Q=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&ut(i,a,w,m,c,g)}ot(i,Q,W);return;case"option":for(var xe in l)if(Q=l[xe],l.hasOwnProperty(xe)&&Q!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:ut(i,a,xe,null,c,Q)}for(V in c)if(Q=c[V],W=l[V],c.hasOwnProperty(V)&&Q!==W&&(Q!=null||W!=null))switch(V){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ut(i,a,V,Q,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Q=l[Ie],l.hasOwnProperty(Ie)&&Q!=null&&!c.hasOwnProperty(Ie)&&ut(i,a,Ie,null,c,Q);for($ in c)if(Q=c[$],W=l[$],c.hasOwnProperty($)&&Q!==W&&(Q!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:ut(i,a,$,Q,c,W)}return;default:if(Rc(a)){for(var ct in l)Q=l[ct],l.hasOwnProperty(ct)&&Q!==void 0&&!c.hasOwnProperty(ct)&&b_(i,a,ct,void 0,c,Q);for(re in c)Q=c[re],W=l[re],!c.hasOwnProperty(re)||Q===W||Q===void 0&&W===void 0||b_(i,a,re,Q,c,W);return}}for(var j in l)Q=l[j],l.hasOwnProperty(j)&&Q!=null&&!c.hasOwnProperty(j)&&ut(i,a,j,null,c,Q);for(se in c)Q=c[se],W=l[se],!c.hasOwnProperty(se)||Q===W||Q==null&&W==null||ut(i,a,se,Q,c,W)}var w_=null,S_=null;function vm(i){return i.nodeType===9?i:i.ownerDocument}function iS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sS(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function A_(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var I_=null;function S2(){var i=window.event;return i&&i.type==="popstate"?i===I_?!1:(I_=i,!0):(I_=null,!1)}var aS=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,oS=typeof Promise=="function"?Promise:void 0,I2=typeof queueMicrotask=="function"?queueMicrotask:typeof oS<"u"?function(i){return oS.resolve(null).then(i).catch(R2)}:aS;function R2(i){setTimeout(function(){throw i})}function la(i){return i==="head"}function lS(i,a){var l=a,c=0,m=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var w=i.ownerDocument;if(l&1&&dh(w.documentElement),l&2&&dh(w.body),l&4)for(l=w.head,dh(l),w=l.firstChild;w;){var S=w.nextSibling,V=w.nodeName;w[to]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=S}}if(m===0){i.removeChild(g),Eh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);Eh(a)}function R_(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":R_(l),qs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function C2(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[to])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wr(i.nextSibling),i===null)break}return null}function x2(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Wr(i.nextSibling),i===null))return null;return i}function C_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function P2(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Wr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var x_=null;function uS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function cS(i,a,l){switch(a=vm(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);qs(i)}var Ur=new Map,hS=new Set;function Em(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=de.d;de.d={f:D2,r:N2,D:O2,C:k2,L:V2,m:M2,X:U2,S:L2,M:B2};function D2(){var i=gs.f(),a=hm();return i||a}function N2(i){var a=ii(i);a!==null&&a.tag===5&&a.type==="form"?Db(a):gs.r(i)}var ru=typeof document>"u"?null:document;function dS(i,a,l){var c=ru;if(c&&typeof a=="string"&&a){var m=Zt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),hS.has(m)||(hS.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Rn(a,"link",i),Ht(a),c.head.appendChild(a)))}}function O2(i){gs.D(i),dS("dns-prefetch",i,null)}function k2(i,a){gs.C(i,a),dS("preconnect",i,a)}function V2(i,a,l){gs.L(i,a,l);var c=ru;if(c&&i&&a){var m='link[rel="preload"][as="'+Zt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Zt(l.imageSizes)+'"]')):m+='[href="'+Zt(i)+'"]';var g=m;switch(a){case"style":g=iu(i);break;case"script":g=su(i)}Ur.has(g)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ur.set(g,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(fh(g))||a==="script"&&c.querySelector(mh(g))||(a=c.createElement("link"),Rn(a,"link",i),Ht(a),c.head.appendChild(a)))}}function M2(i,a){gs.m(i,a);var l=ru;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=su(i)}if(!Ur.has(g)&&(i=y({rel:"modulepreload",href:i},a),Ur.set(g,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mh(g)))return}c=l.createElement("link"),Rn(c,"link",i),Ht(c),l.head.appendChild(c)}}}function L2(i,a,l){gs.S(i,a,l);var c=ru;if(c&&i){var m=Hn(c).hoistableStyles,g=iu(i);a=a||"default";var w=m.get(g);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(fh(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ur.get(g))&&P_(i,l);var V=w=c.createElement("link");Ht(V),Rn(V,"link",i),V._p=new Promise(function($,re){V.onload=$,V.onerror=re}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Tm(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:S},m.set(g,w)}}}function U2(i,a){gs.X(i,a);var l=ru;if(l&&i){var c=Hn(l).hoistableScripts,m=su(i),g=c.get(m);g||(g=l.querySelector(mh(m)),g||(i=y({src:i,async:!0},a),(a=Ur.get(m))&&D_(i,a),g=l.createElement("script"),Ht(g),Rn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function B2(i,a){gs.M(i,a);var l=ru;if(l&&i){var c=Hn(l).hoistableScripts,m=su(i),g=c.get(m);g||(g=l.querySelector(mh(m)),g||(i=y({src:i,async:!0,type:"module"},a),(a=Ur.get(m))&&D_(i,a),g=l.createElement("script"),Ht(g),Rn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function fS(i,a,l,c){var m=(m=ve.current)?Em(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=iu(l.href),l=Hn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=iu(l.href);var g=Hn(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(fh(i)))&&!g._p&&(w.instance=g,w.state.loading=5),Ur.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ur.set(i,l),g||z2(m,i,l,w.state))),a&&c===null)throw Error(r(528,""));return w}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=su(l),l=Hn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function iu(i){return'href="'+Zt(i)+'"'}function fh(i){return'link[rel="stylesheet"]['+i+"]"}function mS(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function z2(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Rn(a,"link",l),Ht(a),i.head.appendChild(a))}function su(i){return'[src="'+Zt(i)+'"]'}function mh(i){return"script[async]"+i}function pS(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(c)return a.instance=c,Ht(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ht(c),Rn(c,"style",m),Tm(c,l.precedence,i),a.instance=c;case"stylesheet":m=iu(l.href);var g=i.querySelector(fh(m));if(g)return a.state.loading|=4,a.instance=g,Ht(g),g;c=mS(l),(m=Ur.get(m))&&P_(c,m),g=(i.ownerDocument||i).createElement("link"),Ht(g);var w=g;return w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),Rn(g,"link",c),a.state.loading|=4,Tm(g,l.precedence,i),a.instance=g;case"script":return g=su(l.src),(m=i.querySelector(mh(g)))?(a.instance=m,Ht(m),m):(c=l,(m=Ur.get(g))&&(c=y({},l),D_(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ht(m),Rn(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Tm(c,l.precedence,i));return a.instance}function Tm(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===a)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function P_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function D_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var bm=null;function gS(i,a,l){if(bm===null){var c=new Map,m=bm=new Map;m.set(l,c)}else m=bm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[to]||g[an]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=i+w;var S=c.get(w);S?S.push(g):c.set(w,[g])}}return c}function yS(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function F2(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _S(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ph=null;function j2(){}function q2(i,a,l){if(ph===null)throw Error(r(475));var c=ph;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=iu(l.href),g=i.querySelector(fh(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=wm.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,Ht(g);return}g=i.ownerDocument||i,l=mS(l),(m=Ur.get(m))&&P_(l,m),g=g.createElement("link"),Ht(g);var w=g;w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),Rn(g,"link",l),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=wm.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function H2(){if(ph===null)throw Error(r(475));var i=ph;return i.stylesheets&&i.count===0&&N_(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&N_(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function wm(){if(this.count--,this.count===0){if(this.stylesheets)N_(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sm=null;function N_(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sm=new Map,a.forEach(G2,i),Sm=null,wm.call(i))}function G2(i,a){if(!(a.state.loading&4)){var l=Sm.get(i);if(l)var c=l.get(null);else{l=new Map,Sm.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}m=a.instance,w=m.getAttribute("data-precedence"),g=l.get(w)||c,g===c&&l.set(null,m),l.set(w,m),this.count++,c=wm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var gh={$$typeof:F,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function $2(i,a,l,c,m,g,w,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function vS(i,a,l,c,m,g,w,S,V,$,re,se){return i=new $2(i,a,l,w,S,V,$,se),a=1,g===!0&&(a|=24),g=fr(3,null,null,a),i.current=g,g.stateNode=i,a=fy(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},yy(g),i}function ES(i){return i?(i=Ml,i):Ml}function TS(i,a,l,c,m,g){m=ES(m),c.context===null?c.context=m:c.pendingContext=m,c=Ys(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Ws(i,c,a),l!==null&&(_r(l,i,a),$c(l,i,a))}function bS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function O_(i,a){bS(i,a),(i=i.alternate)&&bS(i,a)}function wS(i){if(i.tag===13){var a=Vl(i,67108864);a!==null&&_r(a,i,67108864),O_(i,67108864)}}var Am=!0;function K2(i,a,l,c){var m=ee.T;ee.T=null;var g=de.p;try{de.p=2,k_(i,a,l,c)}finally{de.p=g,ee.T=m}}function Q2(i,a,l,c){var m=ee.T;ee.T=null;var g=de.p;try{de.p=8,k_(i,a,l,c)}finally{de.p=g,ee.T=m}}function k_(i,a,l,c){if(Am){var m=V_(c);if(m===null)T_(i,a,c,Im,l),AS(i,c);else if(W2(m,i,a,l,c))c.stopPropagation();else if(AS(i,c),a&4&&-1<Y2.indexOf(i)){for(;m!==null;){var g=ii(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Je(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var V=1<<31-fn(w);S.entanglements[1]|=V,w&=~V}_i(g),(rt&6)===0&&(um=On()+500,uh(0))}}break;case 13:S=Vl(g,2),S!==null&&_r(S,g,2),hm(),O_(g,2)}if(g=V_(c),g===null&&T_(i,a,c,Im,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else T_(i,a,c,null,l)}}function V_(i){return i=xr(i),M_(i)}var Im=null;function M_(i){if(Im=null,i=Qi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Im=i,null}function SS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case Us:return 2;case qi:return 8;case Hi:case pl:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var L_=!1,ua=null,ca=null,ha=null,yh=new Map,_h=new Map,da=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AS(i,a){switch(i){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":yh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(a.pointerId)}}function vh(i,a,l,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=ii(a),a!==null&&wS(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function W2(i,a,l,c,m){switch(a){case"focusin":return ua=vh(ua,i,a,l,c,m),!0;case"dragenter":return ca=vh(ca,i,a,l,c,m),!0;case"mouseover":return ha=vh(ha,i,a,l,c,m),!0;case"pointerover":var g=m.pointerId;return yh.set(g,vh(yh.get(g)||null,i,a,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,_h.set(g,vh(_h.get(g)||null,i,a,l,c,m)),!0}return!1}function IS(i){var a=Qi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,hf(i.priority,function(){if(l.tag===13){var c=yr();c=zs(c);var m=Vl(l,c);m!==null&&_r(m,l,c),O_(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=V_(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Ji=c,l.target.dispatchEvent(c),Ji=null}else return a=ii(l),a!==null&&wS(a),i.blockedOn=l,!1;a.shift()}return!0}function RS(i,a,l){Rm(i)&&l.delete(a)}function X2(){L_=!1,ua!==null&&Rm(ua)&&(ua=null),ca!==null&&Rm(ca)&&(ca=null),ha!==null&&Rm(ha)&&(ha=null),yh.forEach(RS),_h.forEach(RS)}function Cm(i,a){i.blockedOn===a&&(i.blockedOn=null,L_||(L_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,X2)))}var xm=null;function CS(i){xm!==i&&(xm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xm===i&&(xm=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(M_(c||l)===null)continue;break}var g=ii(l);g!==null&&(i.splice(a,3),a-=3,My(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Eh(i){function a(V){return Cm(V,i)}ua!==null&&Cm(ua,i),ca!==null&&Cm(ca,i),ha!==null&&Cm(ha,i),yh.forEach(a),_h.forEach(a);for(var l=0;l<da.length;l++){var c=da[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<da.length&&(l=da[0],l.blockedOn===null);)IS(l),l.blockedOn===null&&da.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],w=m[Jt]||null;if(typeof g=="function")w||CS(l);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[Jt]||null)S=w.formAction;else if(M_(m)!==null)continue}else S=w.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),CS(l)}}}function U_(i){this._internalRoot=i}Pm.prototype.render=U_.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=yr();TS(l,c,i,a,null,null)},Pm.prototype.unmount=U_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;TS(i.current,2,null,i,null,null),hm(),a[Rr]=null}};function Pm(i){this._internalRoot=i}Pm.prototype.unstable_scheduleHydration=function(i){if(i){var a=Fs();i={blockedOn:null,target:i,priority:a};for(var l=0;l<da.length&&a!==0&&a<da[l].priority;l++);da.splice(l,0,i),l===0&&IS(i)}};var xS=e.version;if(xS!=="19.1.0")throw Error(r(527,xS,"19.1.0"));de.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var J2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dm.isDisabled&&Dm.supportsFiber)try{_t=Dm.inject(J2),Xe=Dm}catch{}}return bh.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=Gb,g=$b,w=Kb,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=vS(i,1,!1,null,null,l,c,m,g,w,S,null),i[Rr]=a.current,E_(i),new U_(a)},bh.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",g=Gb,w=$b,S=Kb,V=null,$=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks),l.formState!==void 0&&($=l.formState)),a=vS(i,1,!0,a,l??null,c,m,g,w,S,V,$),a.context=ES(null),l=a.current,c=yr(),c=zs(c),m=Ys(c),m.callback=null,Ws(l,m,c),l=c,a.current.lanes=l,er(a,l),_i(a),i[Rr]=a.current,E_(i),new Pm(a)},bh.version="19.1.0",bh}var zS;function cN(){if(zS)return F_.exports;zS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),F_.exports=uN(),F_.exports}var hN=cN();const dN="/assets/loogo-B5zyZ3TK.jpg",FS=n=>n,fN=()=>{let n=FS;return{configure(e){n=e},generate(e){return n(e)},reset(){n=FS}}},mN=fN();function Ko(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Ou(n){if(typeof n!="string")throw new Error(Ko(7));return n.charAt(0).toUpperCase()+n.slice(1)}function RR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=RR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function pN(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=RR(n))&&(r&&(r+=" "),r+=e);return r}function gN(n,e,t=void 0){const r={};for(const s in n){const o=n[s];let u="",h=!0;for(let f=0;f<o.length;f+=1){const p=o[f];p&&(u+=(h===!0?"":" ")+e(p),h=!1,t&&t[p]&&(u+=" "+t[p]))}r[s]=u}return r}var G_={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function yN(){if(jS)return ht;jS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),R=Symbol.for("react.client.reference");function C(I){if(typeof I=="object"&&I!==null){var k=I.$$typeof;switch(k){case n:switch(I=I.type,I){case t:case s:case r:case f:case p:case E:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case v:case y:return I;case o:return I;default:return k}}case e:return k}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=v,ht.Memo=y,ht.Portal=e,ht.Profiler=s,ht.StrictMode=r,ht.Suspense=f,ht.SuspenseList=p,ht.isContextConsumer=function(I){return C(I)===o},ht.isContextProvider=function(I){return C(I)===u},ht.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ht.isForwardRef=function(I){return C(I)===h},ht.isFragment=function(I){return C(I)===t},ht.isLazy=function(I){return C(I)===v},ht.isMemo=function(I){return C(I)===y},ht.isPortal=function(I){return C(I)===e},ht.isProfiler=function(I){return C(I)===s},ht.isStrictMode=function(I){return C(I)===r},ht.isSuspense=function(I){return C(I)===f},ht.isSuspenseList=function(I){return C(I)===p},ht.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===s||I===r||I===f||I===p||typeof I=="object"&&I!==null&&(I.$$typeof===v||I.$$typeof===y||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===R||I.getModuleId!==void 0)},ht.typeOf=C,ht}var qS;function _N(){return qS||(qS=1,G_.exports=yN()),G_.exports}var CR=_N();function _s(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function xR(n){if(Y.isValidElement(n)||CR.isValidElementType(n)||!_s(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=xR(n[t])}),e}function Sr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return _s(n)&&_s(e)&&Object.keys(e).forEach(s=>{Y.isValidElement(e[s])||CR.isValidElementType(e[s])?r[s]=e[s]:_s(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&_s(n[s])?r[s]=Sr(n[s],e[s],t):t.clone?r[s]=_s(e[s])?xR(e[s]):e[s]:r[s]=e[s]}),r}function Gh(n,e){return e?Sr(n,e,{clone:!1}):n}function vN(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=s.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,s)=>{const o=e[s];return delete r[s],r[s]=o,r},{...e}):e}function EN(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function TN(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(o)}function bN(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},s=o=>(t(r,o),r);return t(s),{...n,containerQueries:s}}const qp={xs:0,sm:600,md:900,lg:1200,xl:1536},HS={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${qp[n]}px)`},wN={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:qp[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ss(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||HS;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||HS;return Object.keys(e).reduce((u,h)=>{if(EN(o.keys,h)){const f=TN(r.containerQueries?r:wN,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||qp).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function SN(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,s)=>{const o=n.up(s);return r[o]={},r},{}))||{}}function AN(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function Hp(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function fp(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=Hp(n,t)||r,e&&(s=e(s,r,n)),s}function Wt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,p=Hp(f,r)||{};return Ss(u,h,v=>{let E=fp(p,s,v);return v===E&&typeof v=="string"&&(E=fp(p,s,`${e}${v==="default"?"":Ou(v)}`,v)),t===!1?E:{[t]:E}})};return o.propTypes={},o.filterProps=[e],o}function IN(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const RN={m:"margin",p:"padding"},CN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},xN=IN(n=>{if(n.length>2)if(GS[n])n=GS[n];else return[n];const[e,t]=n.split(""),r=RN[e],s=CN[t]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),g0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],y0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...g0,...y0];function Md(n,e,t,r){const s=Hp(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=s[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function _0(n){return Md(n,"spacing",8)}function Ld(n,e){return typeof e=="string"||e==null?e:n(e)}function PN(n,e){return t=>n.reduce((r,s)=>(r[s]=Ld(e,t),r),{})}function DN(n,e,t,r){if(!e.includes(t))return null;const s=xN(t),o=PN(s,r),u=n[t];return Ss(n,u,o)}function PR(n,e){const t=_0(n.theme);return Object.keys(n).map(r=>DN(n,e,r,t)).reduce(Gh,{})}function Ut(n){return PR(n,g0)}Ut.propTypes={};Ut.filterProps=g0;function Bt(n){return PR(n,y0)}Bt.propTypes={};Bt.filterProps=y0;function Gp(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),t=r=>Object.keys(r).reduce((s,o)=>e[o]?Gh(s,e[o](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Br(n){return typeof n!="number"?n:`${n}px solid`}function qr(n,e){return Wt({prop:n,themeKey:"borders",transform:e})}const NN=qr("border",Br),ON=qr("borderTop",Br),kN=qr("borderRight",Br),VN=qr("borderBottom",Br),MN=qr("borderLeft",Br),LN=qr("borderColor"),UN=qr("borderTopColor"),BN=qr("borderRightColor"),zN=qr("borderBottomColor"),FN=qr("borderLeftColor"),jN=qr("outline",Br),qN=qr("outlineColor"),$p=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Md(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ld(e,r)});return Ss(n,n.borderRadius,t)}return null};$p.propTypes={};$p.filterProps=["borderRadius"];Gp(NN,ON,kN,VN,MN,LN,UN,BN,zN,FN,$p,jN,qN);const Kp=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Md(n.theme,"spacing",8),t=r=>({gap:Ld(e,r)});return Ss(n,n.gap,t)}return null};Kp.propTypes={};Kp.filterProps=["gap"];const Qp=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Md(n.theme,"spacing",8),t=r=>({columnGap:Ld(e,r)});return Ss(n,n.columnGap,t)}return null};Qp.propTypes={};Qp.filterProps=["columnGap"];const Yp=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Md(n.theme,"spacing",8),t=r=>({rowGap:Ld(e,r)});return Ss(n,n.rowGap,t)}return null};Yp.propTypes={};Yp.filterProps=["rowGap"];const HN=Wt({prop:"gridColumn"}),GN=Wt({prop:"gridRow"}),$N=Wt({prop:"gridAutoFlow"}),KN=Wt({prop:"gridAutoColumns"}),QN=Wt({prop:"gridAutoRows"}),YN=Wt({prop:"gridTemplateColumns"}),WN=Wt({prop:"gridTemplateRows"}),XN=Wt({prop:"gridTemplateAreas"}),JN=Wt({prop:"gridArea"});Gp(Kp,Qp,Yp,HN,GN,$N,KN,QN,YN,WN,XN,JN);function Au(n,e){return e==="grey"?e:n}const ZN=Wt({prop:"color",themeKey:"palette",transform:Au}),eO=Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Au}),tO=Wt({prop:"backgroundColor",themeKey:"palette",transform:Au});Gp(ZN,eO,tO);function br(n){return n<=1&&n!==0?`${n*100}%`:n}const nO=Wt({prop:"width",transform:br}),v0=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var s,o,u,h,f;const r=((u=(o=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||qp[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:br(t)}};return Ss(n,n.maxWidth,e)}return null};v0.filterProps=["maxWidth"];const rO=Wt({prop:"minWidth",transform:br}),iO=Wt({prop:"height",transform:br}),sO=Wt({prop:"maxHeight",transform:br}),aO=Wt({prop:"minHeight",transform:br});Wt({prop:"size",cssProperty:"width",transform:br});Wt({prop:"size",cssProperty:"height",transform:br});const oO=Wt({prop:"boxSizing"});Gp(nO,v0,rO,iO,sO,aO,oO);const Wp={border:{themeKey:"borders",transform:Br},borderTop:{themeKey:"borders",transform:Br},borderRight:{themeKey:"borders",transform:Br},borderBottom:{themeKey:"borders",transform:Br},borderLeft:{themeKey:"borders",transform:Br},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Br},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$p},color:{themeKey:"palette",transform:Au},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Au},backgroundColor:{themeKey:"palette",transform:Au},p:{style:Bt},pt:{style:Bt},pr:{style:Bt},pb:{style:Bt},pl:{style:Bt},px:{style:Bt},py:{style:Bt},padding:{style:Bt},paddingTop:{style:Bt},paddingRight:{style:Bt},paddingBottom:{style:Bt},paddingLeft:{style:Bt},paddingX:{style:Bt},paddingY:{style:Bt},paddingInline:{style:Bt},paddingInlineStart:{style:Bt},paddingInlineEnd:{style:Bt},paddingBlock:{style:Bt},paddingBlockStart:{style:Bt},paddingBlockEnd:{style:Bt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kp},rowGap:{style:Yp},columnGap:{style:Qp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:br},maxWidth:{style:v0},minWidth:{transform:br},height:{transform:br},maxHeight:{transform:br},minHeight:{transform:br},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function lO(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function uO(n,e){return typeof n=="function"?n(e):n}function cO(){function n(t,r,s,o){const u={[t]:r,theme:s},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:p,transform:y,style:v}=h;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[t]:r};const E=Hp(s,p)||{};return v?v(u):Ss(u,r,C=>{let I=fp(E,y,C);return C===I&&typeof C=="string"&&(I=fp(E,y,`${t}${C==="default"?"":Ou(C)}`,C)),f===!1?I:{[f]:I}})}function e(t){const{sx:r,theme:s={}}=t||{};if(!r)return null;const o=s.unstable_sxConfig??Wp;function u(h){let f=h;if(typeof h=="function")f=h(s);else if(typeof h!="object")return h;if(!f)return null;const p=SN(s.breakpoints),y=Object.keys(p);let v=p;return Object.keys(f).forEach(E=>{const R=uO(f[E],s);if(R!=null)if(typeof R=="object")if(o[E])v=Gh(v,n(E,R,s,o));else{const C=Ss({theme:s},R,I=>({[E]:I}));lO(C,R)?v[E]=e({sx:R,theme:s}):v=Gh(v,C)}else v=Gh(v,n(E,R,s,o))}),vN(s,AN(y,v))}return Array.isArray(r)?r.map(u):u(r)}return e}const ku=cO();ku.filterProps=["sx"];function _v(){return _v=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_v.apply(null,arguments)}function hO(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function dO(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var fO=function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dO(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=hO(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Un="-ms-",mp="-moz-",et="-webkit-",DR="comm",E0="rule",T0="decl",mO="@import",NR="@keyframes",pO="@layer",gO=Math.abs,Xp=String.fromCharCode,yO=Object.assign;function _O(n,e){return xn(n,0)^45?(((e<<2^xn(n,0))<<2^xn(n,1))<<2^xn(n,2))<<2^xn(n,3):0}function OR(n){return n.trim()}function vO(n,e){return(n=e.exec(n))?n[0]:n}function tt(n,e,t){return n.replace(e,t)}function vv(n,e){return n.indexOf(e)}function xn(n,e){return n.charCodeAt(e)|0}function od(n,e,t){return n.slice(e,t)}function bi(n){return n.length}function b0(n){return n.length}function Nm(n,e){return e.push(n),n}function EO(n,e){return n.map(e).join("")}var Jp=1,Vu=1,kR=0,lr=0,sn=0,sc="";function Zp(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:Jp,column:Vu,length:u,return:""}}function wh(n,e){return yO(Zp("",null,null,"",null,null,0),n,{length:-n.length},e)}function TO(){return sn}function bO(){return sn=lr>0?xn(sc,--lr):0,Vu--,sn===10&&(Vu=1,Jp--),sn}function Ar(){return sn=lr<kR?xn(sc,lr++):0,Vu++,sn===10&&(Vu=1,Jp++),sn}function Ni(){return xn(sc,lr)}function Gm(){return lr}function Ud(n,e){return od(sc,n,e)}function ld(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VR(n){return Jp=Vu=1,kR=bi(sc=n),lr=0,[]}function MR(n){return sc="",n}function $m(n){return OR(Ud(lr-1,Ev(n===91?n+2:n===40?n+1:n)))}function wO(n){for(;(sn=Ni())&&sn<33;)Ar();return ld(n)>2||ld(sn)>3?"":" "}function SO(n,e){for(;--e&&Ar()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Ud(n,Gm()+(e<6&&Ni()==32&&Ar()==32))}function Ev(n){for(;Ar();)switch(sn){case n:return lr;case 34:case 39:n!==34&&n!==39&&Ev(sn);break;case 40:n===41&&Ev(n);break;case 92:Ar();break}return lr}function AO(n,e){for(;Ar()&&n+sn!==57;)if(n+sn===84&&Ni()===47)break;return"/*"+Ud(e,lr-1)+"*"+Xp(n===47?n:Ar())}function IO(n){for(;!ld(Ni());)Ar();return Ud(n,lr)}function RO(n){return MR(Km("",null,null,null,[""],n=VR(n),0,[0],n))}function Km(n,e,t,r,s,o,u,h,f){for(var p=0,y=0,v=u,E=0,R=0,C=0,I=1,k=1,B=1,K=0,F="",Z=s,ne=o,ae=r,P=F;k;)switch(C=K,K=Ar()){case 40:if(C!=108&&xn(P,v-1)==58){vv(P+=tt($m(K),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:P+=$m(K);break;case 9:case 10:case 13:case 32:P+=wO(C);break;case 92:P+=SO(Gm()-1,7);continue;case 47:switch(Ni()){case 42:case 47:Nm(CO(AO(Ar(),Gm()),e,t),f);break;default:P+="/"}break;case 123*I:h[p++]=bi(P)*B;case 125*I:case 59:case 0:switch(K){case 0:case 125:k=0;case 59+y:B==-1&&(P=tt(P,/\f/g,"")),R>0&&bi(P)-v&&Nm(R>32?KS(P+";",r,t,v-1):KS(tt(P," ","")+";",r,t,v-2),f);break;case 59:P+=";";default:if(Nm(ae=$S(P,e,t,p,y,s,h,F,Z=[],ne=[],v),o),K===123)if(y===0)Km(P,e,ae,ae,Z,o,v,h,ne);else switch(E===99&&xn(P,3)===110?100:E){case 100:case 108:case 109:case 115:Km(n,ae,ae,r&&Nm($S(n,ae,ae,0,0,s,h,F,s,Z=[],v),ne),s,ne,v,h,r?Z:ne);break;default:Km(P,ae,ae,ae,[""],ne,0,h,ne)}}p=y=R=0,I=B=1,F=P="",v=u;break;case 58:v=1+bi(P),R=C;default:if(I<1){if(K==123)--I;else if(K==125&&I++==0&&bO()==125)continue}switch(P+=Xp(K),K*I){case 38:B=y>0?1:(P+="\f",-1);break;case 44:h[p++]=(bi(P)-1)*B,B=1;break;case 64:Ni()===45&&(P+=$m(Ar())),E=Ni(),y=v=bi(F=P+=IO(Gm())),K++;break;case 45:C===45&&bi(P)==2&&(I=0)}}return o}function $S(n,e,t,r,s,o,u,h,f,p,y){for(var v=s-1,E=s===0?o:[""],R=b0(E),C=0,I=0,k=0;C<r;++C)for(var B=0,K=od(n,v+1,v=gO(I=u[C])),F=n;B<R;++B)(F=OR(I>0?E[B]+" "+K:tt(K,/&\f/g,E[B])))&&(f[k++]=F);return Zp(n,e,t,s===0?E0:h,f,p,y)}function CO(n,e,t){return Zp(n,e,t,DR,Xp(TO()),od(n,2,-2),0)}function KS(n,e,t,r){return Zp(n,e,t,T0,od(n,0,r),od(n,r+1,-1),r)}function Iu(n,e){for(var t="",r=b0(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function xO(n,e,t,r){switch(n.type){case pO:if(n.children.length)break;case mO:case T0:return n.return=n.return||n.value;case DR:return"";case NR:return n.return=n.value+"{"+Iu(n.children,r)+"}";case E0:n.value=n.props.join(",")}return bi(t=Iu(n.children,r))?n.return=n.value+"{"+t+"}":""}function PO(n){var e=b0(n);return function(t,r,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,s,o)||"";return u}}function DO(n){return function(e){e.root||(e=e.return)&&n(e)}}function LR(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var NO=function(e,t,r){for(var s=0,o=0;s=o,o=Ni(),s===38&&o===12&&(t[r]=1),!ld(o);)Ar();return Ud(e,lr)},OO=function(e,t){var r=-1,s=44;do switch(ld(s)){case 0:s===38&&Ni()===12&&(t[r]=1),e[r]+=NO(lr-1,t,r);break;case 2:e[r]+=$m(s);break;case 4:if(s===44){e[++r]=Ni()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Xp(s)}while(s=Ar());return e},kO=function(e,t){return MR(OO(VR(e),t))},QS=new WeakMap,VO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!QS.get(r))&&!s){QS.set(e,!0);for(var o=[],u=kO(t,o),h=r.props,f=0,p=0;f<u.length;f++)for(var y=0;y<h.length;y++,p++)e.props[p]=o[f]?u[f].replace(/&\f/g,h[y]):h[y]+" "+u[f]}}},MO=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function UR(n,e){switch(_O(n,e)){case 5103:return et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return et+n+mp+n+Un+n+n;case 6828:case 4268:return et+n+Un+n+n;case 6165:return et+n+Un+"flex-"+n+n;case 5187:return et+n+tt(n,/(\w+).+(:[^]+)/,et+"box-$1$2"+Un+"flex-$1$2")+n;case 5443:return et+n+Un+"flex-item-"+tt(n,/flex-|-self/,"")+n;case 4675:return et+n+Un+"flex-line-pack"+tt(n,/align-content|flex-|-self/,"")+n;case 5548:return et+n+Un+tt(n,"shrink","negative")+n;case 5292:return et+n+Un+tt(n,"basis","preferred-size")+n;case 6060:return et+"box-"+tt(n,"-grow","")+et+n+Un+tt(n,"grow","positive")+n;case 4554:return et+tt(n,/([^-])(transform)/g,"$1"+et+"$2")+n;case 6187:return tt(tt(tt(n,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),n,"")+n;case 5495:case 3959:return tt(n,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(n,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+n+n;case 4095:case 3583:case 4068:case 2532:return tt(n,/(.+)-inline(.+)/,et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bi(n)-1-e>6)switch(xn(n,e+1)){case 109:if(xn(n,e+4)!==45)break;case 102:return tt(n,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+mp+(xn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~vv(n,"stretch")?UR(tt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(xn(n,e+1)!==115)break;case 6444:switch(xn(n,bi(n)-3-(~vv(n,"!important")&&10))){case 107:return tt(n,":",":"+et)+n;case 101:return tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(xn(n,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Un+"$2box$3")+n}break;case 5936:switch(xn(n,e+11)){case 114:return et+n+Un+tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return et+n+Un+tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return et+n+Un+tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return et+n+Un+n+n}return n}var LO=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case T0:e.return=UR(e.value,e.length);break;case NR:return Iu([wh(e,{value:tt(e.value,"@","@"+et)})],s);case E0:if(e.length)return EO(e.props,function(o){switch(vO(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Iu([wh(e,{props:[tt(o,/:(read-\w+)/,":"+mp+"$1")]})],s);case"::placeholder":return Iu([wh(e,{props:[tt(o,/:(plac\w+)/,":"+et+"input-$1")]}),wh(e,{props:[tt(o,/:(plac\w+)/,":"+mp+"$1")]}),wh(e,{props:[tt(o,/:(plac\w+)/,Un+"input-$1")]})],s)}return""})}},UO=[LO],BO=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var k=I.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var s=e.stylisPlugins||UO,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var k=I.getAttribute("data-emotion").split(" "),B=1;B<k.length;B++)o[k[B]]=!0;h.push(I)});var f,p=[VO,MO];{var y,v=[xO,DO(function(I){y.insert(I)})],E=PO(p.concat(s,v)),R=function(k){return Iu(RO(k),E)};f=function(k,B,K,F){y=K,R(k?k+"{"+B.styles+"}":B.styles),F&&(C.inserted[B.name]=!0)}}var C={key:t,sheet:new fO({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return C.sheet.hydrate(h),C},zO=!0;function FO(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var BR=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||zO===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},jO=function(e,t,r){BR(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function qO(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var HO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},GO=/[A-Z]|^ms/g,$O=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zR=function(e){return e.charCodeAt(1)===45},YS=function(e){return e!=null&&typeof e!="boolean"},$_=LR(function(n){return zR(n)?n:n.replace(GO,"-$&").toLowerCase()}),WS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace($O,function(r,s,o){return wi={name:s,styles:o,next:wi},s})}return HO[e]!==1&&!zR(e)&&typeof t=="number"&&t!==0?t+"px":t};function ud(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return wi={name:s.name,styles:s.styles,next:wi},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)wi={name:u.name,styles:u.styles,next:wi},u=u.next;var h=o.styles+";";return h}return KO(n,e,t)}case"function":{if(n!==void 0){var f=wi,p=t(n);return wi=f,ud(n,e,p)}break}}var y=t;if(e==null)return y;var v=e[y];return v!==void 0?v:y}function KO(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=ud(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":YS(h)&&(r+=$_(o)+":"+WS(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)YS(u[f])&&(r+=$_(o)+":"+WS(o,u[f])+";");else{var p=ud(n,e,u);switch(o){case"animation":case"animationName":{r+=$_(o)+":"+p+";";break}default:r+=o+"{"+p+"}"}}}return r}var XS=/label:\s*([^\s;{]+)\s*(;|$)/g,wi;function FR(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";wi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=ud(t,e,o);else{var u=o;s+=u[0]}for(var h=1;h<n.length;h++)if(s+=ud(t,e,n[h]),r){var f=o;s+=f[h]}XS.lastIndex=0;for(var p="",y;(y=XS.exec(s))!==null;)p+="-"+y[1];var v=qO(s)+p;return{name:v,styles:s,next:wi}}var QO=function(e){return e()},YO=kS.useInsertionEffect?kS.useInsertionEffect:!1,WO=YO||QO,jR=Y.createContext(typeof HTMLElement<"u"?BO({key:"css"}):null);jR.Provider;var XO=function(e){return Y.forwardRef(function(t,r){var s=Y.useContext(jR);return e(t,s,r)})},JO=Y.createContext({}),ZO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ek=LR(function(n){return ZO.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),tk=ek,nk=function(e){return e!=="theme"},JS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?tk:nk},ZS=function(e,t,r){var s;if(t){var o=t.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},rk=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return BR(t,r,s),WO(function(){return jO(t,r,s)}),null},ik=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=ZS(e,t,r),f=h||JS(s),p=!f("as");return function(){var y=arguments,v=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),y[0]==null||y[0].raw===void 0)v.push.apply(v,y);else{var E=y[0];v.push(E[0]);for(var R=y.length,C=1;C<R;C++)v.push(y[C],E[C])}var I=XO(function(k,B,K){var F=p&&k.as||s,Z="",ne=[],ae=k;if(k.theme==null){ae={};for(var P in k)ae[P]=k[P];ae.theme=Y.useContext(JO)}typeof k.className=="string"?Z=FO(B.registered,ne,k.className):k.className!=null&&(Z=k.className+" ");var x=FR(v.concat(ne),B.registered,ae);Z+=B.key+"-"+x.name,u!==void 0&&(Z+=" "+u);var D=p&&h===void 0?JS(F):f,b={};for(var N in k)p&&N==="as"||D(N)&&(b[N]=k[N]);return b.className=Z,K&&(b.ref=K),Y.createElement(Y.Fragment,null,Y.createElement(rk,{cache:B,serialized:x,isStringTag:typeof F=="string"}),Y.createElement(F,b))});return I.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=s,I.__emotion_styles=v,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(k,B){var K=n(k,_v({},t,B,{shouldForwardProp:ZS(I,B,!0)}));return K.apply(void 0,v)},I}},sk=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Tv=ik.bind(null);sk.forEach(function(n){Tv[n]=Tv(n)});function ak(n,e){return Tv(n,e)}function ok(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const eA=[];function tA(n){return eA[0]=n,FR(eA)}const lk=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function uk(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,o=lk(e),u=Object.keys(o);function h(E){return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t})`}function f(E){return`@media (max-width:${(typeof e[E]=="number"?e[E]:E)-r/100}${t})`}function p(E,R){const C=u.indexOf(R);return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t}) and (max-width:${(C!==-1&&typeof e[u[C]]=="number"?e[u[C]]:R)-r/100}${t})`}function y(E){return u.indexOf(E)+1<u.length?p(E,u[u.indexOf(E)+1]):h(E)}function v(E){const R=u.indexOf(E);return R===0?h(u[1]):R===u.length-1?f(u[R]):p(E,u[u.indexOf(E)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:p,only:y,not:v,unit:t,...s}}const ck={borderRadius:4};function qR(n=8,e=_0({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function hk(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let s=t.getColorSchemeSelector(n);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return t.palette.mode===n?e:{}}function HR(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:o={},...u}=n,h=uk(t),f=qR(s);let p=Sr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...ck,...o}},u);return p=bN(p),p.applyStyles=hk,p=e.reduce((y,v)=>Sr(y,v),p),p.unstable_sxConfig={...Wp,...u==null?void 0:u.unstable_sxConfig},p.unstable_sx=function(v){return ku({sx:v,theme:this})},p}const dk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function GR(n,e,t="Mui"){const r=dk[e];return r?`${t}-${r}`:`${mN.generate(n)}-${e}`}function fk(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=GR(n,s,t)}),r}function $R(n){const{variants:e,...t}=n,r={variants:e,style:tA(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=tA(s.style))}),r}const mk=HR();function K_(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function pk(n){return n?(e,t)=>t[n]:null}function gk(n,e,t){n.theme=vk(n.theme)?t:n.theme[e]||n.theme}function Qm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Qm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:s,...o}=t;r=o}return KR(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function KR(n,e,t=[]){var s;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((s=n.ownerState)==null?void 0:s[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function yk(n={}){const{themeId:e,defaultTheme:t=mk,rootShouldForwardProp:r=K_,slotShouldForwardProp:s=K_}=n;function o(h){gk(h,e,t)}return(h,f={})=>{ok(h,ne=>ne.filter(ae=>ae!==ku));const{name:p,slot:y,skipVariantsResolver:v,skipSx:E,overridesResolver:R=pk(Tk(y)),...C}=f,I=v!==void 0?v:y&&y!=="Root"&&y!=="root"||!1,k=E||!1;let B=K_;y==="Root"||y==="root"?B=r:y?B=s:Ek(h)&&(B=void 0);const K=ak(h,{shouldForwardProp:B,label:_k(),...C}),F=ne=>{if(typeof ne=="function"&&ne.__emotion_real!==ne)return function(P){return Qm(P,ne)};if(_s(ne)){const ae=$R(ne);return ae.variants?function(x){return Qm(x,ae)}:ae.style}return ne},Z=(...ne)=>{const ae=[],P=ne.map(F),x=[];if(ae.push(o),p&&R&&x.push(function(M){var ee,de;const Oe=(de=(ee=M.theme.components)==null?void 0:ee[p])==null?void 0:de.styleOverrides;if(!Oe)return null;const ke={};for(const _e in Oe)ke[_e]=Qm(M,Oe[_e]);return R(M,ke)}),p&&!I&&x.push(function(M){var ke,ee;const O=M.theme,Oe=(ee=(ke=O==null?void 0:O.components)==null?void 0:ke[p])==null?void 0:ee.variants;return Oe?KR(M,Oe):null}),k||x.push(ku),Array.isArray(P[0])){const N=P.shift(),M=new Array(ae.length).fill(""),O=new Array(x.length).fill("");let Oe;Oe=[...M,...N,...O],Oe.raw=[...M,...N.raw,...O],ae.unshift(Oe)}const D=[...ae,...P,...x],b=K(...D);return h.muiName&&(b.muiName=h.muiName),b};return K.withConfig&&(Z.withConfig=K.withConfig),Z}}function _k(n,e){return void 0}function vk(n){for(const e in n)return!1;return!0}function Ek(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Tk(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function bv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")t[s]={...n[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const o=n[s],u=e[s];if(!u)t[s]=o||{};else if(!o)t[s]=u;else{t[s]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[s][f]=bv(o[f],u[f])}}}else t[s]===void 0&&(t[s]=n[s])}return t}function bk(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function w0(n,e=0,t=1){return bk(n,e,t)}function wk(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xa(n){if(n.type)return n;if(n.charAt(0)==="#")return xa(wk(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ko(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ko(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:s}}const Sk=n=>{const e=xa(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Lh=(n,e)=>{try{return Sk(n)}catch{return n}};function eg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function QR(n){n=xa(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),u=(p,y=(p+t/30)%12)=>s-o*Math.max(Math.min(y-3,9-y,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),eg({type:h,values:f})}function wv(n){n=xa(n);let e=n.type==="hsl"||n.type==="hsla"?xa(QR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ak(n,e){const t=wv(n),r=wv(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Ik(n,e){return n=xa(n),e=w0(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,eg(n)}function Om(n,e,t){try{return Ik(n,e)}catch{return n}}function S0(n,e){if(n=xa(n),e=w0(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return eg(n)}function ft(n,e,t){try{return S0(n,e)}catch{return n}}function A0(n,e){if(n=xa(n),e=w0(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return eg(n)}function mt(n,e,t){try{return A0(n,e)}catch{return n}}function Rk(n,e=.15){return wv(n)>.5?S0(n,e):A0(n,e)}function km(n,e,t){try{return Rk(n,e)}catch{return n}}const Ck=Y.createContext(void 0);function xk(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?bv(s.defaultProps,r):!s.styleOverrides&&!s.variants?bv(s,r):r}function Pk({props:n,name:e}){const t=Y.useContext(Ck);return xk({props:n,name:e,theme:{components:t}})}const nA={theme:void 0};function Dk(n){let e,t;return function(s){let o=e;return(o===void 0||s.theme!==t)&&(nA.theme=s.theme,o=$R(n(nA)),e=o,t=s.theme),o}}function Nk(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const rA=(n,e,t,r=[])=>{let s=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(s)?s[Number(o)]=t:s&&typeof s=="object"&&(s[o]=t):s&&typeof s=="object"&&(s[o]||(s[o]=r.includes(o)?[]:{}),s=s[o])})},Ok=(n,e,t)=>{function r(s,o=[],u=[]){Object.entries(s).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},kk=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Q_(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},o={},u={};return Ok(n,(h,f,p)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const y=`--${t?`${t}-`:""}${h.join("-")}`,v=kk(h,f);Object.assign(s,{[y]:v}),rA(o,h,`var(${y})`,p),rA(u,h,`var(${y}, ${v})`,p)}},h=>h[0]==="vars"),{css:s,vars:o,varsWithDefaults:u}}function Vk(n,e={}){const{getSelector:t=k,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:p,css:y,varsWithDefaults:v}=Q_(f,e);let E=v;const R={},{[h]:C,...I}=o;if(Object.entries(I||{}).forEach(([F,Z])=>{const{vars:ne,css:ae,varsWithDefaults:P}=Q_(Z,e);E=Sr(E,P),R[F]={css:ae,vars:ne}}),C){const{css:F,vars:Z,varsWithDefaults:ne}=Q_(C,e);E=Sr(E,ne),R[h]={css:F,vars:Z}}function k(F,Z){var ae,P;let ne=s;if(s==="class"&&(ne=".%s"),s==="data"&&(ne="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(ne=`[${s}="%s"]`),F){if(ne==="media")return n.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${((P=(ae=o[F])==null?void 0:ae.palette)==null?void 0:P.mode)||F})`]:{":root":Z}};if(ne)return n.defaultColorScheme===F?`:root, ${ne.replace("%s",String(F))}`:ne.replace("%s",String(F))}return":root"}return{vars:E,generateThemeVars:()=>{let F={...p};return Object.entries(R).forEach(([,{vars:Z}])=>{F=Sr(F,Z)}),F},generateStyleSheets:()=>{var x,D;const F=[],Z=n.defaultColorScheme||"light";function ne(b,N){Object.keys(N).length&&F.push(typeof b=="string"?{[b]:{...N}}:b)}ne(t(void 0,{...y}),y);const{[Z]:ae,...P}=R;if(ae){const{css:b}=ae,N=(D=(x=o[Z])==null?void 0:x.palette)==null?void 0:D.mode,M=!r&&N?{colorScheme:N,...b}:{...b};ne(t(Z,{...M}),M)}return Object.entries(P).forEach(([b,{css:N}])=>{var Oe,ke;const M=(ke=(Oe=o[b])==null?void 0:Oe.palette)==null?void 0:ke.mode,O=!r&&M?{colorScheme:M,...N}:{...N};ne(t(b,{...O}),O)}),F}}}function Mk(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const cd={black:"#000",white:"#fff"},Lk={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},au={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ou={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Sh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},lu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},uu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function YR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cd.white,default:cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Uk=YR();function WR(){return{text:{primary:cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const iA=WR();function sA(n,e,t,r){const s=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=A0(n.main,s):e==="dark"&&(n.dark=S0(n.main,o)))}function Bk(n="light"){return n==="dark"?{main:lu[200],light:lu[50],dark:lu[400]}:{main:lu[700],light:lu[400],dark:lu[800]}}function zk(n="light"){return n==="dark"?{main:au[200],light:au[50],dark:au[400]}:{main:au[500],light:au[300],dark:au[700]}}function Fk(n="light"){return n==="dark"?{main:ou[500],light:ou[300],dark:ou[700]}:{main:ou[700],light:ou[400],dark:ou[800]}}function jk(n="light"){return n==="dark"?{main:uu[400],light:uu[300],dark:uu[700]}:{main:uu[700],light:uu[500],dark:uu[900]}}function qk(n="light"){return n==="dark"?{main:cu[400],light:cu[300],dark:cu[700]}:{main:cu[800],light:cu[500],dark:cu[900]}}function Hk(n="light"){return n==="dark"?{main:Sh[400],light:Sh[300],dark:Sh[700]}:{main:"#ed6c02",light:Sh[500],dark:Sh[900]}}function I0(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...s}=n,o=n.primary||Bk(e),u=n.secondary||zk(e),h=n.error||Fk(e),f=n.info||jk(e),p=n.success||qk(e),y=n.warning||Hk(e);function v(I){return Ak(I,iA.text.primary)>=t?iA.text.primary:Uk.text.primary}const E=({color:I,name:k,mainShade:B=500,lightShade:K=300,darkShade:F=700})=>{if(I={...I},!I.main&&I[B]&&(I.main=I[B]),!I.hasOwnProperty("main"))throw new Error(Ko(11,k?` (${k})`:"",B));if(typeof I.main!="string")throw new Error(Ko(12,k?` (${k})`:"",JSON.stringify(I.main)));return sA(I,"light",K,r),sA(I,"dark",F,r),I.contrastText||(I.contrastText=v(I.main)),I};let R;return e==="light"?R=YR():e==="dark"&&(R=WR()),Sr({common:{...cd},mode:e,primary:E({color:o,name:"primary"}),secondary:E({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:E({color:h,name:"error"}),warning:E({color:y,name:"warning"}),info:E({color:f,name:"info"}),success:E({color:p,name:"success"}),grey:Lk,contrastThreshold:t,getContrastText:v,augmentColor:E,tonalOffset:r,...R},s)}function Gk(n){const e={};return Object.entries(n).forEach(r=>{const[s,o]=r;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function $k(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Kk(n){return Math.round(n*1e5)/1e5}const aA={textTransform:"uppercase"},oA='"Roboto", "Helvetica", "Arial", sans-serif';function Qk(n,e){const{fontFamily:t=oA,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:p,pxToRem:y,...v}=typeof e=="function"?e(n):e,E=r/14,R=y||(k=>`${k/f*E}rem`),C=(k,B,K,F,Z)=>({fontFamily:t,fontWeight:k,fontSize:R(B),lineHeight:K,...t===oA?{letterSpacing:`${Kk(F/B)}em`}:{},...Z,...p}),I={h1:C(s,96,1.167,-1.5),h2:C(s,60,1.2,-.5),h3:C(o,48,1.167,0),h4:C(o,34,1.235,.25),h5:C(o,24,1.334,0),h6:C(u,20,1.6,.15),subtitle1:C(o,16,1.75,.15),subtitle2:C(u,14,1.57,.1),body1:C(o,16,1.5,.15),body2:C(o,14,1.43,.15),button:C(u,14,1.75,.4,aA),caption:C(o,12,1.66,.4),overline:C(o,12,2.66,1,aA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Sr({htmlFontSize:f,pxToRem:R,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},v,{clone:!1})}const Yk=.2,Wk=.14,Xk=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Yk})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Wk})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Xk})`].join(",")}const Jk=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],Zk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},eV={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lA(n){return`${Math.round(n)}ms`}function tV(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function nV(n){const e={...Zk,...n.easing},t={...eV,...n.duration};return{getAutoHeightDuration:tV,create:(s=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...p}=o;return(Array.isArray(s)?s:[s]).map(y=>`${y} ${typeof u=="string"?u:lA(u)} ${h} ${typeof f=="string"?f:lA(f)}`).join(",")},...n,easing:e,duration:t}}const rV={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function iV(n){return _s(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function XR(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let o=0;o<s.length;o++){const[u,h]=s[o];!iV(h)||u.startsWith("unstable_")?delete r[u]:_s(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Sv(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:o={},transitions:u={},typography:h={},shape:f,...p}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Ko(20));const y=I0(o),v=HR(n);let E=Sr(v,{mixins:$k(v.breakpoints,r),palette:y,shadows:Jk.slice(),typography:Qk(y,h),transitions:nV(u),zIndex:{...rV}});return E=Sr(E,p),E=e.reduce((R,C)=>Sr(R,C),E),E.unstable_sxConfig={...Wp,...p==null?void 0:p.unstable_sxConfig},E.unstable_sx=function(C){return ku({sx:C,theme:this})},E.toRuntimeSource=XR,E}function sV(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const aV=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=sV(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function JR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function ZR(n){return n==="dark"?aV:[]}function oV(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...s}=n,o=I0(e);return{palette:o,opacity:{...JR(o.mode),...t},overlays:r||ZR(o.mode),...s}}function lV(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const uV=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],cV=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return uV(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function hV(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function te(n,e,t){!n[e]&&t&&(n[e]=t)}function Uh(n){return typeof n!="string"||!n.startsWith("hsl")?n:QR(n)}function ys(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Lh(Uh(n[e])))}function dV(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const vi=n=>{try{return n()}catch{}},fV=(n="mui")=>Nk(n);function Y_(n,e,t,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!t){n[r]=oV({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:o,...u}=Sv({...t,palette:{mode:s,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...JR(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||ZR(s)},u}function mV(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=lV,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...p}=n,y=Object.keys(t)[0],v=r||(t.light&&y!=="light"?"light":y),E=fV(o),{[v]:R,light:C,dark:I,...k}=t,B={...k};let K=R;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(K=!0),!K)throw new Error(Ko(21,v));const F=Y_(B,K,p,v);C&&!B.light&&Y_(B,C,void 0,"light"),I&&!B.dark&&Y_(B,I,void 0,"dark");let Z={defaultColorScheme:v,...F,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:E,colorSchemes:B,font:{...Gk(F.typography),...F.font},spacing:dV(p.spacing)};Object.keys(Z.colorSchemes).forEach(D=>{const b=Z.colorSchemes[D].palette,N=M=>{const O=M.split("-"),Oe=O[1],ke=O[2];return E(M,b[Oe][ke])};if(b.mode==="light"&&(te(b.common,"background","#fff"),te(b.common,"onBackground","#000")),b.mode==="dark"&&(te(b.common,"background","#000"),te(b.common,"onBackground","#fff")),hV(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){te(b.Alert,"errorColor",ft(b.error.light,.6)),te(b.Alert,"infoColor",ft(b.info.light,.6)),te(b.Alert,"successColor",ft(b.success.light,.6)),te(b.Alert,"warningColor",ft(b.warning.light,.6)),te(b.Alert,"errorFilledBg",N("palette-error-main")),te(b.Alert,"infoFilledBg",N("palette-info-main")),te(b.Alert,"successFilledBg",N("palette-success-main")),te(b.Alert,"warningFilledBg",N("palette-warning-main")),te(b.Alert,"errorFilledColor",vi(()=>b.getContrastText(b.error.main))),te(b.Alert,"infoFilledColor",vi(()=>b.getContrastText(b.info.main))),te(b.Alert,"successFilledColor",vi(()=>b.getContrastText(b.success.main))),te(b.Alert,"warningFilledColor",vi(()=>b.getContrastText(b.warning.main))),te(b.Alert,"errorStandardBg",mt(b.error.light,.9)),te(b.Alert,"infoStandardBg",mt(b.info.light,.9)),te(b.Alert,"successStandardBg",mt(b.success.light,.9)),te(b.Alert,"warningStandardBg",mt(b.warning.light,.9)),te(b.Alert,"errorIconColor",N("palette-error-main")),te(b.Alert,"infoIconColor",N("palette-info-main")),te(b.Alert,"successIconColor",N("palette-success-main")),te(b.Alert,"warningIconColor",N("palette-warning-main")),te(b.AppBar,"defaultBg",N("palette-grey-100")),te(b.Avatar,"defaultBg",N("palette-grey-400")),te(b.Button,"inheritContainedBg",N("palette-grey-300")),te(b.Button,"inheritContainedHoverBg",N("palette-grey-A100")),te(b.Chip,"defaultBorder",N("palette-grey-400")),te(b.Chip,"defaultAvatarColor",N("palette-grey-700")),te(b.Chip,"defaultIconColor",N("palette-grey-700")),te(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),te(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),te(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),te(b.LinearProgress,"primaryBg",mt(b.primary.main,.62)),te(b.LinearProgress,"secondaryBg",mt(b.secondary.main,.62)),te(b.LinearProgress,"errorBg",mt(b.error.main,.62)),te(b.LinearProgress,"infoBg",mt(b.info.main,.62)),te(b.LinearProgress,"successBg",mt(b.success.main,.62)),te(b.LinearProgress,"warningBg",mt(b.warning.main,.62)),te(b.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),te(b.Slider,"primaryTrack",mt(b.primary.main,.62)),te(b.Slider,"secondaryTrack",mt(b.secondary.main,.62)),te(b.Slider,"errorTrack",mt(b.error.main,.62)),te(b.Slider,"infoTrack",mt(b.info.main,.62)),te(b.Slider,"successTrack",mt(b.success.main,.62)),te(b.Slider,"warningTrack",mt(b.warning.main,.62));const M=km(b.background.default,.8);te(b.SnackbarContent,"bg",M),te(b.SnackbarContent,"color",vi(()=>b.getContrastText(M))),te(b.SpeedDialAction,"fabHoverBg",km(b.background.paper,.15)),te(b.StepConnector,"border",N("palette-grey-400")),te(b.StepContent,"border",N("palette-grey-400")),te(b.Switch,"defaultColor",N("palette-common-white")),te(b.Switch,"defaultDisabledColor",N("palette-grey-100")),te(b.Switch,"primaryDisabledColor",mt(b.primary.main,.62)),te(b.Switch,"secondaryDisabledColor",mt(b.secondary.main,.62)),te(b.Switch,"errorDisabledColor",mt(b.error.main,.62)),te(b.Switch,"infoDisabledColor",mt(b.info.main,.62)),te(b.Switch,"successDisabledColor",mt(b.success.main,.62)),te(b.Switch,"warningDisabledColor",mt(b.warning.main,.62)),te(b.TableCell,"border",mt(Om(b.divider,1),.88)),te(b.Tooltip,"bg",Om(b.grey[700],.92))}if(b.mode==="dark"){te(b.Alert,"errorColor",mt(b.error.light,.6)),te(b.Alert,"infoColor",mt(b.info.light,.6)),te(b.Alert,"successColor",mt(b.success.light,.6)),te(b.Alert,"warningColor",mt(b.warning.light,.6)),te(b.Alert,"errorFilledBg",N("palette-error-dark")),te(b.Alert,"infoFilledBg",N("palette-info-dark")),te(b.Alert,"successFilledBg",N("palette-success-dark")),te(b.Alert,"warningFilledBg",N("palette-warning-dark")),te(b.Alert,"errorFilledColor",vi(()=>b.getContrastText(b.error.dark))),te(b.Alert,"infoFilledColor",vi(()=>b.getContrastText(b.info.dark))),te(b.Alert,"successFilledColor",vi(()=>b.getContrastText(b.success.dark))),te(b.Alert,"warningFilledColor",vi(()=>b.getContrastText(b.warning.dark))),te(b.Alert,"errorStandardBg",ft(b.error.light,.9)),te(b.Alert,"infoStandardBg",ft(b.info.light,.9)),te(b.Alert,"successStandardBg",ft(b.success.light,.9)),te(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),te(b.Alert,"errorIconColor",N("palette-error-main")),te(b.Alert,"infoIconColor",N("palette-info-main")),te(b.Alert,"successIconColor",N("palette-success-main")),te(b.Alert,"warningIconColor",N("palette-warning-main")),te(b.AppBar,"defaultBg",N("palette-grey-900")),te(b.AppBar,"darkBg",N("palette-background-paper")),te(b.AppBar,"darkColor",N("palette-text-primary")),te(b.Avatar,"defaultBg",N("palette-grey-600")),te(b.Button,"inheritContainedBg",N("palette-grey-800")),te(b.Button,"inheritContainedHoverBg",N("palette-grey-700")),te(b.Chip,"defaultBorder",N("palette-grey-700")),te(b.Chip,"defaultAvatarColor",N("palette-grey-300")),te(b.Chip,"defaultIconColor",N("palette-grey-300")),te(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),te(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),te(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),te(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),te(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),te(b.LinearProgress,"errorBg",ft(b.error.main,.5)),te(b.LinearProgress,"infoBg",ft(b.info.main,.5)),te(b.LinearProgress,"successBg",ft(b.success.main,.5)),te(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),te(b.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),te(b.Slider,"primaryTrack",ft(b.primary.main,.5)),te(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),te(b.Slider,"errorTrack",ft(b.error.main,.5)),te(b.Slider,"infoTrack",ft(b.info.main,.5)),te(b.Slider,"successTrack",ft(b.success.main,.5)),te(b.Slider,"warningTrack",ft(b.warning.main,.5));const M=km(b.background.default,.98);te(b.SnackbarContent,"bg",M),te(b.SnackbarContent,"color",vi(()=>b.getContrastText(M))),te(b.SpeedDialAction,"fabHoverBg",km(b.background.paper,.15)),te(b.StepConnector,"border",N("palette-grey-600")),te(b.StepContent,"border",N("palette-grey-600")),te(b.Switch,"defaultColor",N("palette-grey-300")),te(b.Switch,"defaultDisabledColor",N("palette-grey-600")),te(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),te(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),te(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),te(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),te(b.Switch,"successDisabledColor",ft(b.success.main,.55)),te(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),te(b.TableCell,"border",ft(Om(b.divider,1),.68)),te(b.Tooltip,"bg",Om(b.grey[700],.92))}ys(b.background,"default"),ys(b.background,"paper"),ys(b.common,"background"),ys(b.common,"onBackground"),ys(b,"divider"),Object.keys(b).forEach(M=>{const O=b[M];M!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&te(b[M],"mainChannel",Lh(Uh(O.main))),O.light&&te(b[M],"lightChannel",Lh(Uh(O.light))),O.dark&&te(b[M],"darkChannel",Lh(Uh(O.dark))),O.contrastText&&te(b[M],"contrastTextChannel",Lh(Uh(O.contrastText))),M==="text"&&(ys(b[M],"primary"),ys(b[M],"secondary")),M==="action"&&(O.active&&ys(b[M],"active"),O.selected&&ys(b[M],"selected")))})}),Z=e.reduce((D,b)=>Sr(D,b),Z);const ne={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:u,getSelector:cV(Z)},{vars:ae,generateThemeVars:P,generateStyleSheets:x}=Vk(Z,ne);return Z.vars=ae,Object.entries(Z.colorSchemes[Z.defaultColorScheme]).forEach(([D,b])=>{Z[D]=b}),Z.generateThemeVars=P,Z.generateStyleSheets=x,Z.generateSpacing=function(){return qR(p.spacing,_0(this))},Z.getColorSchemeSelector=Mk(h),Z.spacing=Z.generateSpacing(),Z.shouldSkipGeneratingVar=u,Z.unstable_sxConfig={...Wp,...p==null?void 0:p.unstable_sxConfig},Z.unstable_sx=function(b){return ku({sx:b,theme:this})},Z.toRuntimeSource=XR,Z}function uA(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:I0({...t===!0?{}:t.palette,mode:e})})}function pV(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=s==null?void 0:s[h],p={...s,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Sv(n,...e);let y=t;"palette"in n||p[h]&&(p[h]!==!0?y=p[h].palette:h==="dark"&&(y={mode:"dark"}));const v=Sv({...n,palette:y},...e);return v.defaultColorScheme=h,v.colorSchemes=p,v.palette.mode==="light"&&(v.colorSchemes.light={...p.light!==!0&&p.light,palette:v.palette},uA(v,"dark",p.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:v.palette},uA(v,"light",p.light)),v}return!t&&!("light"in p)&&h==="light"&&(p.light=!0),mV({...u,colorSchemes:p,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const gV=pV(),yV="$$material";function _V(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const vV=n=>_V(n)&&n!=="classes",EV=yk({themeId:yV,defaultTheme:gV,rootShouldForwardProp:vV}),TV=Dk;function bV(n){return Pk(n)}function wV(n){return GR("MuiSvgIcon",n)}fk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const SV=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${Ou(e)}`,`fontSize${Ou(t)}`]};return gN(s,wV,r)},AV=EV("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ou(t.color)}`],e[`fontSize${Ou(t.fontSize)}`]]}})(TV(({theme:n})=>{var e,t,r,s,o,u,h,f,p,y,v,E,R,C;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=n.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((y=(p=n.typography)==null?void 0:p.pxToRem)==null?void 0:y.call(p,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var k,B;return{props:{color:I},style:{color:(B=(k=(n.vars??n).palette)==null?void 0:k[I])==null?void 0:B.main}}}),{props:{color:"action"},style:{color:(E=(v=(n.vars??n).palette)==null?void 0:v.action)==null?void 0:E.active}},{props:{color:"disabled"},style:{color:(C=(R=(n.vars??n).palette)==null?void 0:R.action)==null?void 0:C.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Av=Y.forwardRef(function(e,t){const r=bV({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:p,inheritViewBox:y=!1,titleAccess:v,viewBox:E="0 0 24 24",...R}=r,C=Y.isValidElement(s)&&s.type==="svg",I={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:E,hasSvgAsChild:C},k={};y||(k.viewBox=E);const B=SV(I);return z.jsxs(AV,{as:h,className:pN(B.root,o),focusable:"false",color:p,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:t,...k,...R,...C&&s.props,ownerState:I,children:[C?s.props.children:s,v?z.jsx("title",{children:v}):null]})});Av.muiName="SvgIcon";function e1(n,e){function t(r,s){return z.jsx(Av,{"data-testid":void 0,ref:s,...r,children:n})}return t.muiName=Av.muiName,Y.memo(Y.forwardRef(t))}const IV=e1(z.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),RV=e1(z.jsx("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42s-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1zM9 9l3-4.4L15 9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}));var Ah={},cA;function CV(){if(cA)return Ah;cA=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.parse=u,Ah.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,R){const C=new o,I=E.length;if(I<2)return C;const k=(R==null?void 0:R.decode)||y;let B=0;do{const K=E.indexOf("=",B);if(K===-1)break;const F=E.indexOf(";",B),Z=F===-1?I:F;if(K>Z){B=E.lastIndexOf(";",K-1)+1;continue}const ne=h(E,B,K),ae=f(E,K,ne),P=E.slice(ne,ae);if(C[P]===void 0){let x=h(E,K+1,Z),D=f(E,Z,x);const b=k(E.slice(x,D));C[P]=b}B=Z+1}while(B<I);return C}function h(E,R,C){do{const I=E.charCodeAt(R);if(I!==32&&I!==9)return R}while(++R<C);return C}function f(E,R,C){for(;R>C;){const I=E.charCodeAt(--R);if(I!==32&&I!==9)return R+1}return C}function p(E,R,C){const I=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const k=I(R);if(!e.test(k))throw new TypeError(`argument val is invalid: ${R}`);let B=E+"="+k;if(!C)return B;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);B+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);B+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);B+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);B+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(B+="; HttpOnly"),C.secure&&(B+="; Secure"),C.partitioned&&(B+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return B}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return s.call(E)==="[object Date]"}return Ah}CV();var hA="popstate";function xV(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return Iv("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:hd(s)}return DV(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PV(){return Math.random().toString(36).substring(2,10)}function dA(n,e){return{usr:n.state,key:n.key,idx:e}}function Iv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:t,key:e&&e.key||r||PV()}}function hd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function DV(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let k=y(),B=k==null?null:k-p;p=k,f&&f({action:h,location:I.location,delta:B})}function E(k,B){h="PUSH";let K=Iv(I.location,k,B);p=y()+1;let F=dA(K,p),Z=I.createHref(K);try{u.pushState(F,"",Z)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(Z)}o&&f&&f({action:h,location:I.location,delta:1})}function R(k,B){h="REPLACE";let K=Iv(I.location,k,B);p=y();let F=dA(K,p),Z=I.createHref(K);u.replaceState(F,"",Z),o&&f&&f({action:h,location:I.location,delta:0})}function C(k){return NV(k)}let I={get action(){return h},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(hA,v),f=k,()=>{s.removeEventListener(hA,v),f=null}},createHref(k){return e(s,k)},createURL:C,encodeLocation(k){let B=C(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:R,go(k){return u.go(k)}};return I}function NV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:hd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function t1(n,e,t="/"){return OV(n,e,t,!1)}function OV(n,e,t,r){let s=typeof e=="string"?ac(e):e,o=As(s.pathname||"/",t);if(o==null)return null;let u=n1(n);kV(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=GV(o);h=qV(u[f],p,r)}return h}function n1(n,e=[],t=[],r=""){let s=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=bs([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),n1(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:FV(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,u);else for(let f of r1(o.path))s(o,u,f)}),e}function r1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=r1(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function kV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:jV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var VV=/^:[\w-]+$/,MV=3,LV=2,UV=1,BV=10,zV=-2,fA=n=>n==="*";function FV(n,e){let t=n.split("/"),r=t.length;return t.some(fA)&&(r+=zV),e&&(r+=LV),t.filter(s=>!fA(s)).reduce((s,o)=>s+(VV.test(o)?MV:o===""?UV:BV),r)}function jV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function qV(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=pp({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=pp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:bs([o,v.pathname]),pathnameBase:YV(bs([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=bs([o,v.pathnameBase]))}return u}function pp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=HV(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let C=h[E]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const R=h[E];return v&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function HV(n,e=!1,t=!0){Vi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function As(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function $V(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ac(n):n;return{pathname:t?t.startsWith("/")?t:KV(t,e):e,search:WV(r),hash:XV(s)}}function KV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function W_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function i1(n){let e=QV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function s1(n,e,t,r=!1){let s;typeof n=="string"?s=ac(n):(s={...n},Nt(!s.pathname||!s.pathname.includes("?"),W_("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),W_("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),W_("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}h=v>=0?e[v]:"/"}let f=$V(s,h),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var bs=n=>n.join("/").replace(/\/\/+/g,"/"),YV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var a1=["POST","PUT","PATCH","DELETE"];new Set(a1);var ZV=["GET",...a1];new Set(ZV);var oc=Y.createContext(null);oc.displayName="DataRouter";var tg=Y.createContext(null);tg.displayName="DataRouterState";var o1=Y.createContext({isTransitioning:!1});o1.displayName="ViewTransition";var eM=Y.createContext(new Map);eM.displayName="Fetchers";var tM=Y.createContext(null);tM.displayName="Await";var ji=Y.createContext(null);ji.displayName="Navigation";var Bd=Y.createContext(null);Bd.displayName="Location";var Ds=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var R0=Y.createContext(null);R0.displayName="RouteError";function nM(n,{relative:e}={}){Nt(zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Y.useContext(ji),{hash:s,pathname:o,search:u}=Fd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:bs([t,o])),r.createHref({pathname:h,search:u,hash:s})}function zd(){return Y.useContext(Bd)!=null}function al(){return Nt(zd(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Bd).location}var l1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u1(n){Y.useContext(ji).static||Y.useLayoutEffect(n)}function C0(){let{isDataRoute:n}=Y.useContext(Ds);return n?pM():rM()}function rM(){Nt(zd(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(oc),{basename:e,navigator:t}=Y.useContext(ji),{matches:r}=Y.useContext(Ds),{pathname:s}=al(),o=JSON.stringify(i1(r)),u=Y.useRef(!1);return u1(()=>{u.current=!0}),Y.useCallback((f,p={})=>{if(Vi(u.current,l1),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=s1(f,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:bs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,s,n])}Y.createContext(null);function Fd(n,{relative:e}={}){let{matches:t}=Y.useContext(Ds),{pathname:r}=al(),s=JSON.stringify(i1(t));return Y.useMemo(()=>s1(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function iM(n,e){return c1(n,e)}function c1(n,e,t,r){var K;Nt(zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=Y.useContext(ji),{matches:u}=Y.useContext(Ds),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";h1(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=al(),R;if(e){let F=typeof e=="string"?ac(e):e;Nt(y==="/"||((K=F.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),R=F}else R=E;let C=R.pathname||"/",I=C;if(y!=="/"){let F=y.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=!o&&t&&t.matches&&t.matches.length>0?t.matches:t1(n,{pathname:I});Vi(v||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Vi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=uM(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:bs([y,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:bs([y,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,t,r);return e&&B?Y.createElement(Bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function sM(){let n=mM(),e=JV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:o},"ErrorBoundary")," or"," ",Y.createElement("code",{style:o},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:s},t):null,u)}var aM=Y.createElement(sM,null),oM=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Y.createElement(Ds.Provider,{value:this.props.routeContext},Y.createElement(R0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lM({routeContext:n,match:e,children:t}){let r=Y.useContext(oc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Ds.Provider,{value:n},t)}function uM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:v}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,y)=>{let v,E=!1,R=null,C=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,R=p.route.errorElement||aM,u&&(h<0&&y===0?(h1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):h===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,y+1)),k=()=>{let B;return v?B=R:E?B=C:p.route.Component?B=Y.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=f,Y.createElement(lM,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:B})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?Y.createElement(oM,{location:t.location,revalidation:t.revalidation,component:R,error:v,children:k(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):k()},null)}function x0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cM(n){let e=Y.useContext(oc);return Nt(e,x0(n)),e}function hM(n){let e=Y.useContext(tg);return Nt(e,x0(n)),e}function dM(n){let e=Y.useContext(Ds);return Nt(e,x0(n)),e}function P0(n){let e=dM(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fM(){return P0("useRouteId")}function mM(){var r;let n=Y.useContext(R0),e=hM("useRouteError"),t=P0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function pM(){let{router:n}=cM("useNavigate"),e=P0("useNavigate"),t=Y.useRef(!1);return u1(()=>{t.current=!0}),Y.useCallback(async(s,o={})=>{Vi(t.current,l1),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var mA={};function h1(n,e,t){!e&&!mA[n]&&(mA[n]=!0,Vi(!1,t))}Y.memo(gM);function gM({routes:n,future:e,state:t}){return c1(n,void 0,t,e)}function Ei(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Nt(!zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Y.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=ac(t));let{pathname:f="/",search:p="",hash:y="",state:v=null,key:E="default"}=t,R=Y.useMemo(()=>{let C=As(f,u);return C==null?null:{location:{pathname:C,search:p,hash:y,state:v,key:E},navigationType:r}},[u,f,p,y,v,E,r]);return Vi(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Y.createElement(ji.Provider,{value:h},Y.createElement(Bd.Provider,{children:e,value:R}))}function _M({children:n,location:e}){return iM(Rv(n),e)}function Rv(n,e=[]){let t=[];return Y.Children.forEach(n,(r,s)=>{if(!Y.isValidElement(r))return;let o=[...e,s];if(r.type===Y.Fragment){t.push.apply(t,Rv(r.props.children,o));return}Nt(r.type===Ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Rv(r.props.children,o)),t.push(u)}),t}var Ym="get",Wm="application/x-www-form-urlencoded";function ng(n){return n!=null&&typeof n.tagName=="string"}function vM(n){return ng(n)&&n.tagName.toLowerCase()==="button"}function EM(n){return ng(n)&&n.tagName.toLowerCase()==="form"}function TM(n){return ng(n)&&n.tagName.toLowerCase()==="input"}function bM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wM(n,e){return n.button===0&&(!e||e==="_self")&&!bM(n)}var Vm=null;function SM(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var AM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X_(n){return n!=null&&!AM.has(n)?(Vi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wm}"`),null):n}function IM(n,e){let t,r,s,o,u;if(EM(n)){let h=n.getAttribute("action");r=h?As(h,e):null,t=n.getAttribute("method")||Ym,s=X_(n.getAttribute("enctype"))||Wm,o=new FormData(n)}else if(vM(n)||TM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?As(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ym,s=X_(n.getAttribute("formenctype"))||X_(h.getAttribute("enctype"))||Wm,o=new FormData(h,n),!SM()){let{name:p,type:y,value:v}=n;if(y==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,v)}}else{if(ng(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ym,r=null,s=Wm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function D0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function RM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xM(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await RM(o,t);return u.links?u.links():[]}return[]}));return OM(r.flat(1).filter(CM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pA(n,e,t,r,s,o){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var v;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function PM(n,e,{includeHydrateFallback:t}={}){return DM(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function DM(n){return[...new Set(n)]}function NM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function OM(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(NM(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kM=new Set([100,101,204,205]);function VM(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&As(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function d1(){let n=Y.useContext(oc);return D0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MM(){let n=Y.useContext(tg);return D0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var N0=Y.createContext(void 0);N0.displayName="FrameworkContext";function f1(){let n=Y.useContext(N0);return D0(n,"You must render this element inside a <HydratedRouter> element"),n}function LM(n,e){let t=Y.useContext(N0),[r,s]=Y.useState(!1),[o,u]=Y.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=B=>{B.forEach(K=>{u(K.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),Y.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let R=()=>{s(!0)},C=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Ih(h,R),onBlur:Ih(f,C),onMouseEnter:Ih(p,R),onMouseLeave:Ih(y,C),onTouchStart:Ih(v,R)}]:[!1,E,{}]}function Ih(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UM({page:n,...e}){let{router:t}=d1(),r=Y.useMemo(()=>t1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Y.createElement(zM,{page:n,matches:r,...e}):null}function BM(n){let{manifest:e,routeModules:t}=f1(),[r,s]=Y.useState([]);return Y.useEffect(()=>{let o=!1;return xM(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function zM({page:n,matches:e,...t}){let r=al(),{manifest:s,routeModules:o}=f1(),{basename:u}=d1(),{loaderData:h,matches:f}=MM(),p=Y.useMemo(()=>pA(n,e,f,s,r,"data"),[n,e,f,s,r]),y=Y.useMemo(()=>pA(n,e,f,s,r,"assets"),[n,e,f,s,r]),v=Y.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,I=!1;if(e.forEach(B=>{var F;let K=s.routes[B.route.id];!K||!K.hasLoader||(!p.some(Z=>Z.route.id===B.route.id)&&B.route.id in h&&((F=o[B.route.id])!=null&&F.shouldRevalidate)||K.hasClientLoader?I=!0:C.add(B.route.id))}),C.size===0)return[];let k=VM(n,u);return I&&C.size>0&&k.searchParams.set("_routes",e.filter(B=>C.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[u,h,r,s,p,e,n,o]),E=Y.useMemo(()=>PM(y,s),[y,s]),R=BM(y);return Y.createElement(Y.Fragment,null,v.map(C=>Y.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>Y.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:I})=>Y.createElement("link",{key:C,...I})))}function FM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m1&&(window.__reactRouterVersion="7.6.0")}catch{}function jM({basename:n,children:e,window:t}){let r=Y.useRef();r.current==null&&(r.current=xV({window:t,v5Compat:!0}));let s=r.current,[o,u]=Y.useState({action:s.action,location:s.location}),h=Y.useCallback(f=>{Y.startTransition(()=>u(f))},[u]);return Y.useLayoutEffect(()=>s.listen(h),[s,h]),Y.createElement(yM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:v,...E},R){let{basename:C}=Y.useContext(ji),I=typeof p=="string"&&p1.test(p),k,B=!1;if(typeof p=="string"&&I&&(k=p,m1))try{let D=new URL(window.location.href),b=p.startsWith("//")?new URL(D.protocol+p):new URL(p),N=As(b.pathname,C);b.origin===D.origin&&N!=null?p=N+b.search+b.hash:B=!0}catch{Vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=nM(p,{relative:s}),[F,Z,ne]=LM(r,E),ae=$M(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:v});function P(D){e&&e(D),D.defaultPrevented||ae(D)}let x=Y.createElement("a",{...E,...ne,href:k||K,onClick:B||o?e:P,ref:FM(R,Z),target:f,"data-discover":!I&&t==="render"?"true":void 0});return F&&!I?Y.createElement(Y.Fragment,null,x,Y.createElement(UM,{page:K})):x});Jr.displayName="Link";var qM=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...p},y){let v=Fd(u,{relative:p.relative}),E=al(),R=Y.useContext(tg),{navigator:C,basename:I}=Y.useContext(ji),k=R!=null&&XM(v)&&h===!0,B=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,K=E.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(K=K.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&I&&(F=As(F,I)||F);const Z=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ne=K===B||!s&&K.startsWith(B)&&K.charAt(Z)==="/",ae=F!=null&&(F===B||!s&&F.startsWith(B)&&F.charAt(B.length)==="/"),P={isActive:ne,isPending:ae,isTransitioning:k},x=ne?e:void 0,D;typeof r=="function"?D=r(P):D=[r,ne?"active":null,ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(P):o;return Y.createElement(Jr,{...p,"aria-current":x,className:D,ref:y,style:b,to:u,viewTransition:h},typeof f=="function"?f(P):f)});qM.displayName="NavLink";var HM=Y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Ym,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:v,...E},R)=>{let C=YM(),I=WM(h,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&p1.test(h),K=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let Z=F.nativeEvent.submitter,ne=(Z==null?void 0:Z.getAttribute("formmethod"))||u;C(Z||F.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:v})};return Y.createElement("form",{ref:R,method:k,action:I,onSubmit:r?f:K,...E,"data-discover":!B&&n==="render"?"true":void 0})});HM.displayName="Form";function GM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(n){let e=Y.useContext(oc);return Nt(e,GM(n)),e}function $M(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=C0(),f=al(),p=Fd(n,{relative:o});return Y.useCallback(y=>{if(wM(y,e)){y.preventDefault();let v=t!==void 0?t:hd(f)===hd(p);h(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,p,t,r,e,n,s,o,u])}var KM=0,QM=()=>`__${String(++KM)}__`;function YM(){let{router:n}=g1("useSubmit"),{basename:e}=Y.useContext(ji),t=fM();return Y.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:f,body:p}=IM(r,e);if(s.navigate===!1){let y=s.fetcherKey||QM();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function WM(n,{relative:e}={}){let{basename:t}=Y.useContext(ji),r=Y.useContext(Ds);Nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Fd(n||".",{relative:e})},u=al();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:bs([t,o.pathname])),hd(o)}function XM(n,e={}){let t=Y.useContext(o1);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g1("useViewTransitionState"),s=Fd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=As(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=As(t.nextLocation.pathname,r)||t.nextLocation.pathname;return pp(s.pathname,u)!=null||pp(s.pathname,o)!=null}[...kM];const y1=Y.createContext(),JM=({reducer:n,initialState:e,children:t})=>z.jsx(y1.Provider,{value:Y.useReducer(n,e),children:t}),ol=()=>Y.useContext(y1),ZM=()=>{};var gA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},e4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,R=p&63;f||(R=64,u||(E=64)),r.push(t[y],t[v],t[E],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):e4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||p==null||v==null)throw new t4;const E=o<<2|h>>4;if(r.push(E),p!==64){const R=h<<4&240|p>>2;if(r.push(R),v!==64){const C=p<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(n){const e=_1(n);return v1.encodeByteArray(e,!0)},gp=function(n){return n4(n).replace(/\./g,"")},O0=function(n){try{return v1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yp(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!r4(t)||(n[t]=yp(n[t],e[t]));return n}function r4(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=()=>k0().__FIREBASE_DEFAULTS__,s4=()=>{if(typeof process>"u"||typeof gA>"u")return;const n=gA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},a4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&O0(n[1]);return e&&JSON.parse(e)},V0=()=>{try{return ZM()||i4()||s4()||a4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E1=()=>{var n;return(n=V0())===null||n===void 0?void 0:n.config},o4=n=>{var e;return(e=V0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){return n.endsWith(".cloudworkstations.dev")}async function T1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gp(JSON.stringify(t)),gp(JSON.stringify(u)),""].join(".")}const $h={};function c4(){const n={prod:[],emulator:[]};for(const e of Object.keys($h))$h[e]?n.emulator.push(e):n.prod.push(e);return n}function h4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yA=!1;function M0(n,e){if(typeof window>"u"||typeof document>"u"||!jd(window.location.host)||$h[n]===e||$h[n]||yA)return;$h[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=c4().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{yA=!0,u()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=h4(r),R=t("text"),C=document.getElementById(R)||document.createElement("span"),I=t("learnmore"),k=document.getElementById(I)||document.createElement("a"),B=t("preprendIcon"),K=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;h(F),y(k,I);const Z=p();f(K,B),F.append(K,C,k,Z),document.body.appendChild(F)}o?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function rg(){var n;const e=(n=V0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f4(){return typeof window<"u"||b1()}function b1(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function m4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function L0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function A1(){return!rg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I1(){return!rg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function dd(){try{return typeof indexedDB=="object"}catch{return!1}}function p4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="FirebaseError";class Wn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=g4,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?y4(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Wn(s,h,r)}}function y4(n,e){return n.replace(_4,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function v4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(vA(o)&&vA(u)){if(!Pa(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function vA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Bh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function R1(n,e){const t=new E4(n,e);return t.subscribe.bind(t)}class E4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");T4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=J_),s.error===void 0&&(s.error=J_),s.complete===void 0&&(s.complete=J_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function J_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n){return n&&n._delegate?n._delegate:n}class Mi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new l4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S4(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w4(n){return n===No?void 0:n}function S4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new b4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const x1={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},A4=Be.INFO,I4={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},R4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=I4[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=A4,this._logHandler=R4,this._userLogHandler=null,U0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function C4(n){U0.forEach(e=>{e.setLogLevel(n)})}function x4(n,e){for(const t of U0){let r=null;e&&e.level&&(r=x1[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??s.logLevel)&&n({level:Be[o].toLowerCase(),message:h,args:u,type:s.name})}}}const P4=(n,e)=>e.some(t=>n instanceof t);let EA,TA;function D4(){return EA||(EA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N4(){return TA||(TA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Cv=new WeakMap,D1=new WeakMap,Z_=new WeakMap,B0=new WeakMap;function O4(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Sa(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&P1.set(t,n)}).catch(()=>{}),B0.set(e,n),e}function k4(n){if(Cv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Cv.set(n,e)}let xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||D1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function V4(n){xv=n(xv)}function M4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ev(this),e,...t);return D1.set(r,e.sort?e.sort():[e]),Sa(r)}:N4().includes(n)?function(...e){return n.apply(ev(this),e),Sa(P1.get(this))}:function(...e){return Sa(n.apply(ev(this),e))}}function L4(n){return typeof n=="function"?M4(n):(n instanceof IDBTransaction&&k4(n),P4(n,D4())?new Proxy(n,xv):n)}function Sa(n){if(n instanceof IDBRequest)return O4(n);if(Z_.has(n))return Z_.get(n);const e=L4(n);return e!==n&&(Z_.set(n,e),B0.set(e,n)),e}const ev=n=>B0.get(n);function U4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=Sa(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Sa(u.result),f.oldVersion,f.newVersion,Sa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const B4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],tv=new Map;function bA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=z4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||B4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return tv.set(e,o),o}V4(n=>({...n,get:(e,t,r)=>bA(e,t)||n.get(e,t,r),has:(e,t)=>!!bA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(j4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function j4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _p="@firebase/app",Pv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new ig("@firebase/app"),q4="@firebase/app-compat",H4="@firebase/analytics-compat",G4="@firebase/analytics",$4="@firebase/app-check-compat",K4="@firebase/app-check",Q4="@firebase/auth",Y4="@firebase/auth-compat",W4="@firebase/database",X4="@firebase/data-connect",J4="@firebase/database-compat",Z4="@firebase/functions",eL="@firebase/functions-compat",tL="@firebase/installations",nL="@firebase/installations-compat",rL="@firebase/messaging",iL="@firebase/messaging-compat",sL="@firebase/performance",aL="@firebase/performance-compat",oL="@firebase/remote-config",lL="@firebase/remote-config-compat",uL="@firebase/storage",cL="@firebase/storage-compat",hL="@firebase/firestore",dL="@firebase/ai",fL="@firebase/firestore-compat",mL="firebase",pL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]",gL={[_p]:"fire-core",[q4]:"fire-core-compat",[G4]:"fire-analytics",[H4]:"fire-analytics-compat",[K4]:"fire-app-check",[$4]:"fire-app-check-compat",[Q4]:"fire-auth",[Y4]:"fire-auth-compat",[W4]:"fire-rtdb",[X4]:"fire-data-connect",[J4]:"fire-rtdb-compat",[Z4]:"fire-fn",[eL]:"fire-fn-compat",[tL]:"fire-iid",[nL]:"fire-iid-compat",[rL]:"fire-fcm",[iL]:"fire-fcm-compat",[sL]:"fire-perf",[aL]:"fire-perf-compat",[oL]:"fire-rc",[lL]:"fire-rc-compat",[uL]:"fire-gcs",[cL]:"fire-gcs-compat",[hL]:"fire-fst",[fL]:"fire-fst-compat",[dL]:"fire-vertex","fire-js":"fire-js",[mL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,Mu=new Map,Lu=new Map;function fd(n,e){try{n.container.addComponent(e)}catch(t){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function N1(n,e){n.container.addOrOverwriteComponent(e)}function Oa(n){const e=n.name;if(Lu.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Lu.set(e,n);for(const t of Na.values())fd(t,n);for(const t of Mu.values())fd(t,n);return!0}function O1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yL(n,e,t=Da){O1(n,e).clearInstance(t)}function k1(n){return n.options!==void 0}function Rt(n){return n==null?!1:n.settings!==void 0}function _L(){Lu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new ll("app","Firebase",vL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V1=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,e){const t=O0(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class EL extends V1{constructor(e,t,r,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&wA(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wA(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ei(_p,Pv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){F0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Fr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=pL;function z0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Da,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Fr.create("bad-app-name",{appName:String(s)});if(t||(t=E1()),!t)throw Fr.create("no-options");const o=Na.get(s);if(o){if(Pa(t,o.options)&&Pa(r,o.config))return o;throw Fr.create("duplicate-app",{appName:s})}const u=new C1(s);for(const f of Lu.values())u.addComponent(f);const h=new V1(t,r,u);return Na.set(s,h),h}function TL(n,e){if(f4()&&!b1())throw Fr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;k1(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const s=p=>[...p].reduce((y,v)=>Math.imul(31,y)+v.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Fr.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(r)),u=Mu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new C1(o);for(const p of Lu.values())h.addComponent(p);const f=new EL(t,e,o,h);return Mu.set(o,f),f}function bL(n=Da){const e=Na.get(n);if(!e&&n===Da&&E1())return z0();if(!e)throw Fr.create("no-app",{appName:n});return e}function wL(){return Array.from(Na.values())}async function F0(n){let e=!1;const t=n.name;Na.has(t)?(e=!0,Na.delete(t)):Mu.has(t)&&n.decRefCount()<=0&&(Mu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ei(n,e,t){var r;let s=(r=gL[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(h.join(" "));return}Oa(new Mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function M1(n,e){if(n!==null&&typeof n!="function")throw Fr.create("invalid-log-argument");x4(n,e)}function L1(n){C4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="firebase-heartbeat-database",AL=1,md="firebase-heartbeat-store";let nv=null;function U1(){return nv||(nv=U4(SL,AL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(md)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),nv}async function IL(n){try{const t=(await U1()).transaction(md),r=await t.objectStore(md).get(B1(n));return await t.done,r}catch(e){if(e instanceof Wn)Is.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(t.message)}}}async function SA(n,e){try{const r=(await U1()).transaction(md,"readwrite");await r.objectStore(md).put(e,B1(n)),await r.done}catch(t){if(t instanceof Wn)Is.warn(t.message);else{const r=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Is.warn(r.message)}}}function B1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=1024,CL=30;class xL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>CL){const u=NL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=AA(),{heartbeatsToSend:r,unsentEntries:s}=PL(this._heartbeatsCache.heartbeats),o=gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Is.warn(t),""}}}function AA(){return new Date().toISOString().substring(0,10)}function PL(n,e=RL){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),IA(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),IA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dd()?p4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return SA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return SA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function IA(n){return gp(JSON.stringify({version:2,heartbeats:n})).length}function NL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(n){Oa(new Mi("platform-logger",e=>new F4(e),"PRIVATE")),Oa(new Mi("heartbeat",e=>new xL(e),"PRIVATE")),ei(_p,Pv,n),ei(_p,Pv,"esm2017"),ei("fire-js","")}OL("");const kL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Wn,SDK_VERSION:qa,_DEFAULT_ENTRY_NAME:Da,_addComponent:fd,_addOrOverwriteComponent:N1,_apps:Na,_clearComponents:_L,_components:Lu,_getProvider:O1,_isFirebaseApp:k1,_isFirebaseServerApp:Rt,_registerComponent:Oa,_removeServiceInstance:yL,_serverApps:Mu,deleteApp:F0,getApp:bL,getApps:wL,initializeApp:z0,initializeServerApp:TL,onLog:M1,registerVersion:ei,setLogLevel:L1},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t){this._delegate=e,this.firebase=t,fd(e,new Mi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),F0(this._delegate)))}_getService(e,t=Da){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=Da){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){fd(this._delegate,e)}_addOrOverwriteComponent(e){N1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},RA=new ll("app-compat","Firebase",ML);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:ei,setLogLevel:L1,onLog:M1,apps:null,SDK_VERSION:qa,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:kL}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(p){delete e[p]}function s(p){if(p=p||Da,!_A(e,p))throw RA.create("no-app",{appName:p});return e[p]}s.App=n;function o(p,y={}){const v=z0(p,y);if(_A(e,v.name))return e[v.name];const E=new n(v,t);return e[v.name]=E,E}function u(){return Object.keys(e).map(p=>e[p])}function h(p){const y=p.name,v=y.replace("-compat","");if(Oa(p)&&p.type==="PUBLIC"){const E=(R=s())=>{if(typeof R[v]!="function")throw RA.create("invalid-app-argument",{appName:y});return R[v]()};p.serviceProps!==void 0&&yp(E,p.serviceProps),t[v]=E,n.prototype[v]=function(...R){return this._getService.bind(this,y).apply(this,p.multipleInstances?R:[])}}return p.type==="PUBLIC"?t[v]:null}function f(p,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){const n=LL(VL);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:z1,extendNamespace:e,createSubscribe:R1,ErrorFactory:ll,deepExtend:yp});function e(t){yp(n,t)}return n}const UL=z1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new ig("@firebase/app-compat"),BL="@firebase/app-compat",zL="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){ei(BL,zL,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=k0();if(n.firebase!==void 0){CA.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&CA.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ul=UL;FL();var jL="firebase",qL="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul.registerVersion(jL,qL,"app-compat");var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aa,F1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function D(){}D.prototype=x.prototype,P.D=x.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(b,N,M){for(var O=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)O[Oe-2]=arguments[Oe];return x.prototype[N].apply(b,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,x,D){D||(D=0);var b=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)b[N]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(N=0;16>N;++N)b[N]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=P.g[0],D=P.g[1],N=P.g[2];var M=P.g[3],O=x+(M^D&(N^M))+b[0]+3614090360&4294967295;x=D+(O<<7&4294967295|O>>>25),O=M+(N^x&(D^N))+b[1]+3905402710&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(D^M&(x^D))+b[2]+606105819&4294967295,N=M+(O<<17&4294967295|O>>>15),O=D+(x^N&(M^x))+b[3]+3250441966&4294967295,D=N+(O<<22&4294967295|O>>>10),O=x+(M^D&(N^M))+b[4]+4118548399&4294967295,x=D+(O<<7&4294967295|O>>>25),O=M+(N^x&(D^N))+b[5]+1200080426&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(D^M&(x^D))+b[6]+2821735955&4294967295,N=M+(O<<17&4294967295|O>>>15),O=D+(x^N&(M^x))+b[7]+4249261313&4294967295,D=N+(O<<22&4294967295|O>>>10),O=x+(M^D&(N^M))+b[8]+1770035416&4294967295,x=D+(O<<7&4294967295|O>>>25),O=M+(N^x&(D^N))+b[9]+2336552879&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(D^M&(x^D))+b[10]+4294925233&4294967295,N=M+(O<<17&4294967295|O>>>15),O=D+(x^N&(M^x))+b[11]+2304563134&4294967295,D=N+(O<<22&4294967295|O>>>10),O=x+(M^D&(N^M))+b[12]+1804603682&4294967295,x=D+(O<<7&4294967295|O>>>25),O=M+(N^x&(D^N))+b[13]+4254626195&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(D^M&(x^D))+b[14]+2792965006&4294967295,N=M+(O<<17&4294967295|O>>>15),O=D+(x^N&(M^x))+b[15]+1236535329&4294967295,D=N+(O<<22&4294967295|O>>>10),O=x+(N^M&(D^N))+b[1]+4129170786&4294967295,x=D+(O<<5&4294967295|O>>>27),O=M+(D^N&(x^D))+b[6]+3225465664&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^D&(M^x))+b[11]+643717713&4294967295,N=M+(O<<14&4294967295|O>>>18),O=D+(M^x&(N^M))+b[0]+3921069994&4294967295,D=N+(O<<20&4294967295|O>>>12),O=x+(N^M&(D^N))+b[5]+3593408605&4294967295,x=D+(O<<5&4294967295|O>>>27),O=M+(D^N&(x^D))+b[10]+38016083&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^D&(M^x))+b[15]+3634488961&4294967295,N=M+(O<<14&4294967295|O>>>18),O=D+(M^x&(N^M))+b[4]+3889429448&4294967295,D=N+(O<<20&4294967295|O>>>12),O=x+(N^M&(D^N))+b[9]+568446438&4294967295,x=D+(O<<5&4294967295|O>>>27),O=M+(D^N&(x^D))+b[14]+3275163606&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^D&(M^x))+b[3]+4107603335&4294967295,N=M+(O<<14&4294967295|O>>>18),O=D+(M^x&(N^M))+b[8]+1163531501&4294967295,D=N+(O<<20&4294967295|O>>>12),O=x+(N^M&(D^N))+b[13]+2850285829&4294967295,x=D+(O<<5&4294967295|O>>>27),O=M+(D^N&(x^D))+b[2]+4243563512&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^D&(M^x))+b[7]+1735328473&4294967295,N=M+(O<<14&4294967295|O>>>18),O=D+(M^x&(N^M))+b[12]+2368359562&4294967295,D=N+(O<<20&4294967295|O>>>12),O=x+(D^N^M)+b[5]+4294588738&4294967295,x=D+(O<<4&4294967295|O>>>28),O=M+(x^D^N)+b[8]+2272392833&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^D)+b[11]+1839030562&4294967295,N=M+(O<<16&4294967295|O>>>16),O=D+(N^M^x)+b[14]+4259657740&4294967295,D=N+(O<<23&4294967295|O>>>9),O=x+(D^N^M)+b[1]+2763975236&4294967295,x=D+(O<<4&4294967295|O>>>28),O=M+(x^D^N)+b[4]+1272893353&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^D)+b[7]+4139469664&4294967295,N=M+(O<<16&4294967295|O>>>16),O=D+(N^M^x)+b[10]+3200236656&4294967295,D=N+(O<<23&4294967295|O>>>9),O=x+(D^N^M)+b[13]+681279174&4294967295,x=D+(O<<4&4294967295|O>>>28),O=M+(x^D^N)+b[0]+3936430074&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^D)+b[3]+3572445317&4294967295,N=M+(O<<16&4294967295|O>>>16),O=D+(N^M^x)+b[6]+76029189&4294967295,D=N+(O<<23&4294967295|O>>>9),O=x+(D^N^M)+b[9]+3654602809&4294967295,x=D+(O<<4&4294967295|O>>>28),O=M+(x^D^N)+b[12]+3873151461&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^D)+b[15]+530742520&4294967295,N=M+(O<<16&4294967295|O>>>16),O=D+(N^M^x)+b[2]+3299628645&4294967295,D=N+(O<<23&4294967295|O>>>9),O=x+(N^(D|~M))+b[0]+4096336452&4294967295,x=D+(O<<6&4294967295|O>>>26),O=M+(D^(x|~N))+b[7]+1126891415&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~D))+b[14]+2878612391&4294967295,N=M+(O<<15&4294967295|O>>>17),O=D+(M^(N|~x))+b[5]+4237533241&4294967295,D=N+(O<<21&4294967295|O>>>11),O=x+(N^(D|~M))+b[12]+1700485571&4294967295,x=D+(O<<6&4294967295|O>>>26),O=M+(D^(x|~N))+b[3]+2399980690&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~D))+b[10]+4293915773&4294967295,N=M+(O<<15&4294967295|O>>>17),O=D+(M^(N|~x))+b[1]+2240044497&4294967295,D=N+(O<<21&4294967295|O>>>11),O=x+(N^(D|~M))+b[8]+1873313359&4294967295,x=D+(O<<6&4294967295|O>>>26),O=M+(D^(x|~N))+b[15]+4264355552&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~D))+b[6]+2734768916&4294967295,N=M+(O<<15&4294967295|O>>>17),O=D+(M^(N|~x))+b[13]+1309151649&4294967295,D=N+(O<<21&4294967295|O>>>11),O=x+(N^(D|~M))+b[4]+4149444226&4294967295,x=D+(O<<6&4294967295|O>>>26),O=M+(D^(x|~N))+b[11]+3174756917&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~D))+b[2]+718787259&4294967295,N=M+(O<<15&4294967295|O>>>17),O=D+(M^(N|~x))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var D=x-this.blockSize,b=this.B,N=this.h,M=0;M<x;){if(N==0)for(;M<=D;)s(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<x;)if(b[N++]=P.charCodeAt(M++),N==this.blockSize){s(this,b),N=0;break}}else for(;M<x;)if(b[N++]=P[M++],N==this.blockSize){s(this,b),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var D=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=D&255,D/=256;for(this.u(P),P=Array(16),x=D=0;4>x;++x)for(var b=0;32>b;b+=8)P[D++]=this.g[x]>>>b&255;return P};function o(P,x){var D=h;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=x(P)}function u(P,x){this.h=x;for(var D=[],b=!0,N=P.length-1;0<=N;N--){var M=P[N]|0;b&&M==x||(D[N]=M,b=!1)}this.g=D}var h={};function f(P){return-128<=P&&128>P?o(P,function(x){return new u([x|0],0>x?-1:0)}):new u([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return k(p(-P));for(var x=[],D=1,b=0;P>=D;b++)x[b]=P/D|0,D*=4294967296;return new u(x,0)}function y(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return k(y(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(x,8)),b=v,N=0;N<P.length;N+=8){var M=Math.min(8,P.length-N),O=parseInt(P.substring(N,N+M),x);8>M?(M=p(Math.pow(x,M)),b=b.j(M).add(p(O))):(b=b.j(D),b=b.add(p(O)))}return b}var v=f(0),E=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(I(this))return-k(this).m();for(var P=0,x=1,D=0;D<this.g.length;D++){var b=this.i(D);P+=(0<=b?b:4294967296+b)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(I(this))return"-"+k(this).toString(P);for(var x=p(Math.pow(P,6)),D=this,b="";;){var N=Z(D,x).g;D=B(D,N.j(x));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=N,C(D))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function I(P){return P.h==-1}n.l=function(P){return P=B(this,P),I(P)?-1:C(P)?0:1};function k(P){for(var x=P.g.length,D=[],b=0;b<x;b++)D[b]=~P.g[b];return new u(D,~P.h).add(E)}n.abs=function(){return I(this)?k(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],b=0,N=0;N<=x;N++){var M=b+(this.i(N)&65535)+(P.i(N)&65535),O=(M>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);b=O>>>16,M&=65535,O&=65535,D[N]=O<<16|M}return new u(D,D[D.length-1]&-2147483648?-1:0)};function B(P,x){return P.add(k(x))}n.j=function(P){if(C(this)||C(P))return v;if(I(this))return I(P)?k(this).j(k(P)):k(k(this).j(P));if(I(P))return k(this.j(k(P)));if(0>this.l(R)&&0>P.l(R))return p(this.m()*P.m());for(var x=this.g.length+P.g.length,D=[],b=0;b<2*x;b++)D[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<P.g.length;N++){var M=this.i(b)>>>16,O=this.i(b)&65535,Oe=P.i(N)>>>16,ke=P.i(N)&65535;D[2*b+2*N]+=O*ke,K(D,2*b+2*N),D[2*b+2*N+1]+=M*ke,K(D,2*b+2*N+1),D[2*b+2*N+1]+=O*Oe,K(D,2*b+2*N+1),D[2*b+2*N+2]+=M*Oe,K(D,2*b+2*N+2)}for(b=0;b<x;b++)D[b]=D[2*b+1]<<16|D[2*b];for(b=x;b<2*x;b++)D[b]=0;return new u(D,0)};function K(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function F(P,x){this.g=P,this.h=x}function Z(P,x){if(C(x))throw Error("division by zero");if(C(P))return new F(v,v);if(I(P))return x=Z(k(P),x),new F(k(x.g),k(x.h));if(I(x))return x=Z(P,k(x)),new F(k(x.g),x.h);if(30<P.g.length){if(I(P)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var D=E,b=x;0>=b.l(P);)D=ne(D),b=ne(b);var N=ae(D,1),M=ae(b,1);for(b=ae(b,2),D=ae(D,2);!C(b);){var O=M.add(b);0>=O.l(P)&&(N=N.add(D),M=O),b=ae(b,1),D=ae(D,1)}return x=B(P,N.j(x)),new F(N,x)}for(N=v;0<=P.l(x);){for(D=Math.max(1,Math.floor(P.m()/x.m())),b=Math.ceil(Math.log(D)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=p(D),O=M.j(x);I(O)||0<O.l(P);)D-=b,M=p(D),O=M.j(x);C(M)&&(M=E),N=N.add(M),P=B(P,O)}return new F(N,P)}n.A=function(P){return Z(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],b=0;b<x;b++)D[b]=this.i(b)&P.i(b);return new u(D,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],b=0;b<x;b++)D[b]=this.i(b)|P.i(b);return new u(D,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],b=0;b<x;b++)D[b]=this.i(b)^P.i(b);return new u(D,this.h^P.h)};function ne(P){for(var x=P.g.length+1,D=[],b=0;b<x;b++)D[b]=P.i(b)<<1|P.i(b-1)>>>31;return new u(D,P.h)}function ae(P,x){var D=x>>5;x%=32;for(var b=P.g.length-D,N=[],M=0;M<b;M++)N[M]=0<x?P.i(M+D)>>>x|P.i(M+D+1)<<32-x:P.i(M+D);return new u(N,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Aa=u}).apply(typeof xA<"u"?xA:typeof self<"u"?self:typeof window<"u"?window:{});var Mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,zh,q1,Xm,Dv,H1,G1,$1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mm=="object"&&Mm];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var q=d[A];if(!(q in T))break e;T=T[q]}d=d[d.length-1],A=T[d],_=_(A),_!=A&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,A=!1,q={next:function(){if(!A&&T<d.length){var J=T++;return{value:_(J,d[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,T){return d.call.apply(d.bind,arguments)}function v(d,_,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),d.apply(_,q)}}return function(){return d.apply(_,arguments)}}function E(d,_,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,E.apply(null,arguments)}function R(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function C(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,q,J){for(var fe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)fe[qe-2]=arguments[qe];return _.prototype[q].apply(A,fe)}}function I(d){const _=d.length;if(0<_){const T=Array(_);for(let A=0;A<_;A++)T[A]=d[A];return T}return[]}function k(d,_){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(f(A)){const q=d.length||0,J=A.length||0;d.length=q+J;for(let fe=0;fe<J;fe++)d[q+fe]=A[fe]}else d.push(A)}}class B{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function K(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var ne=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(d,_,T){for(const A in d)_.call(T,d[A],A,d)}function P(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function x(d){const _={};for(const T in d)_[T]=d[T];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(d,_){let T,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(T in A)d[T]=A[T];for(let J=0;J<D.length;J++)T=D[J],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function N(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function M(d){h.setTimeout(()=>{throw d},0)}function O(){var d=ze;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Oe{constructor(){this.h=this.g=null}add(_,T){const A=ke.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var ke=new B(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,_e=!1,ze=new Oe,L=()=>{const d=h.Promise.resolve(void 0);de=()=>{d.then(oe)}};var oe=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(T){M(T)}var _=ke;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}_e=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return d}();function Pe(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ne){e:{try{Z(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}C(Pe,he);var ve={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Zn(d,_,T,A,q){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=q,this.key=++Ke,this.da=this.fa=!1}function Hr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Et(d){this.src=d,this.g={},this.h=0}Et.prototype.add=function(d,_,T,A,q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var fe=ni(d,_,A,q);return-1<fe?(_=d[fe],T||(_.fa=!1)):(_=new Zn(_,this.src,J,!!A,q),_.fa=T,d.push(_)),_};function ur(d,_){var T=_.type;if(T in d.g){var A=d.g[T],q=Array.prototype.indexOf.call(A,_,void 0),J;(J=0<=q)&&Array.prototype.splice.call(A,q,1),J&&(Hr(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ni(d,_,T,A){for(var q=0;q<d.length;++q){var J=d[q];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==A)return q}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Wa={};function Xa(d,_,T,A,q){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Xa(d,_[J],T,A,q);return null}return T=cr(T),d&&d[yt]?d.K(_,T,p(A)?!!A.capture:!1,q):On(d,_,T,!1,A,q)}function On(d,_,T,A,q,J){if(!_)throw Error("Invalid event type");var fe=p(q)?!!q.capture:!!q,qe=Bs(d);if(qe||(d[Gr]=qe=new Et(d)),T=qe.add(_,T,A,fe,J),T.proxy)return T;if(A=Ja(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)Se||(q=fe),q===void 0&&(q=!1),d.addEventListener(_.toString(),A,q);else if(d.attachEvent)d.attachEvent(Hi(_.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ja(){function d(T){return _.call(d.src,d.listener,T)}const _=pl;return d}function Us(d,_,T,A,q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Us(d,_[J],T,A,q);else A=p(A)?!!A.capture:!!A,T=cr(T),d&&d[yt]?(d=d.i,_=String(_).toString(),_ in d.g&&(J=d.g[_],T=ni(J,T,A,q),-1<T&&(Hr(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete d.g[_],d.h--)))):d&&(d=Bs(d))&&(_=d.g[_.toString()],d=-1,_&&(d=ni(_,T,A,q)),(T=-1<d?_[d]:null)&&qi(T))}function qi(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[yt])ur(_.i,d);else{var T=d.type,A=d.proxy;_.removeEventListener?_.removeEventListener(T,A,d.capture):_.detachEvent?_.detachEvent(Hi(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=Bs(_))?(ur(T,d),T.h==0&&(T.src=null,_[Gr]=null)):Hr(d)}}}function Hi(d){return d in Wa?Wa[d]:Wa[d]="on"+d}function pl(d,_){if(d.da)d=!0;else{_=new Pe(_,this);var T=d.listener,A=d.ha||d.src;d.fa&&qi(d),d=T.call(A,_)}return d}function Bs(d){return d=d[Gr],d instanceof Et?d:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function cr(d){return typeof d=="function"?d:(d[Za]||(d[Za]=function(_){return d.handleEvent(_)}),d[Za])}function _t(){pe.call(this),this.i=new Et(this),this.M=this,this.F=null}C(_t,pe),_t.prototype[yt]=!0,_t.prototype.removeEventListener=function(d,_,T,A){Us(this,d,_,T,A)};function Xe(d,_){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var q=_;_=new he(A,d),b(_,q)}if(q=!0,T)for(var J=T.length-1;0<=J;J--){var fe=_.g=T[J];q=jn(fe,A,!0,_)&&q}if(fe=_.g=d,q=jn(fe,A,!0,_)&&q,q=jn(fe,A,!1,_)&&q,T)for(J=0;J<T.length;J++)fe=_.g=T[J],q=jn(fe,A,!1,_)&&q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],A=0;A<T.length;A++)Hr(T[A]);delete d.g[_],d.h--}}this.F=null},_t.prototype.K=function(d,_,T,A){return this.i.add(String(d),_,!1,T,A)},_t.prototype.L=function(d,_,T,A){return this.i.add(String(d),_,!0,T,A)};function jn(d,_,T,A){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,J=0;J<_.length;++J){var fe=_[J];if(fe&&!fe.da&&fe.capture==T){var qe=fe.listener,on=fe.ha||fe.src;fe.fa&&ur(d.i,fe),q=qe.call(on,A)!==!1&&q}}return q&&!A.defaultPrevented}function fn(d,_,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function gl(d){d.g=fn(()=>{d.g=null,d.i&&(d.i=!1,gl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ec extends pe{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(d){pe.call(this),this.h=d,this.g={}}C(Gi,pe);var ri=[];function $i(d){ae(d.g,function(_,T){this.g.hasOwnProperty(T)&&qi(_)},d),d.g={}}Gi.prototype.N=function(){Gi.aa.N.call(this),$i(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=h.JSON.stringify,qt=h.JSON.parse,Tt=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function mn(){}mn.prototype.h=null;function Xt(d){return d.h||(d.h=d.i())}function bt(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){he.call(this,"d")}C(er,he);function Ki(){he.call(this,"c")}C(Ki,he);var qn={},eo=null;function zs(){return eo=eo||new _t}qn.La="serverreachability";function yl(d){he.call(this,qn.La,d)}C(yl,he);function Fs(d){const _=zs();Xe(_,new yl(_))}qn.STAT_EVENT="statevent";function hf(d,_){he.call(this,qn.STAT_EVENT,d),this.stat=_}C(hf,he);function wt(d){const _=zs();Xe(_,new hf(_,d))}qn.Ma="timingevent";function an(d,_){he.call(this,qn.Ma,d),this.size=_}C(an,he);function Jt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function Tc(d,_,T,A,q,J){d.info(function(){if(d.g)if(J)for(var fe="",qe=J.split("&"),on=0;on<qe.length;on++){var He=qe[on].split("=");if(1<He.length){var gn=He[0];He=He[1];var ln=gn.split("_");fe=2<=ln.length&&ln[1]=="type"?fe+(gn+"="+He+"&"):fe+(gn+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+T+`
`+fe})}function jg(d,_,T,A,q,J,fe){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+T+`
`+J+" "+fe})}function js(d,_,T,A){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+to(d,T)+(A?" "+A:"")})}function df(d,_){d.info(function(){return"TIMEOUT: "+_})}Rr.prototype.info=function(){};function to(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<q.length;fe++)q[fe]=""}}}}return Je(T)}catch{return _}}var qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function si(){}C(si,mn),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ii=new si;function Hn(d,_,T,A){this.j=d,this.i=_,this.l=T,this.R=A||1,this.U=new Gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ht}function Ht(){this.i=null,this.g="",this.h=!1}var bc={},_l={};function $r(d,_,T){d.L=1,d.v=ao(hr(_)),d.m=T,d.P=!0,Yi(d,null)}function Yi(d,_){d.F=Date.now(),no(d),d.A=hr(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Cc(T.i,"t",A),d.C=0,T=d.j.J,d.h=new Ht,d.g=Cf(d.j,T?_:null,!d.m),0<d.O&&(d.M=new Ec(E(d.Y,d,d.g),d.O)),_=d.U,T=d.g,A=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(ri[0]=q.toString()),q=ri);for(var J=0;J<q.length;J++){var fe=Xa(T,q[J],A||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Fs(),Tc(d.i,d.u,d.A,d.l,d.R,d.m)}Hn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Dr(d)==3?_.j():this.Y(d)},Hn.prototype.Y=function(d){try{if(d==this.g)e:{const ln=Dr(this.g);var _=this.g.Ba();const rs=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||Ef(this.g)))){this.J||ln!=4||_==7||(_==8||0>=rs?Fs(3):Fs(2)),Hs(this);var T=this.g.Z();this.X=T;t:if(ff(this)){var A=Ef(this.g);d="";var q=A.length,J=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),ai(this);var fe="";break t}this.h.i=new h.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,d+=this.h.i.decode(A[_],{stream:!(J&&_==q-1)});A.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=T==200,jg(this.i,this.u,this.A,this.l,this.R,ln,T),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,on=this.g;if((qe=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(qe)){var He=qe;break t}}He=null}if(T=He)js(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ro(this,T);else{this.o=!1,this.s=3,wt(12),wn(this),ai(this);break e}}if(this.P){T=!0;let Sn;for(;!this.J&&this.C<fe.length;)if(Sn=mf(this,fe),Sn==_l){ln==4&&(this.s=4,wt(14),T=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==bc){this.s=4,wt(15),js(this.i,this.l,fe,"[Invalid Chunk]"),T=!1;break}else js(this.i,this.l,Sn,null),ro(this,Sn);if(ff(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||fe.length!=0||this.h.h||(this.s=1,wt(16),T=!1),this.o=this.o&&T,!T)js(this.i,this.l,fe,"[Invalid Chunked Response]"),wn(this),ai(this);else if(0<fe.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),po(gn),gn.M=!0,wt(11))}}else js(this.i,this.l,fe,null),ro(this,fe);ln==4&&wn(this),this.o&&!this.J&&(ln==4?Af(this.j,this):(this.o=!1,no(this)))}else Kg(this.g),T==400&&0<fe.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),wn(this),ai(this)}}}catch{}finally{}};function ff(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mf(d,_){var T=d.C,A=_.indexOf(`
`,T);return A==-1?_l:(T=Number(_.substring(T,A)),isNaN(T)?bc:(A+=1,A+T>_.length?_l:(_=_.slice(A,A+T),d.C=A+T,_)))}Hn.prototype.cancel=function(){this.J=!0,wn(this)};function no(d){d.S=Date.now()+d.I,pf(d,d.I)}function pf(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Jt(E(d.ba,d),_)}function Hs(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Hn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(df(this.i,this.A),this.L!=2&&(Fs(),wt(17)),wn(this),this.s=2,ai(this)):pf(this,this.S-d)};function ai(d){d.j.G==0||d.J||Af(d.j,d)}function wn(d){Hs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,$i(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ro(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||wc(T.h,d))){if(!d.K&&wc(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Pl(T),Cl(T);else break e;Oc(T),wt(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Jt(E(T.Za,T),6e3));if(1>=El(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ns(T,11)}else if((d.K||T.g==d)&&Pl(T),!K(_))for(q=T.Da.g.parse(_),_=0;_<q.length;_++){let He=q[_];if(T.T=He[0],He=He[1],T.G==2)if(He[0]=="c"){T.K=He[1],T.ia=He[2];const gn=He[3];gn!=null&&(T.la=gn,T.j.info("VER="+T.la));const ln=He[4];ln!=null&&(T.Aa=ln,T.j.info("SVER="+T.Aa));const rs=He[5];rs!=null&&typeof rs=="number"&&0<rs&&(A=1.5*rs,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Sn=d.g;if(Sn){const fi=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var J=A.h;J.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Tl(J,J.h),J.h=null))}if(A.D){const Vc=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vc&&(A.ya=Vc,ot(A.I,A.D,Vc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var fe=d;if(A.qa=Rf(A,A.J?A.ia:null,A.W),fe.K){Gn(A.h,fe);var qe=fe,on=A.L;on&&(qe.I=on),qe.B&&(Hs(qe),no(qe)),A.g=fe}else wf(A);0<T.i.length&&xl(T)}else He[0]!="stop"&&He[0]!="close"||ns(T,7);else T.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ns(T,7):Dc(T):He[0]!="noop"&&T.l&&T.l.ta(He),T.v=0)}}Fs(4)}catch{}}var gf=class{constructor(d,_){this.g=d,this.map=_}};function Wi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function El(d){return d.h?1:d.g?d.g.size:0}function wc(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Tl(d,_){d.g?d.g.add(_):d.h=_}function Gn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Wi.prototype.cancel=function(){if(this.i=Sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Sc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return I(d.i)}function qg(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],T=d.length,A=0;A<T;A++)_.push(d[A]);return _}_=[],T=0;for(A in d)_[T++]=d[A];return _}function bl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const A in d)_[T++]=A;return _}}}function Ac(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=bl(d),A=qg(d),q=A.length,J=0;J<q;J++)_.call(void 0,A[J],T&&T[J],d)}var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hg(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),q=null;if(0<=A){var J=d[T].substring(0,A);q=d[T].substring(A+1)}else J=d[T];_(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Zt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Zt){this.h=d.h,so(this,d.j),this.o=d.o,this.g=d.g,Gs(this,d.s),this.l=d.l;var _=d.i,T=new Ji;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Xi(this,T),this.m=d.m}else d&&(_=String(d).match(io))?(this.h=!1,so(this,_[1]||"",!0),this.o=Cr(_[2]||""),this.g=Cr(_[3]||"",!0),Gs(this,_[4]),this.l=Cr(_[5]||"",!0),Xi(this,_[6]||"",!0),this.m=Cr(_[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Zt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(oo(_,Ic,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(oo(_,Ic,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(oo(T,T.charAt(0)=="/"?Gg:Rc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",oo(T,wl)),d.join("")};function hr(d){return new Zt(d)}function so(d,_,T){d.j=T?Cr(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Gs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Xi(d,_,T){_ instanceof Ji?(d.i=_,_f(d.i,d.h)):(T||(_=oo(_,$g)),d.i=new Ji(_,d.h))}function ot(d,_,T){d.i.set(_,T)}function ao(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Cr(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function oo(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,yf),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ic=/[#\/\?@]/g,Rc=/[#\?:]/g,Gg=/[#\?]/g,$g=/[#\?@]/g,wl=/#/g;function Ji(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function xr(d){d.g||(d.g=new Map,d.h=0,d.i&&Hg(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Ji.prototype,n.add=function(d,_){xr(this),this.i=null,d=oi(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Zi(d,_){xr(d),_=oi(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function es(d,_){return xr(d),_=oi(d,_),d.g.has(_)}n.forEach=function(d,_){xr(this),this.g.forEach(function(T,A){T.forEach(function(q){d.call(_,q,A,this)},this)},this)},n.na=function(){xr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let A=0;A<_.length;A++){const q=d[A];for(let J=0;J<q.length;J++)T.push(_[A])}return T},n.V=function(d){xr(this);let _=[];if(typeof d=="string")es(this,d)&&(_=_.concat(this.g.get(oi(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},n.set=function(d,_){return xr(this),this.i=null,d=oi(this,d),es(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Cc(d,_,T){Zi(d,_),0<T.length&&(d.i=null,d.g.set(oi(d,_),I(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var A=_[T];const J=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var q=J;fe[A]!==""&&(q+="="+encodeURIComponent(String(fe[A]))),d.push(q)}}return this.i=d.join("&")};function oi(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function _f(d,_){_&&!d.j&&(xr(d),d.i=null,d.g.forEach(function(T,A){var q=A.toLowerCase();A!=q&&(Zi(this,A),Cc(this,q,T))},d)),d.j=_}function lo(d,_){const T=new Rr;if(h.Image){const A=new Image;A.onload=R(Pr,T,"TestLoadImage: loaded",!0,_,A),A.onerror=R(Pr,T,"TestLoadImage: error",!1,_,A),A.onabort=R(Pr,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=R(Pr,T,"TestLoadImage: timeout",!1,_,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else _(!1)}function Kr(d,_){const T=new Rr,A=new AbortController,q=setTimeout(()=>{A.abort(),Pr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:A.signal}).then(J=>{clearTimeout(q),J.ok?Pr(T,"TestPingServer: ok",!0,_):Pr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Pr(T,"TestPingServer: error",!1,_)})}function Pr(d,_,T,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(T)}catch{}}function uo(){this.g=new Tt}function li(d,_,T){const A=T||"";try{Ac(d,function(q,J){let fe=q;p(q)&&(fe=Je(q)),_.push(A+J+"="+encodeURIComponent(fe))})}catch(q){throw _.push(A+"type="+encodeURIComponent("_badmap")),q}}function $s(d){this.l=d.Ub||null,this.j=d.eb||!1}C($s,mn),$s.prototype.g=function(){return new ts(this.l,this.j)},$s.prototype.i=function(d){return function(){return d}}({});function ts(d,_){_t.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ts,_t),n=ts.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,ci(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ui(this):ci(this),this.readyState==3&&xc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ui(this))},n.Qa=function(d){this.g&&(this.response=d,ui(this))},n.ga=function(){this.g&&ui(this)};function ui(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ci(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function ci(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Pc(d){let _="";return ae(d,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function pn(d,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Pc(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ot(d,_,T))}function nt(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,_t);var Sl=/^https?$/i,co=["POST","PUT"];n=nt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?Xt(this.o):Xt(ii),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){vf(this,J);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)T.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())T.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(co,_,void 0))||A||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of T)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){vf(this,J)}};function vf(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Al(d),hi(d)}function Al(d){d.A||(d.A=!0,Xe(d,"complete"),Xe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xe(this,"complete"),Xe(this,"abort"),hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Il(this):this.bb())},n.bb=function(){Il(this)};function Il(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Dr(d)!=4||d.Z()!=2)){if(d.u&&Dr(d)==4)fn(d.Ea,0,d);else if(Xe(d,"readystatechange"),Dr(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=fe===0){var q=String(d.D).match(io)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),A=!Sl.test(q?q.toLowerCase():"")}T=A}if(T)Xe(d,"complete"),Xe(d,"success");else{d.m=6;try{var J=2<Dr(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",Al(d)}}finally{hi(d)}}}}function hi(d,_){if(d.g){ho(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Xe(d,"ready");try{T.onreadystatechange=A}catch{}}}function ho(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Dr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),qt(_)}};function Ef(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Kg(d){const _={};d=(d.g&&2<=Dr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(K(d[A]))continue;var T=N(d[A]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[q]||[];_[q]=J,J.push(T)}P(_,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Rl(d){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,d),this.cb=fo("retryDelaySeedMs",1e4,d),this.Wa=fo("forwardChannelMaxRetries",2,d),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(d&&d.concurrentRequestLimit),this.Da=new uo,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Rl.prototype,n.la=8,n.G=1,n.connect=function(d,_,T,A){wt(0),this.W=d,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Rf(this,null,this.W),xl(this)};function Dc(d){if(Tf(d),d.G==3){var _=d.U++,T=hr(d.I);if(ot(T,"SID",d.K),ot(T,"RID",_),ot(T,"TYPE","terminate"),mo(d,T),_=new Hn(d,d.j,_),_.L=2,_.v=ao(hr(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.v,T=!0),T||(_.g=Cf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),no(_)}If(d)}function Cl(d){d.g&&(po(d),d.g.cancel(),d.g=null)}function Tf(d){Cl(d),d.u&&(h.clearTimeout(d.u),d.u=null),Pl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function xl(d){if(!vl(d.h)&&!d.s){d.s=!0;var _=d.Ga;de||L(),_e||(de(),_e=!0),ze.add(_,d),d.B=0}}function Qg(d,_){return El(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Jt(E(d.Ga,d,_),kc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new Hn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=x(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=bf(this,q,_),T=hr(this.I),ot(T,"RID",d),ot(T,"CVER",22),this.D&&ot(T,"X-HTTP-Session-Id",this.D),mo(this,T),J&&(this.O?_="headers="+encodeURIComponent(String(Pc(J)))+"&"+_:this.m&&pn(T,this.m,J)),Tl(this.h,q),this.Ua&&ot(T,"TYPE","init"),this.P?(ot(T,"$req",_),ot(T,"SID","null"),q.T=!0,$r(q,T,null)):$r(q,T,_),this.G=2}}else this.G==3&&(d?Nc(this,d):this.i.length==0||vl(this.h)||Nc(this))};function Nc(d,_){var T;_?T=_.l:T=d.U++;const A=hr(d.I);ot(A,"SID",d.K),ot(A,"RID",T),ot(A,"AID",d.T),mo(d,A),d.m&&d.o&&pn(A,d.m,d.o),T=new Hn(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=bf(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Tl(d.h,T),$r(T,A,_)}function mo(d,_){d.H&&ae(d.H,function(T,A){ot(_,A,T)}),d.l&&Ac({},function(T,A){ot(_,A,T)})}function bf(d,_,T){T=Math.min(d.i.length,T);var A=d.l?E(d.l.Na,d.l,d):null;e:{var q=d.i;let J=-1;for(;;){const fe=["count="+T];J==-1?0<T?(J=q[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let qe=!0;for(let on=0;on<T;on++){let He=q[on].g;const gn=q[on].map;if(He-=J,0>He)J=Math.max(0,q[on].g-100),qe=!1;else try{li(gn,fe,"req"+He+"_")}catch{A&&A(gn)}}if(qe){A=fe.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,A}function wf(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;de||L(),_e||(de(),_e=!0),ze.add(_,d),d.v=0}}function Oc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Jt(E(d.Fa,d),kc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Jt(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Cl(this),Sf(this))};function po(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Sf(d){d.g=new Hn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=hr(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),mo(d,_),d.m&&d.o&&pn(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=ao(hr(_)),T.m=null,T.P=!0,Yi(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Cl(this),Oc(this),wt(19))};function Pl(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Af(d,_){var T=null;if(d.g==_){Pl(d),po(d),d.g=null;var A=2}else if(wc(d.h,_))T=_.D,Gn(d.h,_),A=1;else return;if(d.G!=0){if(_.o)if(A==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var q=d.B;A=zs(),Xe(A,new an(A,T)),xl(d)}else wf(d);else if(q=_.s,q==3||q==0&&0<_.X||!(A==1&&Qg(d,_)||A==2&&Oc(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),q){case 1:ns(d,5);break;case 4:ns(d,10);break;case 3:ns(d,6);break;default:ns(d,2)}}}function kc(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function ns(d,_){if(d.j.info("Error code "+_),_==2){var T=E(d.fb,d),A=d.Xa;const q=!A;A=new Zt(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||so(A,"https"),ao(A),q?lo(A.toString(),T):Kr(A.toString(),T)}else wt(2);d.G=0,d.l&&d.l.sa(_),If(d),Tf(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function If(d){if(d.G=0,d.ka=[],d.l){const _=Sc(d.h);(_.length!=0||d.i.length!=0)&&(k(d.ka,_),k(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Rf(d,_,T){var A=T instanceof Zt?hr(T):new Zt(T);if(A.g!="")_&&(A.g=_+"."+A.g),Gs(A,A.s);else{var q=h.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var J=new Zt(null);A&&so(J,A),_&&(J.g=_),q&&Gs(J,q),T&&(J.l=T),A=J}return T=d.D,_=d.ya,T&&_&&ot(A,T,_),ot(A,"VER",d.la),mo(d,A),A}function Cf(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new nt(new $s({eb:T})):new nt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xf(){}n=xf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dl(){}Dl.prototype.g=function(d,_){return new $n(d,_)};function $n(d,_){_t.call(this),this.g=new Rl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!K(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!K(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new di(this)}C($n,_t),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Dc(this.g)},$n.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Je(d),d=T);_.i.push(new gf(_.Ya++,d)),_.G==3&&xl(_)},$n.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,$n.aa.N.call(this)};function Pf(d){er.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(Pf,er);function Df(){Ki.call(this),this.status=1}C(Df,Ki);function di(d){this.g=d}C(di,xf),di.prototype.ua=function(){Xe(this.g,"a")},di.prototype.ta=function(d){Xe(this.g,new Pf(d))},di.prototype.sa=function(d){Xe(this.g,new Df)},di.prototype.ra=function(){Xe(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,$1=function(){return new Dl},G1=function(){return zs()},H1=qn,Dv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Xm=qs,Qi.COMPLETE="complete",q1=Qi,bt.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,zh=bt,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,j1=nt}).apply(typeof Mm<"u"?Mm:typeof self<"u"?self:typeof window<"u"?window:{});const PA="@firebase/firestore",DA="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new ig("@firebase/firestore");function vu(){return ka.logLevel}function HL(n){ka.setLogLevel(n)}function ue(n,...e){if(ka.logLevel<=Be.DEBUG){const t=e.map(j0);ka.debug(`Firestore (${uc}): ${n}`,...t)}}function Kt(n,...e){if(ka.logLevel<=Be.ERROR){const t=e.map(j0);ka.error(`Firestore (${uc}): ${n}`,...t)}}function Li(n,...e){if(ka.logLevel<=Be.WARN){const t=e.map(j0);ka.warn(`Firestore (${uc}): ${n}`,...t)}}function j0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,K1(n,r,t)}function K1(n,e,t){let r=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Kt(r),new Error(r)}function Te(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||K1(e,s,r)}function GL(n,e){n||ye(57014,e)}function ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class KL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QL{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new Q1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class YL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new NA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=JL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Ce(n,e){return n<e?-1:n>e?1:0}function Nv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ce(r,s);{const o=q0(),u=ZL(o.encode(OA(n,t)),o.encode(OA(e,t)));return u!==0?u:Ce(r,s)}}t+=r>65535?2:1}return Ce(n.length,e.length)}function OA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ZL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ce(n[t],e[t]);return Ce(n.length,e.length)}function Uu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function W1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=-62135596800,VA=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*VA);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kA)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VA}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Pt(0,0))}static max(){return new be(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="__name__";class Ti{constructor(e,t,r){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ye(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ti.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Ce(e.length,t.length)}static compareSegments(e,t){const r=Ti.isNumericId(e),s=Ti.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ti.extractNumericId(e).compare(Ti.extractNumericId(t)):Nv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class Fe extends Ti{construct(e,t,r){return new Fe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Fe(t)}static emptyPath(){return new Fe([])}}const e6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Ti{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return e6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MA}static keyField(){return new Ct([MA])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Fe.fromString(e))}static fromName(e){return new me(Fe.fromString(e).popFirst(5))}static empty(){return new me(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;class vp{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Ov(n){return n.fields.find(e=>e.kind===2)}function Oo(n){return n.fields.filter(e=>e.kind!==2)}vp.UNKNOWN_ID=-1;class Jm{constructor(e,t){this.fieldPath=e,this.kind=t}}class pd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pd(0,Ir.min())}}function X1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Ir(s,me.empty(),e)}function J1(n){return new Ir(n.readTime,n.key,Bu)}class Ir{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ir(be.min(),me.empty(),Bu)}static max(){return new Ir(be.max(),me.empty(),Bu)}}function H0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==Z1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,r)=>{t(e)})}static reject(e){return new H((t,r)=>{r(e)})}static waitFor(e){return new H((t,r)=>{let s=0,o=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next(s=>s?H.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new H((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++h,h===o&&r(u)},y=>s(y))}})}static doWhile(e,t){return new H((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="SimpleDb";class sg{static open(e,t,r,s){try{return new sg(t,e.transaction(s,r))}catch(o){throw new Kh(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Dn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Kh(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=G0(r.target.error);this.S.reject(new Kh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(Er,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new n6(t)}}class Oi{static delete(e){return ue(Er,"Removing database:",e),Vo(k0().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!dd())return!1;if(Oi.F())return!0;const e=kt(),t=Oi.M(e),r=0<t&&t<10,s=tC(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,Oi.M(kt())===12.2&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(ue(Er,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new Kh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new le(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new le(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Kh(e,u))},s.onupgradeneeded=o=>{ue(Er,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,s.transaction,o.oldVersion,this.version).next(()=>{ue(Er,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=sg.open(this.db,e,o?"readonly":"readwrite",r),f=s(h).next(p=>(h.v(),p)).catch(p=>(h.abort(p),H.reject(p))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,p=f.name!=="FirebaseError"&&u<3;if(ue(Er,"Transaction failed with error:",f.message,"Retrying:",p),this.close(),!p)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function tC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class t6{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Vo(this.K.delete())}}class Kh extends le{constructor(e,t){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ga(n){return n.name==="IndexedDbTransactionError"}class n6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(Er,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(Er,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vo(r)}add(e){return ue(Er,"ADD",this.store.name,e,e),Vo(this.store.add(e))}get(e){return Vo(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(Er,"GET",this.store.name,e,t),t))}delete(e){return ue(Er,"DELETE",this.store.name,e),Vo(this.store.delete(e))}count(){return ue(Er,"COUNT",this.store.name),Vo(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new H((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new H((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}X(e,t){ue(Er,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const s=this.cursor(r);return this.Y(s,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Y(s,t)}ne(e){const t=this.cursor({});return new H((r,s)=>{t.onerror=o=>{const u=G0(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new H((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const f=new t6(h),p=t(h.primaryKey,h.value,f);if(p instanceof H){const y=p.catch(v=>(f.done(),H.reject(v)));r.push(y)}f.isDone?s():f.j===null?h.continue():h.continue(f.j)}}).next(()=>H.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vo(n){return new H((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=G0(r.target.error);t(s)}})}let LA=!1;function G0(n){const e=Oi.M(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LA||(LA=!0,setTimeout(()=>{throw r},0)),r}}return n}const Qh="IndexBackfiller";class r6{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){ue(Qh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();ue(Qh,`Documents written: ${t}`)}catch(t){Ga(t)?ue(Qh,"Ignoring IndexedDB error during index backfill: ",t):await Ha(t)}await this.ie(6e4)})}}class i6{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let s=t,o=!0;return H.doWhile(()=>o===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return ue(Qh,`Processing collection: ${u}`),this._e(e,u,s).next(h=>{s-=h,r.add(u)});o=!1})).next(()=>t-s)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(s,o)).next(h=>(ue(Qh,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((s,o)=>{const u=J1(o);H0(u,r)>0&&(r=u)}),new Ir(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sr.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=-1;function qd(n){return n==null}function gd(n){return n===0&&1/n==-1/0}function nC(n){return typeof n=="number"&&Number.isInteger(n)&&!gd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="";function zn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UA(e)),e=s6(n.get(t),e);return UA(e)}function s6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Ep:t+="";break;default:t+=o}}return t}function UA(n){return n+Ep+""}function xi(n){const e=n.length;if(Te(e>=2,64408,{path:n}),e===2)return Te(n.charAt(0)===Ep&&n.charAt(1)==="",56145,{path:n}),Fe.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Ep,o);switch((u<0||u>t)&&ye(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;s.length===0?f=h:(s+=h,f=s,s=""),r.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:ye(61167,{path:n})}o=u+2}return new Fe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="remoteDocuments",Hd="owner",hu="owner",yd="mutationQueues",a6="userId",Xr="mutations",BA="batchId",zo="userMutationsIndex",zA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n,e){return[n,zn(e)]}function rC(n,e,t){return[n,zn(e),t]}const o6={},zu="documentMutations",Tp="remoteDocumentsV14",l6=["prefixPath","collectionGroup","readTime","documentId"],ep="documentKeyIndex",u6=["prefixPath","collectionGroup","documentId"],iC="collectionGroupIndex",c6=["collectionGroup","readTime","prefixPath","documentId"],_d="remoteDocumentGlobal",kv="remoteDocumentGlobalKey",Fu="targets",sC="queryTargetsIndex",h6=["canonicalId","targetId"],ju="targetDocuments",d6=["targetId","path"],$0="documentTargetsIndex",f6=["path","targetId"],bp="targetGlobalKey",Ho="targetGlobal",vd="collectionParents",m6=["collectionId","parent"],qu="clientMetadata",p6="clientId",ag="bundles",g6="bundleId",og="namedQueries",y6="name",K0="indexConfiguration",_6="indexId",Vv="collectionGroupIndex",v6="collectionGroup",Yh="indexState",E6=["indexId","uid"],aC="sequenceNumberIndex",T6=["uid","sequenceNumber"],Wh="indexEntries",b6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oC="documentKeyIndex",w6=["indexId","uid","orderedDocumentKey"],lg="documentOverlays",S6=["userId","collectionPath","documentId"],Mv="collectionPathOverlayIndex",A6=["userId","collectionPath","largestBatchId"],lC="collectionGroupOverlayIndex",I6=["userId","collectionGroup","largestBatchId"],Q0="globals",R6="name",uC=[yd,Xr,zu,ko,Fu,Hd,Ho,ju,qu,_d,vd,ag,og],C6=[...uC,lg],cC=[yd,Xr,zu,Tp,Fu,Hd,Ho,ju,qu,_d,vd,ag,og,lg],hC=cC,Y0=[...hC,K0,Yh,Wh],x6=Y0,dC=[...Y0,Q0],P6=dC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends eC{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function dn(n,e){const t=ge(n);return Oi.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $a(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lm(this.root,e,this.comparator,!0)}}class Lm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Cn.RED,this.left=s??Cn.EMPTY,this.right=o??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Cn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Cn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jA(this.data.getIterator())}getIteratorFrom(e){return new jA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class jA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function du(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new ar([])}unionWith(e){let t=new at(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mC("Invalid base64 string: "+o):o}}(e);return new zt(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const N6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(Te(!!n,39018),typeof n=="string"){let e=0;const t=N6.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="server_timestamp",gC="__type__",yC="__previous_value__",_C="__local_write_time__";function ug(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gC])===null||t===void 0?void 0:t.stringValue)===pC}function cg(n){const e=n.mapValue.fields[yC];return ug(e)?cg(e):e}function Ed(n){const e=Rs(n.mapValue.fields[_C].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t,r,s,o,u,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Uv="(default)";class Va{constructor(e,t){this.projectId=e,this.database=t||Uv}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database===Uv}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__type__",vC="__max__",Ta={mapValue:{fields:{__type__:{stringValue:vC}}}},X0="__vector__",Hu="value",tp={nullValue:"NULL_VALUE"};function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ug(n)?4:EC(n)?9007199254740991:hg(n)?10:11:ye(28295,{value:n})}function Ui(n,e){if(n===e)return!0;const t=Ma(n);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ed(n).isEqual(Ed(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Rs(s.timestampValue),h=Rs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Cs(s.bytesValue).isEqual(Cs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=It(s.doubleValue),h=It(o.doubleValue);return u===h?gd(u)===gd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Uu(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(FA(u)!==FA(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ui(u[f],h[f])))return!1;return!0}(n,e);default:return ye(52216,{left:n})}}function Td(n,e){return(n.values||[]).find(t=>Ui(t,e))!==void 0}function La(n,e){if(n===e)return 0;const t=Ma(n),r=Ma(e);if(t!==r)return Ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return qA(n.timestampValue,e.timestampValue);case 4:return qA(Ed(n),Ed(e));case 5:return Nv(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Cs(o),f=Cs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=Ce(h[p],f[p]);if(y!==0)return y}return Ce(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Ce(It(o.latitude),It(u.latitude));return h!==0?h:Ce(It(o.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return HA(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,p,y;const v=o.fields||{},E=u.fields||{},R=(h=v[Hu])===null||h===void 0?void 0:h.arrayValue,C=(f=E[Hu])===null||f===void 0?void 0:f.arrayValue,I=Ce(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:HA(R,C)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ta.mapValue&&u===Ta.mapValue)return 0;if(o===Ta.mapValue)return 1;if(u===Ta.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const E=Nv(f[v],y[v]);if(E!==0)return E;const R=La(h[f[v]],p[y[v]]);if(R!==0)return R}return Ce(f.length,y.length)}(n.mapValue,e.mapValue);default:throw ye(23264,{Pe:t})}}function qA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);const t=Rs(n),r=Rs(e),s=Ce(t.seconds,r.seconds);return s!==0?s:Ce(t.nanos,r.nanos)}function HA(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=La(t[s],r[s]);if(o)return o}return Ce(t.length,r.length)}function Gu(n){return Bv(n)}function Bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Rs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Bv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Bv(t.fields[u])}`;return s+"}"}(n.mapValue):ye(61005,{value:n})}function np(n){switch(Ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cg(n);return e?16+np(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+np(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return $a(r.fields,(o,u)=>{s+=o.length+np(u)}),s}(n.mapValue);default:throw ye(13486,{value:n})}}function Qo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zv(n){return!!n&&"integerValue"in n}function bd(n){return!!n&&"arrayValue"in n}function GA(n){return!!n&&"nullValue"in n}function $A(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rp(n){return!!n&&"mapValue"in n}function hg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[W0])===null||t===void 0?void 0:t.stringValue)===X0}function Xh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $a(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}const TC={mapValue:{fields:{[W0]:{stringValue:X0},[Hu]:{arrayValue:{}}}}};function k6(n){return"nullValue"in n?tp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qo(Va.empty(),me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?hg(n)?TC:{mapValue:{}}:ye(35942,{value:n})}function V6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qo(Va.empty(),me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?TC:"mapValue"in n?hg(n)?{mapValue:{}}:Ta:ye(61959,{value:n})}function KA(n,e){const t=La(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function QA(n,e){const t=La(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xh(t)}setAll(e){let t=Ct.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Xh(u):s.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];rp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){$a(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Pn(Xh(this.value))}}function bC(n){const e=[];return $a(n.fields,(t,r)=>{const s=new Ct([t]);if(rp(r)){const o=bC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,be.min(),be.min(),be.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,s){return new vt(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new vt(e,2,t,be.min(),be.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,be.min(),be.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t){this.position=e,this.inclusive=t}}function YA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=me.comparator(me.fromName(u.referenceValue),t.key):r=La(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t="asc"){this.field=e,this.dir=t}}function M6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{}class je extends wC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new L6(e,t,r):t==="array-contains"?new z6(e,r):t==="in"?new xC(e,r):t==="not-in"?new F6(e,r):t==="array-contains-any"?new j6(e,r):new je(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new U6(e,r):new B6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(La(t,this.value)):t!==null&&Ma(this.value)===Ma(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends wC{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new st(e,t)}matches(e){return $u(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $u(n){return n.op==="and"}function Fv(n){return n.op==="or"}function J0(n){return SC(n)&&$u(n)}function SC(n){for(const e of n.filters)if(e instanceof st)return!1;return!0}function jv(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Gu(n.value);if(J0(n))return n.filters.map(e=>jv(e)).join(",");{const e=n.filters.map(t=>jv(t)).join(",");return`${n.op}(${e})`}}function AC(n,e){return n instanceof je?function(r,s){return s instanceof je&&r.op===s.op&&r.field.isEqual(s.field)&&Ui(r.value,s.value)}(n,e):n instanceof st?function(r,s){return s instanceof st&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,h)=>o&&AC(u,s.filters[h]),!0):!1}(n,e):void ye(19439)}function IC(n,e){const t=n.filters.concat(e);return st.create(t,n.op)}function RC(n){return n instanceof je?function(t){return`${t.field.canonicalString()} ${t.op} ${Gu(t.value)}`}(n):n instanceof st?function(t){return t.op.toString()+" {"+t.getFilters().map(RC).join(" ,")+"}"}(n):"Filter"}class L6 extends je{constructor(e,t,r){super(e,t,r),this.key=me.fromName(r.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class U6 extends je{constructor(e,t){super(e,"in",t),this.keys=CC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class B6 extends je{constructor(e,t){super(e,"not-in",t),this.keys=CC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>me.fromName(r.referenceValue))}class z6 extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bd(t)&&Td(t.arrayValue,this.value)}}class xC extends je{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Td(this.value.arrayValue,t)}}class F6 extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Td(this.value.arrayValue,t)}}class j6 extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function qv(n,e=null,t=[],r=[],s=null,o=null,u=null){return new q6(n,e,t,r,s,o,u)}function Yo(n){const e=ge(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gu(r)).join(",")),e.Ie=t}return e.Ie}function Gd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WA(n.startAt,e.startAt)&&WA(n.endAt,e.endAt)}function wp(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Sp(n,e){return n.filters.filter(t=>t instanceof je&&t.field.isEqual(e))}function XA(n,e,t){let r=tp,s=!0;for(const o of Sp(n,e)){let u=tp,h=!0;switch(o.op){case"<":case"<=":u=k6(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=tp}KA({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];KA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function JA(n,e,t){let r=Ta,s=!0;for(const o of Sp(n,e)){let u=Ta,h=!0;switch(o.op){case">=":case">":u=V6(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ta}QA({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];QA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PC(n,e,t,r,s,o,u,h){return new Ns(n,e,t,r,s,o,u,h)}function cc(n){return new Ns(n)}function ZA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Z0(n){return n.collectionGroup!==null}function Ru(n){const e=ge(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new at(Ct.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new wd(o,r))}),t.has(Ct.keyField().canonicalString())||e.Ee.push(new wd(Ct.keyField(),r))}return e.Ee}function Xn(n){const e=ge(n);return e.de||(e.de=H6(e,Ru(n))),e.de}function H6(n,e){if(n.limitType==="F")return qv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new wd(s.field,o)});const t=n.endAt?new Ua(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ua(n.startAt.position,n.startAt.inclusive):null;return qv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hv(n,e){const t=n.filters.concat([e]);return new Ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ap(n,e,t){return new Ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $d(n,e){return Gd(Xn(n),Xn(e))&&n.limitType===e.limitType}function DC(n){return`${Yo(Xn(n))}|lt:${n.limitType}`}function Eu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>RC(s)).join(", ")}]`),qd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Gu(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Gu(s)).join(",")),`Target(${r})`}(Xn(n))}; limitType=${n.limitType})`}function Kd(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Ru(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=YA(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Ru(r),s)||r.endAt&&!function(u,h,f){const p=YA(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Ru(r),s))}(n,e)}function NC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OC(n){return(e,t)=>{let r=!1;for(const s of Ru(n)){const o=G6(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function G6(n,e,t){const r=n.field.isKeyField()?me.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),p=h.data.field(o);return f!==null&&p!==null?La(f,p):ye(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return fC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new gt(me.comparator);function or(){return $6}const kC=new gt(me.comparator);function Fh(...n){let e=kC;for(const t of n)e=e.insert(t.key,t);return e}function VC(n){let e=kC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Pi(){return Jh()}function MC(){return Jh()}function Jh(){return new Os(n=>n.toString(),(n,e)=>n.isEqual(e))}const K6=new gt(me.comparator),Q6=new at(me.comparator);function De(...n){let e=Q6;for(const t of n)e=e.add(t);return e}const Y6=new at(Ce);function eE(){return Y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function LC(n){return{integerValue:""+n}}function UC(n,e){return nC(e)?LC(e):tE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this._=void 0}}function W6(n,e,t){return n instanceof Ku?function(s,o){const u={fields:{[gC]:{stringValue:pC},[_C]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&ug(o)&&(o=cg(o)),o&&(u.fields[yC]=o),{mapValue:u}}(t,e):n instanceof Wo?zC(n,e):n instanceof Xo?FC(n,e):function(s,o){const u=BC(s,o),h=eI(u)+eI(s.Re);return zv(u)&&zv(s.Re)?LC(h):tE(s.serializer,h)}(n,e)}function X6(n,e,t){return n instanceof Wo?zC(n,e):n instanceof Xo?FC(n,e):t}function BC(n,e){return n instanceof Qu?function(r){return zv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ku extends dg{}class Wo extends dg{constructor(e){super(),this.elements=e}}function zC(n,e){const t=jC(e);for(const r of n.elements)t.some(s=>Ui(s,r))||t.push(r);return{arrayValue:{values:t}}}class Xo extends dg{constructor(e){super(),this.elements=e}}function FC(n,e){let t=jC(e);for(const r of n.elements)t=t.filter(s=>!Ui(s,r));return{arrayValue:{values:t}}}class Qu extends dg{constructor(e,t){super(),this.serializer=e,this.Re=t}}function eI(n){return It(n.integerValue||n.doubleValue)}function jC(n){return bd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.field=e,this.transform=t}}function J6(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Wo&&s instanceof Wo||r instanceof Xo&&s instanceof Xo?Uu(r.elements,s.elements,Ui):r instanceof Qu&&s instanceof Qu?Ui(r.Re,s.Re):r instanceof Ku&&s instanceof Ku}(n.transform,e.transform)}class Z6{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fg{}function qC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dc(n.key,xt.none()):new hc(n.key,n.data,xt.none());{const t=n.data,r=Pn.empty();let s=new at(Ct.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new ks(n.key,r,new ar(s.toArray()),xt.none())}}function e3(n,e,t){n instanceof hc?function(s,o,u){const h=s.value.clone(),f=nI(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ks?function(s,o,u){if(!ip(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=nI(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(HC(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Zh(n,e,t,r){return n instanceof hc?function(o,u,h,f){if(!ip(o.precondition,u))return h;const p=o.value.clone(),y=rI(o.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof ks?function(o,u,h,f){if(!ip(o.precondition,u))return h;const p=rI(o.fieldTransforms,f,u),y=u.data;return y.setAll(HC(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,h){return ip(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function t3(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=BC(r.transform,s||null);o!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,o))}return t||null}function tI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Uu(r,s,(o,u)=>J6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hc extends fg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ks extends fg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nI(n,e,t){const r=new Map;Te(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,X6(u,h,t[s]))}return r}function rI(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,W6(o,u,e))}return r}class dc extends fg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nE extends fg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&e3(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MC();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=qC(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(t,r)=>tI(t,r))&&Uu(this.baseMutations,e.baseMutations,(t,r)=>tI(t,r))}}class iE{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Te(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return K6}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new iE(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,$e;function GC(n){switch(n){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function $C(n){if(n===void 0)return Kt("GRPC error has no .code"),X.UNKNOWN;switch(n){case nn.OK:return X.OK;case nn.CANCELLED:return X.CANCELLED;case nn.UNKNOWN:return X.UNKNOWN;case nn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case nn.INTERNAL:return X.INTERNAL;case nn.UNAVAILABLE:return X.UNAVAILABLE;case nn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case nn.NOT_FOUND:return X.NOT_FOUND;case nn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case nn.ABORTED:return X.ABORTED;case nn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case nn.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:n})}}($e=nn||(nn={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Aa([4294967295,4294967295],0);function iI(n){const e=q0().encode(n),t=new F1;return t.update(e),new Uint8Array(t.digest())}function sI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Aa([t,r],0),new Aa([s,o],0)]}class aE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jh(`Invalid padding: ${t}`);if(r<0)throw new jh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jh(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Aa.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Aa.fromNumber(r)));return s.compare(r3)===1&&(s=new Aa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=iI(e),[r,s]=sI(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new aE(o,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=iI(e),[r,s]=sI(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yd(be.min(),s,new gt(Ce),or(),De())}}class Wd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wd(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class KC{constructor(e,t){this.targetId=e,this.Ce=t}}class QC{constructor(e,t,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class aI{constructor(){this.Fe=0,this.Me=oI(),this.xe=zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=De(),t=De(),r=De();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ye(38017,{changeType:o})}}),new Wd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=oI()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class i3{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=Um(),this.Ye=Um(),this.Ze=new gt(Ce)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(wp(o))if(r===0){const u=new me(o.path);this.tt(t,u,vt.newNoDocument(u,be.min()))}else Te(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Cs(r).toUint8Array()}catch(f){if(f instanceof mC)return Li("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new aE(u,s,o)}catch(f){return Li(f instanceof jh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&wp(h.target)){const f=new me(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,vt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=De();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new Yd(e,t,this.Ze,this.He,r);return this.He=or(),this.Je=Um(),this.Ye=Um(),this.Ze=new gt(Ce),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new aI,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new at(Ce),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new at(Ce),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new aI),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Um(){return new gt(me.comparator)}function oI(){return new gt(me.comparator)}const s3={asc:"ASCENDING",desc:"DESCENDING"},a3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o3={and:"AND",or:"OR"};class l3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gv(n,e){return n.useProto3Json||qd(e)?e:{value:e}}function Yu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function u3(n,e){return Yu(n,e.toTimestamp())}function Qt(n){return Te(!!n,49232),be.fromTimestamp(function(t){const r=Rs(t);return new Pt(r.seconds,r.nanos)}(n))}function oE(n,e){return $v(n,e).canonicalString()}function $v(n,e){const t=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function WC(n){const e=Fe.fromString(n);return Te(ax(e),10190,{key:e.toString()}),e}function Sd(n,e){return oE(n.databaseId,e.path)}function ki(n,e){const t=WC(e);if(t.get(1)!==n.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(ZC(t))}function XC(n,e){return oE(n.databaseId,e)}function JC(n){const e=WC(n);return e.length===4?Fe.emptyPath():ZC(e)}function Kv(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZC(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lI(n,e,t){return{name:Sd(n,e),fields:t.value.mapValue.fields}}function ex(n,e,t){const r=ki(n,e.name),s=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):be.min(),u=new Pn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function c3(n,e){return"found"in e?function(r,s){Te(!!s.found,43571),s.found.name,s.found.updateTime;const o=ki(r,s.found.name),u=Qt(s.found.updateTime),h=s.found.createTime?Qt(s.found.createTime):be.min(),f=new Pn({mapValue:{fields:s.found.fields}});return vt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,s){Te(!!s.missing,3894),Te(!!s.readTime,22933);const o=ki(r,s.missing),u=Qt(s.readTime);return vt.newNoDocument(o,u)}(n,e):ye(7234,{result:e})}function h3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Te(y===void 0||typeof y=="string",58123),zt.fromBase64String(y||"")):(Te(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),zt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?X.UNKNOWN:$C(p.code);return new le(y,p.message||"")}(u);t=new QC(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ki(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):be.min(),h=new Pn({mapValue:{fields:r.document.fields}}),f=vt.newFoundDocument(s,o,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new sp(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ki(n,r.document),o=r.readTime?Qt(r.readTime):be.min(),u=vt.newNoDocument(s,o),h=r.removedTargetIds||[];t=new sp([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ki(n,r.document),o=r.removedTargetIds||[];t=new sp([],o,s,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new n3(s,o),h=r.targetId;t=new KC(h,u)}}return t}function Ad(n,e){let t;if(e instanceof hc)t={update:lI(n,e.key,e.value)};else if(e instanceof dc)t={delete:Sd(n,e.key)};else if(e instanceof ks)t={update:lI(n,e.key,e.data),updateMask:y3(e.fieldMask)};else{if(!(e instanceof nE))return ye(16599,{ft:e.type});t={verify:Sd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Ku)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Wo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qu)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw ye(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:u3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)}(n,e.precondition)),t}function Qv(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?xt.updateTime(Qt(o.updateTime)):o.exists!==void 0?xt.exists(o.exists):xt.none()}(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,h){let f=null;if("setToServerValue"in h)Te(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new Ku;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new Wo(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new Xo(y)}else"increment"in h?f=new Qu(u,h.increment):ye(16584,{proto:h});const p=Ct.fromServerFormat(h.fieldPath);return new Qd(p,f)}(n,s)):[];if(e.update){e.update.name;const s=ki(n,e.update.name),o=new Pn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const p=f.fieldPaths||[];return new ar(p.map(y=>Ct.fromServerFormat(y)))}(e.updateMask);return new ks(s,o,u,t,r)}return new hc(s,o,t,r)}if(e.delete){const s=ki(n,e.delete);return new dc(s,t)}if(e.verify){const s=ki(n,e.verify);return new nE(s,t)}return ye(1463,{proto:e})}function d3(n,e){return n&&n.length>0?(Te(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?Qt(s.updateTime):Qt(o);return u.isEqual(be.min())&&(u=Qt(o)),new Z6(u,s.transformResults||[])}(t,e))):[]}function tx(n,e){return{documents:[XC(n,e.path)]}}function nx(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XC(n,s);const o=function(p){if(p.length!==0)return sx(st.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Tu(E.field),direction:m3(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Gv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function rx(n){let e=JC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Te(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(v){const E=ix(v);return E instanceof st&&J0(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(E=>function(C){return new wd(bu(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(v){let E;return E=typeof v=="object"?v.value:v,qd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,R=v.values||[];return new Ua(R,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,R=v.values||[];return new Ua(R,E)}(t.endAt)),PC(e,s,u,o,h,"F",f,p)}function f3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ix(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bu(t.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bu(t.unaryFilter.field);return je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bu(t.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bu(t.unaryFilter.field);return je.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(n):n.fieldFilter!==void 0?function(t){return je.create(bu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return st.create(t.compositeFilter.filters.map(r=>ix(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(t.compositeFilter.op))}(n):ye(30097,{filter:n})}function m3(n){return s3[n]}function p3(n){return a3[n]}function g3(n){return o3[n]}function Tu(n){return{fieldPath:n.canonicalString()}}function bu(n){return Ct.fromServerFormat(n.fieldPath)}function sx(n){return n instanceof je?function(t){if(t.op==="=="){if($A(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NAN"}};if(GA(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($A(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NOT_NAN"}};if(GA(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(t.field),op:p3(t.op),value:t.value}}}(n):n instanceof st?function(t){const r=t.getFilters().map(s=>sx(s));return r.length===1?r[0]:{compositeFilter:{op:g3(t.op),filters:r}}}(n):ye(54877,{filter:n})}function y3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ax(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,r,s,o=be.min(),u=be.min(),h=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.wt=e}}function _3(n,e){let t;if(e.document)t=ex(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=me.fromSegments(e.noDocument.path),s=Zo(e.noDocument.readTime);t=vt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const r=me.fromSegments(e.unknownDocument.path),s=Zo(e.unknownDocument.version);t=vt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const o=new Pt(s[0],s[1]);return be.fromTimestamp(o)}(e.readTime)),t}function uI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ip(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:Sd(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Yu(o,u.version.toTimestamp()),createTime:Yu(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Jo(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Jo(e.version)}}return r}function Ip(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Jo(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zo(n){const e=new Pt(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function Mo(n,e){const t=(e.baseMutations||[]).map(o=>Qv(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Qv(n.wt,o)),s=Pt.fromMillis(e.localWriteTimeMs);return new rE(e.batchId,s,t,r)}function qh(n){const e=Zo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Zo(n.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Te(u===1,1966,{count:u}),Xn(cc(JC(o.documents[0])))}(n.query):function(o){return Xn(rx(o))}(n.query),new vs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,zt.fromBase64String(n.resumeToken))}function lx(n,e){const t=Jo(e.snapshotVersion),r=Jo(e.lastLimboFreeSnapshotVersion);let s;s=wp(e.target)?tx(n.wt,e.target):nx(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function lE(n){const e=rx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ap(e,e.limit,"L"):e}function rv(n,e){return new sE(e.largestBatchId,Qv(n.wt,e.overlayMutation))}function cI(n,e){const t=e.path.lastSegment();return[n,zn(e.path.popLast()),t]}function hI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Jo(r.readTime),documentKey:zn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{getBundleMetadata(e,t){return dI(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Zo(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return dI(e).put(function(s){return{bundleId:s.id,createTime:Jo(Qt(s.createTime)),version:s.version}}(t))}getNamedQuery(e,t){return fI(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:lE(o.bundledQuery),readTime:Zo(o.readTime)}}(r)})}saveNamedQuery(e,t){return fI(e).put(function(s){return{name:s.name,readTime:Jo(Qt(s.readTime)),bundledQuery:s.bundledQuery}}(t))}}function dI(n){return dn(n,ag)}function fI(n){return dn(n,og)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new mg(e,r)}getOverlay(e,t){return Rh(e).get(cI(this.userId,t)).next(r=>r?rv(this.serializer,r):null)}getOverlays(e,t){const r=Pi();return H.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((o,u)=>{const h=new sE(t,u);s.push(this.bt(e,h))}),H.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(u=>s.add(zn(u.getCollectionPath())));const o=[];return s.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Rh(e).X(Mv,h))}),H.waitFor(o)}getOverlaysForCollection(e,t,r){const s=Pi(),o=zn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Rh(e).J(Mv,u).next(h=>{for(const f of h){const p=rv(this.serializer,f);s.set(p.getKey(),p)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const o=Pi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rh(e).te({index:lC,range:h},(f,p,y)=>{const v=rv(this.serializer,p);o.size()<s||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):y.done()}).next(()=>o)}bt(e,t){return Rh(e).put(function(s,o,u){const[h,f,p]=cI(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ad(s.wt,u.mutation)}}(this.serializer,this.userId,t))}}function Rh(n){return dn(n,lg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{Dt(e){return dn(e,Q0)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),gd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Rs(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Cs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?EC(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):hg(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ye(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const s of Object.keys(r))this.Nt(s,t),this.Ct(r[s],t)}qt(e,t){var r,s;const o=e.fields||{};this.Mt(t,53);const u=Hu,h=((s=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Mt(t,15),t.xt(It(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const s of r)this.Ct(s,t)}kt(e,t){this.Mt(t,37),me.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Lo.Wt=new Lo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=255;function T3(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function mI(n){const e=64-function(r){let s=0;for(let o=0;o<8;++o){const u=T3(255&r[o]);if(s+=u,u!==8)break}return s}(n);return Math.ceil(e/8)}class b3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const s=t.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const t=this.tn(e),r=mI(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}rn(e){const t=this.tn(e),r=mI(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}sn(){this._n(fu),this._n(255)}an(){this.un(fu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===fu?(this._n(fu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===fu?(this.un(fu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class w3{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class S3{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Ch{constructor(){this.ln=new b3,this.hn=new w3(this.ln),this.Pn=new S3(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t,r,s){this.In=e,this.En=t,this.dn=r,this.An=s}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new Uo(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:ap(this.dn),directionalValue:ap(this.An),orderedDocumentKey:ap(t),documentKey:r.path.toArray()}}mn(e,t,r){const s=this.Vn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ma(n,e){let t=n.In-e.In;return t!==0?t:(t=pI(n.dn,e.dn),t!==0?t:(t=pI(n.An,e.An),t!==0?t:me.comparator(n.En,e.En)))}function pI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function ap(n){return I1()?function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r}(n):n}function gI(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(n)}class yI{constructor(e){this.fn=new at((t,r)=>Ct.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Te(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=Ov(e);if(t!==void 0&&!this.Sn(t))return!1;const r=Oo(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new at(Ct.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Jm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Jm(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Jm(r.field,r.dir==="asc"?0:1)));return new vp(vp.UNKNOWN_ID,this.collectionId,t,pd.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){var e,t;if(Te(n instanceof je||n instanceof st,20012),n instanceof je){if(n instanceof xC){const s=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>je.create(n.field,"==",o)))||[];return st.create(s,"or")}return n}const r=n.filters.map(s=>ux(s));return st.create(r,n.op)}function A3(n){if(n.getFilters().length===0)return[];const e=Xv(ux(n));return Te(cx(e),7391),Yv(e)||Wv(e)?[e]:e.getFilters()}function Yv(n){return n instanceof je}function Wv(n){return n instanceof st&&J0(n)}function cx(n){return Yv(n)||Wv(n)||function(t){if(t instanceof st&&Fv(t)){for(const r of t.getFilters())if(!Yv(r)&&!Wv(r))return!1;return!0}return!1}(n)}function Xv(n){if(Te(n instanceof je||n instanceof st,34018),n instanceof je)return n;if(n.filters.length===1)return Xv(n.filters[0]);const e=n.filters.map(r=>Xv(r));let t=st.create(e,n.op);return t=Rp(t),cx(t)?t:(Te(t instanceof st,64498),Te($u(t),40251),Te(t.filters.length>1,57927),t.filters.reduce((r,s)=>uE(r,s)))}function uE(n,e){let t;return Te(n instanceof je||n instanceof st,38388),Te(e instanceof je||e instanceof st,25473),t=n instanceof je?e instanceof je?function(s,o){return st.create([s,o],"and")}(n,e):_I(n,e):e instanceof je?_I(e,n):function(s,o){if(Te(s.filters.length>0&&o.filters.length>0,48005),$u(s)&&$u(o))return IC(s,o.getFilters());const u=Fv(s)?s:o,h=Fv(s)?o:s,f=u.filters.map(p=>uE(p,h));return st.create(f,"or")}(n,e),Rp(t)}function _I(n,e){if($u(e))return IC(e,n.getFilters());{const t=e.filters.map(r=>uE(n,r));return st.create(t,"or")}}function Rp(n){if(Te(n instanceof je||n instanceof st,11850),n instanceof je)return n;const e=n.getFilters();if(e.length===1)return Rp(e[0]);if(SC(n))return n;const t=e.map(s=>Rp(s)),r=[];return t.forEach(s=>{s instanceof je?r.push(s):s instanceof st&&(s.op===n.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:st.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Cn=new cE}addToCollectionParentIndex(e,t){return this.Cn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Ir.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class cE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new at(Fe.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new at(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="IndexedDbIndexManager",Bm=new Uint8Array(0);class R3{constructor(e,t){this.databaseId=t,this.Fn=new cE,this.Mn=new Os(r=>Yo(r),(r,s)=>Gd(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:zn(s)};return EI(e).put(o)}return H.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[W1(t),""],!1,!0);return EI(e).J(s).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(xi(u.parent))}return r})}addFieldIndex(e,t){const r=xh(e),s=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=pu(e);return o.next(h=>{u.put(hI(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=xh(e),s=pu(e),o=mu(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=xh(e),r=mu(e),s=pu(e);return t.X().next(()=>r.X()).next(()=>s.X())}createTargetIndexes(e,t){return H.forEach(this.xn(t),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const o=new yI(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=mu(e);let s=!0;const o=new Map;return H.forEach(this.xn(t),u=>this.On(e,u).next(h=>{s&&(s=!!h),o.set(u,h)})).next(()=>{if(s){let u=De();const h=[];return H.forEach(o,(f,p)=>{ue(vI,`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(Z=>`${Z.fieldPath}:${Z.kind}`).join(",")}`}(f)} to execute ${Yo(t)}`);const y=function(F,Z){const ne=Ov(Z);if(ne===void 0)return null;for(const ae of Sp(F,ne.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null}(p,f),v=function(F,Z){const ne=new Map;for(const ae of Oo(Z))for(const P of Sp(F,ae.fieldPath))switch(P.op){case"==":case"in":ne.set(ae.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return ne.set(ae.fieldPath.canonicalString(),P.value),Array.from(ne.values())}return null}(p,f),E=function(F,Z){const ne=[];let ae=!0;for(const P of Oo(Z)){const x=P.kind===0?XA(F,P.fieldPath,F.startAt):JA(F,P.fieldPath,F.startAt);ne.push(x.value),ae&&(ae=x.inclusive)}return new Ua(ne,ae)}(p,f),R=function(F,Z){const ne=[];let ae=!0;for(const P of Oo(Z)){const x=P.kind===0?JA(F,P.fieldPath,F.endAt):XA(F,P.fieldPath,F.endAt);ne.push(x.value),ae&&(ae=x.inclusive)}return new Ua(ne,ae)}(p,f),C=this.Nn(f,p,E),I=this.Nn(f,p,R),k=this.Bn(f,p,v),B=this.Ln(f.indexId,y,C,E.inclusive,I,R.inclusive,k);return H.forEach(B,K=>r.Z(K,t.limit).next(F=>{F.forEach(Z=>{const ne=me.fromSegments(Z.documentKey);u.has(ne)||(u=u.add(ne),h.push(ne))})}))}).next(()=>h)}return H.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=A3(st.create(e.filters,"and")).map(r=>qv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,s,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),p=f/(t!=null?t.length:1),y=[];for(let v=0;v<f;++v){const E=t?this.kn(t[v/p]):Bm,R=this.qn(e,E,r[v%p],s),C=this.Qn(e,E,o[v%p],u),I=h.map(k=>this.qn(e,E,k,!0));y.push(...this.createRange(R,C,I))}return y}qn(e,t,r,s){const o=new Uo(e,me.empty(),t,r);return s?o:o.Rn()}Qn(e,t,r,s){const o=new Uo(e,me.empty(),t,r);return s?o.Rn():o}On(e,t){const r=new yI(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const s=this.xn(t);return H.forEach(s,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let p=new at(Ct.comparator),y=!1;for(const v of f.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of f.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&s.length>1&&r===2?1:r)}$n(e,t){const r=new Ch;for(const s of Oo(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.Tn(s.kind);Lo.Wt.vt(o,u)}return r.cn()}kn(e){const t=new Ch;return Lo.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new Ch;return Lo.Wt.vt(Qo(this.databaseId,t),r.Tn(function(o){const u=Oo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let s=[];s.push(new Ch);let o=0;for(const u of Oo(e)){const h=r[o++];for(const f of s)if(this.Kn(t,u.fieldPath)&&bd(h))s=this.Wn(s,u,h);else{const p=f.Tn(u.kind);Lo.Wt.vt(h,p)}}return this.Gn(s)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of s){const f=new Ch;f.seed(h.cn()),Lo.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof je&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=xh(e),s=pu(e);return(t?r.J(Vv,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return H.forEach(o,h=>s.get([h.indexId,this.uid]).next(f=>{u.push(function(y,v){const E=v?new pd(v.sequenceNumber,new Ir(Zo(v.readTime),new me(xi(v.documentKey)),v.largestBatchId)):pd.empty(),R=y.fields.map(([C,I])=>new Jm(Ct.fromServerFormat(C),I));return new vp(y.indexId,y.collectionGroup,R,E)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=xh(e),o=pu(e);return this.zn(e).next(u=>s.J(Vv,IDBKeyRange.bound(t,t)).next(h=>H.forEach(h,f=>o.put(hI(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return H.forEach(t,(s,o)=>{const u=r.get(s.collectionGroup);return(u?H.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(h=>(r.set(s.collectionGroup,h),H.forEach(h,f=>this.jn(e,s,f).next(p=>{const y=this.Hn(o,f);return p.isEqual(y)?H.resolve():this.Jn(e,o,f,p,y)}))))})}Yn(e,t,r,s){return mu(e).put(s.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,s){return mu(e).delete(s.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const s=mu(e);let o=new at(ma);return s.te({index:oC,range:IDBKeyRange.only([r.indexId,this.uid,ap(this.Un(r,t))])},(u,h)=>{o=o.add(new Uo(r.indexId,t,gI(h.arrayValue),gI(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new at(ma);const s=this.$n(t,e);if(s==null)return r;const o=Ov(t);if(o!=null){const u=e.data.field(o.fieldPath);if(bd(u))for(const h of u.arrayValue.values||[])r=r.add(new Uo(t.indexId,e.key,this.kn(h),s))}else r=r.add(new Uo(t.indexId,e.key,Bm,s));return r}Jn(e,t,r,s,o){ue(vI,"Updating index entries for document '%s'",t.key);const u=[];return function(f,p,y,v,E){const R=f.getIterator(),C=p.getIterator();let I=du(R),k=du(C);for(;I||k;){let B=!1,K=!1;if(I&&k){const F=y(I,k);F<0?K=!0:F>0&&(B=!0)}else I!=null?K=!0:B=!0;B?(v(k),k=du(C)):K?(E(I),I=du(R)):(I=du(R),k=du(C))}}(s,o,ma,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),H.waitFor(u)}zn(e){let t=1;return pu(e).te({index:aC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,o)=>{o.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>ma(u,h)).filter((u,h,f)=>!h||ma(u,f[h-1])!==0);const s=[];s.push(e);for(const u of r){const h=ma(u,e),f=ma(u,t);if(h===0)s[0]=e.Rn();else if(h>0&&f<0)s.push(u),s.push(u.Rn());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Xn(s[u],s[u+1]))return[];const h=s[u].mn(this.uid,Bm,me.empty()),f=s[u+1].mn(this.uid,Bm,me.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return ma(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(TI)}getMinOffset(e,t){return H.mapArray(this.xn(t),r=>this.On(e,r).next(s=>s||ye(44426))).next(TI)}}function EI(n){return dn(n,vd)}function mu(n){return dn(n,Wh)}function xh(n){return dn(n,K0)}function pu(n){return dn(n,Yh)}function TI(n){Te(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;H0(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hx=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n,e,t){const r=n.store(Xr),s=n.store(zu),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(y,v,E)=>(h++,E.delete()));o.push(f.next(()=>{Te(h===1,47070,{batchId:t.batchId})}));const p=[];for(const y of t.mutations){const v=rC(e,y.key.path,t.batchId);o.push(s.delete(v)),p.push(y.key)}return H.waitFor(o).next(()=>p)}function Cp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(hx,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class pg{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.er={}}static St(e,t,r,s){Te(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new pg(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pa(e).te({index:zo,range:r},(s,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const o=wu(e),u=pa(e);return u.add({}).next(h=>{Te(typeof h=="number",49019);const f=new rE(h,t,r,s),p=function(R,C,I){const k=I.baseMutations.map(K=>Ad(R.wt,K)),B=I.mutations.map(K=>Ad(R.wt,K));return{userId:C,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:k,mutations:B}}(this.serializer,this.userId,f),y=[];let v=new at((E,R)=>Ce(E.canonicalString(),R.canonicalString()));for(const E of s){const R=rC(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(o.put(R,o6))}return v.forEach(E=>{y.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),H.waitFor(y).next(()=>f)})}lookupMutationBatch(e,t){return pa(e).get(t).next(r=>r?(Te(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Mo(this.serializer,r)):null)}tr(e,t){return this.er[t]?H.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.er[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return pa(e).te({index:zo,range:s},(u,h,f)=>{h.userId===this.userId&&(Te(h.batchId>=r,47524,{nr:r}),o=Mo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ia;return pa(e).te({index:zo,range:t,reverse:!0},(s,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ia],[this.userId,Number.POSITIVE_INFINITY]);return pa(e).J(zo,t).next(r=>r.map(s=>Mo(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Zm(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return wu(e).te({range:s},(u,h,f)=>{const[p,y,v]=u,E=xi(y);if(p===this.userId&&t.path.isEqual(E))return pa(e).get(v).next(R=>{if(!R)throw ye(61480,{rr:u,batchId:v});Te(R.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:R.userId,batchId:v}),o.push(Mo(this.serializer,R))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Ce);const s=[];return t.forEach(o=>{const u=Zm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=wu(e).te({range:h},(p,y,v)=>{const[E,R,C]=p,I=xi(R);E===this.userId&&o.path.isEqual(I)?r=r.add(C):v.done()});s.push(f)}),H.waitFor(s).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=Zm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new at(Ce);return wu(e).te({range:u},(f,p,y)=>{const[v,E,R]=f,C=xi(E);v===this.userId&&r.isPrefixOf(C)?C.length===s&&(h=h.add(R)):y.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],s=[];return t.forEach(o=>{s.push(pa(e).get(o).next(u=>{if(u===null)throw ye(35274,{batchId:o});Te(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Mo(this.serializer,u))}))}),H.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return dx(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),H.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return H.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),s=[];return wu(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=xi(o[1]);s.push(f)}else h.done()}).next(()=>{Te(s.length===0,56720,{_r:s.map(o=>o.canonicalString())})})})}containsKey(e,t){return fx(e,this.userId,t)}ar(e){return mx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ia,lastStreamToken:""})}}function fx(n,e,t){const r=Zm(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return wu(n).te({range:o,ee:!0},(h,f,p)=>{const[y,v,E]=h;y===e&&v===s&&(u=!0),p.done()}).next(()=>u)}function pa(n){return dn(n,Xr)}function wu(n){return dn(n,zu)}function mx(n){return dn(n,yd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new el(0)}static lr(){return new el(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new el(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>be.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Pr(e,s)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gu(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(Te(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let s=0;const o=[];return gu(e).te((u,h)=>{const f=qh(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))}).next(()=>H.waitFor(o)).next(()=>s)}forEachTarget(e,t){return gu(e).te((r,s)=>{const o=qh(s);t(o)})}hr(e){return wI(e).get(bp).next(t=>(Te(t!==null,2888),t))}Pr(e,t){return wI(e).put(bp,t)}Tr(e,t){return gu(e).put(lx(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Yo(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return gu(e).te({range:s,index:sC},(u,h,f)=>{const p=qh(h);Gd(t,p.target)&&(o=p,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const s=[],o=Ea(e);return t.forEach(u=>{const h=zn(u.path);s.push(o.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))}),H.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ea(e);return H.forEach(t,o=>{const u=zn(o.path);return H.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Ea(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ea(e);let o=De();return s.te({range:r,ee:!0},(u,h,f)=>{const p=xi(u[1]),y=new me(p);o=o.add(y)}).next(()=>o)}containsKey(e,t){const r=zn(t.path),s=IDBKeyRange.bound([r],[W1(r)],!1,!0);let o=0;return Ea(e).te({index:$0,ee:!0,range:s},([u,h],f,p)=>{u!==0&&(o++,p.done())}).next(()=>o>0)}Rt(e,t){return gu(e).get(t).next(r=>r?qh(r):null)}}function gu(n){return dn(n,Fu)}function wI(n){return dn(n,Ho)}function Ea(n){return dn(n,ju)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="LruGarbageCollector",x3=1048576;function AI([n,e],[t,r]){const s=Ce(n,t);return s===0?Ce(e,r):s}class P3{constructor(e){this.Er=e,this.buffer=new at(AI),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();AI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class px{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(SI,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ga(t)?ue(SI,"Ignoring IndexedDB error during garbage collection: ",t):await Ha(t)}await this.mr(3e5)})}}class D3{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(sr.le);const r=new P3(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(bI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bI):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),vu()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function gx(n,e){return new D3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t){this.db=e,this.garbageCollector=gx(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,s)=>t(s))}addReference(e,t,r){return zm(e,r)}removeReference(e,t,r){return zm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zm(e,t)}Dr(e,t){return function(s,o){let u=!1;return mx(s).ne(h=>fx(s,h,o).next(f=>(f&&(u=!0),H.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(p=>{if(!p)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,be.min()),Ea(e).delete(function(v){return[0,zn(v.path)]}(u))))});s.push(f)}}).next(()=>H.waitFor(s)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zm(e,t)}br(e,t){const r=Ea(e);let s,o=sr.le;return r.te({index:$0},([u,h],{path:f,sequenceNumber:p})=>{u===0?(o!==sr.le&&t(new me(xi(s)),o),o=p,s=f):o=sr.le}).next(()=>{o!==sr.le&&t(new me(xi(s)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zm(n,e){return Ea(n).put(function(r,s){return{targetId:0,path:zn(r.path),sequenceNumber:s}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.changes=new Os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Do(e).put(r)}removeEntry(e,t,r){return Do(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Ip(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Do(e).te({index:ep,range:IDBKeyRange.only(Ph(t))},(s,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Do(e).te({index:ep,range:IDBKeyRange.only(Ph(t))},(s,o)=>{r={document:this.Cr(t,o),size:Cp(o)}}).next(()=>r)}getEntries(e,t){let r=or();return this.Mr(e,t,(s,o)=>{const u=this.Cr(s,o);r=r.insert(s,u)}).next(()=>r)}Or(e,t){let r=or(),s=new gt(me.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),s=s.insert(o,Cp(u))}).next(()=>({documents:r,Nr:s}))}Mr(e,t,r){if(t.isEmpty())return H.resolve();let s=new at(CI);t.forEach(f=>s=s.add(f));const o=IDBKeyRange.bound(Ph(s.first()),Ph(s.last())),u=s.getIterator();let h=u.getNext();return Do(e).te({index:ep,range:o},(f,p,y)=>{const v=me.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&CI(h,v)<0;)r(h,null),h=u.getNext();h&&h.isEqual(v)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?y.H(Ph(h)):y.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Ip(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Do(e).J(IDBKeyRange.bound(h,f,!0)).next(p=>{o==null||o.incrementDocumentReadCount(p.length);let y=or();for(const v of p){const E=this.Cr(me.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Kd(t,E)||s.has(E.key))&&(y=y.insert(E.key,E))}return y})}getAllFromCollectionGroup(e,t,r,s){let o=or();const u=RI(t,r),h=RI(t,Ir.max());return Do(e).te({index:iC,range:IDBKeyRange.bound(u,h,!0)},(f,p,y)=>{const v=this.Cr(me.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(v.key,v),o.size===s&&y.done()}).next(()=>o)}newChangeBuffer(e){return new k3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return II(e).get(kv).next(t=>(Te(!!t,20021),t))}vr(e,t){return II(e).put(kv,t)}Cr(e,t){if(t){const r=_3(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return vt.newInvalidDocument(e)}}function _x(n){return new O3(n)}class k3 extends yx{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new Os(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new at((o,u)=>Ce(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=uI(this.Br.serializer,u);s=s.add(o.path.popLast());const p=Cp(f);r+=p-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=uI(this.Br.serializer,u.convertToNoDocument(be.min()));t.push(this.Br.addEntry(e,o,f))}}),s.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),H.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:s})=>(s.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function II(n){return dn(n,_d)}function Do(n){return dn(n,Tp)}function Ph(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RI(n,e){const t=e.documentKey.path.toArray();return[n,Ip(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function CI(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=Ce(t[o],r[o]),s)return s;return s=Ce(t.length,r.length),s||(s=Ce(t[t.length-2],r[r.length-2]),s||Ce(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Zh(r.mutation,s,ar.empty(),Pt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const s=Pi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=Fh();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Pi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let o=or();const u=Jh(),h=function(){return Jh()}();return t.forEach((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof ks)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Zh(y.mutation,p,y.mutation.getFieldMask(),Pt.now())):u.set(p.key,ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var v;return h.set(p,new V3(y,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Jh();let s=new gt((u,h)=>u-h),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||ar.empty();y=h.applyToLocalView(p,y),r.set(f,y);const v=(s.get(h.batchId)||De()).add(f);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,v=MC();y.forEach(E=>{if(!o.has(E)){const R=qC(t.get(E),r.get(E));R!==null&&v.set(E,R),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return H.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):H.resolve(Pi());let h=Bu,f=o;return u.next(p=>H.forEach(p,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?H.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,De())).next(y=>({batchId:h,changes:VC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(r=>{let s=Fh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Fh();return this.indexManager.getCollectionParents(e,o).next(h=>H.forEach(h,f=>{const p=function(v,E){return new Ns(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,vt.newInvalidDocument(y)))});let h=Fh();return u.forEach((f,p)=>{const y=o.get(f);y!==void 0&&Zh(y.mutation,p,ar.empty(),Pt.now()),Kd(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return H.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Qt(s.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:lE(s.bundledQuery),readTime:Qt(s.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.overlays=new gt(me.comparator),this.Qr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Pi();return H.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.bt(e,t,o)}),H.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const s=Pi(),o=t.length+1,u=new me(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return H.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new gt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=Pi(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Pi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=s)););return H.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sE(t,r));let o=this.Qr.get(t);o===void 0&&(o=De(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.$r=new at(En.Ur),this.Kr=new at(En.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new En(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new En(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new me(new Fe([])),r=new En(t,e),s=new En(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new me(new Fe([])),r=new En(t,e),s=new En(t,e+1);let o=De();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new En(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return me.comparator(e.key,t.key)||Ce(e.Zr,t.Zr)}static Wr(e,t){return Ce(e.Zr,t.Zr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new at(En.Ur)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rE(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Xr=this.Xr.add(new En(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return H.resolve(u)}lookupMutationBatch(e,t){return H.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Ia:this.nr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),s=new En(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const h=this.ei(u.Zr);o.push(h)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Ce);return t.forEach(s=>{const o=new En(s,0),u=new En(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),H.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const u=new En(new me(o),0);let h=new at(Ce);return this.Xr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Zr)),!0)},u),H.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Te(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return H.forEach(t.mutations,s=>{const o=new En(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new En(t,0),s=this.Xr.firstAfterOrEqual(r);return H.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.ii=e,this.docs=function(){return new gt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=or();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():vt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=or();const u=t.path,h=new me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||H0(J1(y),r)<=0||(s.has(y.key)||Kd(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ye(9500)}si(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new F3(this)}getSize(e){return H.resolve(this.size)}}class F3 extends yx{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.persistence=e,this.oi=new Os(t=>Yo(t),Gd),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new hE,this.targetCount=0,this.ui=el.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),H.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new el(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Tr(t),H.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),H.waitFor(o).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t){this.ci={},this.overlays={},this.li=new sr(0),this.hi=!1,this.hi=!0,this.Pi=new U3,this.referenceDelegate=e(this),this.Ti=new j3(this),this.indexManager=new I3,this.remoteDocumentCache=function(s){return new z3(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ox(t),this.Ei=new M3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new L3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new B3(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new q3(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return H.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class q3 extends eC{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Vi=new hE,this.mi=null}static fi(e){return new gg(e)}get gi(){if(this.mi)return this.mi;throw ye(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.gi,r=>{const s=me.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return H.or([()=>H.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class xp{constructor(e,t){this.persistence=e,this.yi=new Os(r=>zn(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gx(this,t)}static fi(e,t){return new xp(e,t)}di(){}Ai(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return H.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?H.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),H.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=np(e.data.value)),t}Dr(e,t,r){return H.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.serializer=e}q(e,t,r,s){const o=new sg("createOrUpgrade",t);r<1&&s>=1&&(function(f){f.createObjectStore(Hd)}(e),function(f){f.createObjectStore(yd,{keyPath:a6}),f.createObjectStore(Xr,{keyPath:BA,autoIncrement:!0}).createIndex(zo,zA,{unique:!0}),f.createObjectStore(zu)}(e),xI(e),function(f){f.createObjectStore(ko)}(e));let u=H.resolve();return r<3&&s>=3&&(r!==0&&(function(f){f.deleteObjectStore(ju),f.deleteObjectStore(Fu),f.deleteObjectStore(Ho)}(e),xI(e)),u=u.next(()=>function(f){const p=f.store(Ho),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return p.put(bp,y)}(o))),r<4&&s>=4&&(r!==0&&(u=u.next(()=>function(f,p){return p.store(Xr).J().next(v=>{f.deleteObjectStore(Xr),f.createObjectStore(Xr,{keyPath:BA,autoIncrement:!0}).createIndex(zo,zA,{unique:!0});const E=p.store(Xr),R=v.map(C=>E.put(C));return H.waitFor(R)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(qu,{keyPath:p6})})(e)})),r<5&&s>=5&&(u=u.next(()=>this.wi(o))),r<6&&s>=6&&(u=u.next(()=>(function(f){f.createObjectStore(_d)}(e),this.Si(o)))),r<7&&s>=7&&(u=u.next(()=>this.bi(o))),r<8&&s>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&s>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(u=u.next(()=>this.Ci(o))),r<11&&s>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(ag,{keyPath:g6})})(e),function(f){f.createObjectStore(og,{keyPath:y6})}(e)})),r<12&&s>=12&&(u=u.next(()=>{(function(f){const p=f.createObjectStore(lg,{keyPath:S6});p.createIndex(Mv,A6,{unique:!1}),p.createIndex(lC,I6,{unique:!1})})(e)})),r<13&&s>=13&&(u=u.next(()=>function(f){const p=f.createObjectStore(Tp,{keyPath:l6});p.createIndex(ep,u6),p.createIndex(iC,c6)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(ko))),r<14&&s>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&s>=15&&(u=u.next(()=>function(f){f.createObjectStore(K0,{keyPath:_6,autoIncrement:!0}).createIndex(Vv,v6,{unique:!1}),f.createObjectStore(Yh,{keyPath:E6}).createIndex(aC,T6,{unique:!1}),f.createObjectStore(Wh,{keyPath:b6}).createIndex(oC,w6,{unique:!1})}(e))),r<16&&s>=16&&(u=u.next(()=>{t.objectStore(Yh).clear()}).next(()=>{t.objectStore(Wh).clear()})),r<17&&s>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(Q0,{keyPath:R6})})(e)})),r<18&&s>=18&&I1()&&(u=u.next(()=>{t.objectStore(Yh).clear()}).next(()=>{t.objectStore(Wh).clear()})),u}Si(e){let t=0;return e.store(ko).te((r,s)=>{t+=Cp(s)}).next(()=>{const r={byteSize:t};return e.store(_d).put(kv,r)})}wi(e){const t=e.store(yd),r=e.store(Xr);return t.J().next(s=>H.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,Ia],[o.userId,o.lastAcknowledgedBatchId]);return r.J(zo,u).next(h=>H.forEach(h,f=>{Te(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const p=Mo(this.serializer,f);return dx(e,o.userId,p).next(()=>{})}))}))}bi(e){const t=e.store(ju),r=e.store(ko);return e.store(Ho).get(bp).next(s=>{const o=[];return r.te((u,h)=>{const f=new Fe(u),p=function(v){return[0,zn(v)]}(f);o.push(t.get(p).next(y=>y?H.resolve():(v=>t.put({targetId:0,path:zn(v),sequenceNumber:s.highestListenSequenceNumber}))(f)))}).next(()=>H.waitFor(o))})}Di(e,t){e.createObjectStore(vd,{keyPath:m6});const r=t.store(vd),s=new cE,o=u=>{if(s.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:zn(f)})}};return t.store(ko).te({ee:!0},(u,h)=>{const f=new Fe(u);return o(f.popLast())}).next(()=>t.store(zu).te({ee:!0},([u,h,f],p)=>{const y=xi(h);return o(y.popLast())}))}Ci(e){const t=e.store(Fu);return t.te((r,s)=>{const o=qh(s),u=lx(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(ko),s=[];return r.te((o,u)=>{const h=t.store(Tp),f=function(v){return v.document?new me(Fe.fromString(v.document.name).popFirst(5)):v.noDocument?me.fromSegments(v.noDocument.path):v.unknownDocument?me.fromSegments(v.unknownDocument.path):ye(36783)}(u).path.toArray(),p={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(p))}).next(()=>H.waitFor(s))}Mi(e,t){const r=t.store(Xr),s=_x(this.serializer),o=new dE(gg.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var p;let y=(p=h.get(f.userId))!==null&&p!==void 0?p:De();Mo(this.serializer,f).keys().forEach(v=>y=y.add(v)),h.set(f.userId,y)}),H.forEach(h,(f,p)=>{const y=new Tn(p),v=mg.St(this.serializer,y),E=o.getIndexManager(y),R=pg.St(y,this.serializer,E,o.referenceDelegate);return new vx(s,R,v,E).recalculateAndSaveOverlaysForDocumentKeys(new Lv(t,sr.le),f).next()})})}}function xI(n){n.createObjectStore(ju,{keyPath:d6}).createIndex($0,f6,{unique:!0}),n.createObjectStore(Fu,{keyPath:"targetId"}).createIndex(sC,h6,{unique:!0}),n.createObjectStore(Ho)}const ga="IndexedDbPersistence",iv=18e5,sv=5e3,av="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ex="main";class fE{constructor(e,t,r,s,o,u,h,f,p,y,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=p,this.Ni=y,this.Bi=v,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=E=>Promise.resolve(),!fE.C())throw new le(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new N3(this,s),this.Ui=t+Ex,this.serializer=new ox(f),this.Ki=new Oi(this.Ui,this.Bi,new H3(this.serializer)),this.Pi=new E3,this.Ti=new C3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_x(this.serializer),this.Ei=new v3,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,y===!1&&Kt(ga,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(X.FAILED_PRECONDITION,av);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new sr(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(Ga(e))return ue(ga,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(ga,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Dh(e).get(hu).next(t=>H.resolve(this.ts(t)))}ns(e){return Fm(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,iv)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=dn(t,qu);return r.J().next(s=>{const o=this._s(s,iv),u=s.filter(h=>o.indexOf(h)===-1);return H.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?H.resolve(!0):Dh(e).get(hu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,sv)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new le(X.FAILED_PRECONDITION,av);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fm(e).J().next(r=>this._s(r,sv).find(s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(ga,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Hd,qu],e=>{const t=new Lv(e,sr.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Fm(e).J().next(t=>this._s(t,iv).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return pg.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new R3(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return mg.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){ue(ga,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?P6:f===17?dC:f===16?x6:f===15?Y0:f===14?hC:f===13?cC:f===12?C6:f===11?uC:void ye(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,s,o,h=>(u=new Lv(h,this.li?this.li.next():sr.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw Kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new le(X.FAILED_PRECONDITION,Z1);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return Dh(e).get(hu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,sv)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new le(X.FAILED_PRECONDITION,av)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dh(e).put(hu,t)}static C(){return Oi.C()}Xi(e){const t=Dh(e);return t.get(hu).next(r=>this.ts(r)?(ue(ga,"Releasing primary lease."),t.delete(hu)):H.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Kt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;A1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return ue(ga,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kt(ga,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Kt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dh(n){return dn(n,Hd)}function Fm(n){return dn(n,qu)}function mE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=De(),s=De();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new pE(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return A1()?8:tC(kt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new G3;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(vu()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),H.resolve()):(vu()<=Be.DEBUG&&ue("QueryEngine","Query:",Eu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(vu()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):H.resolve())}ws(e,t){if(ZA(t))return H.resolve(null);let r=Xn(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Ap(t,null,"F"),r=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=De(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.vs(t,h);return this.Cs(t,p,u,f.readTime)?this.ws(e,Ap(t,null,"F")):this.Fs(e,p,t,f)}))})))}Ss(e,t,r,s){return ZA(t)||s.isEqual(be.min())?H.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?H.resolve(null):(vu()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eu(t)),this.Fs(e,u,t,X1(s,Bu)).next(h=>h))})}vs(e,t){let r=new at(OC(e));return t.forEach((s,o)=>{Kd(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,t,r){return vu()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.ys.getDocumentsMatchingQuery(e,t,Ir.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LocalStore",$3=3e8;class K3{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new gt(Ce),this.Os=new Os(o=>Yo(o),Gd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function bx(n,e,t,r){return new K3(n,e,t,r)}async function wx(n,e){const t=ge(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=De();for(const p of s){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:h}))})})}function Q3(n,e){const t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const v=p.batch,E=v.keys();let R=H.resolve();return E.forEach(C=>{R=R.next(()=>y.getEntry(f,C)).next(I=>{const k=p.docVersions.get(C);Te(k!==null,48541),I.version.compareTo(k)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),y.addEntry(I)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=De();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Sx(n){const e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Y3(n,e){const t=ge(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const h=[];e.targetChanges.forEach((y,v)=>{const E=s.get(v);if(!E)return;h.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,v)));let R=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(zt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),s=s.insert(v,R),function(I,k,B){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=$3?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(E,R,y)&&h.push(t.Ti.updateTargetData(o,R))});let f=or(),p=De();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(Ax(o,u,e.documentUpdates).next(y=>{f=y.qs,p=y.Qs})),!r.isEqual(be.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(v=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return H.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.xs=s,o))}function Ax(n,e,t){let r=De(),s=De();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=or();return t.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(gE,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function W3(n,e){const t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ia),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wu(n,e){const t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,H.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new vs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Xu(n,e,t){const r=ge(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ga(u))throw u;ue(gE,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Pp(n,e,t){const r=ge(n);let s=be.min(),o=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const v=ge(f),E=v.Os.get(y);return E!==void 0?H.resolve(v.xs.get(E)):v.Ti.getTargetData(p,y)}(r,u,Xn(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?o:De())).next(h=>(Cx(r,NC(e),h),{documents:h,$s:o})))}function Ix(n,e){const t=ge(n),r=ge(t.Ti),s=t.xs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function Rx(n,e){const t=ge(n),r=t.Ns.get(e)||be.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Bs.getAllFromCollectionGroup(s,e,X1(r,Bu),Number.MAX_SAFE_INTEGER)).then(s=>(Cx(t,e,s),s))}function Cx(n,e,t){let r=n.Ns.get(e)||be.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function X3(n,e,t,r){const s=ge(n);let o=De(),u=or();for(const p of t){const y=e.Us(p.metadata.name);p.document&&(o=o.add(y));const v=e.Ks(p);v.setReadTime(e.Ws(p.metadata.readTime)),u=u.insert(y,v)}const h=s.Bs.newChangeBuffer({trackRemovals:!0}),f=await Wu(s,function(y){return Xn(cc(Fe.fromString(`__bundle__/docs/${y}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",p=>Ax(p,h,u).next(y=>(h.apply(p),y)).next(y=>s.Ti.removeMatchingKeysForTargetId(p,f.targetId).next(()=>s.Ti.addMatchingKeys(p,o,f.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(p,y.qs,y.Qs)).next(()=>y.qs)))}async function J3(n,e,t=De()){const r=await Wu(n,Xn(lE(e.bundledQuery))),s=ge(n);return s.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(zt.EMPTY_BYTE_STRING,u);return s.xs=s.xs.insert(h.targetId,h),s.Ti.updateTargetData(o,h).next(()=>s.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>s.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>s.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="firestore_clients";function PI(n,e){return`${xx}_${n}_${e}`}const Px="firestore_mutations";function DI(n,e,t){let r=`${Px}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Dx="firestore_targets";function ov(n,e){return`${Dx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="SharedClientState";class Dp{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Gs(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new le(s.error.code,s.error.message))),u?new Dp(e,t,s.state,o):(Kt(Si,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ed{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new le(r.error.code,r.error.message))),o?new ed(e,r.state,s):(Kt(Si,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Np{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=eE();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=nC(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new Np(e,o):(Kt(Si,`Failed to parse client data for instance '${e}': ${t}`),null)}}class yE{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new yE(t.clientId,t.onlineState):(Kt(Si,`Failed to parse online state: ${e}`),null)}}class Jv{constructor(){this.activeTargetIds=eE()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lv{constructor(e,t,r,s,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new gt(Ce),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=PI(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new Jv),this.io=new RegExp(`^${xx}_${u}_([^_]*)$`),this.so=new RegExp(`^${Px}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${Dx}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const s=this.getItem(PI(this.persistenceKey,r));if(s){const o=Np.Gs(r,s);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ov(this.persistenceKey,e));if(s){const o=ed.Gs(e,s);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ov(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.To(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Si,"READ",e,t),t}setItem(e,t){ue(Si,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Si,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(ue(Si,"EVENT",t.key,t.newValue),t.key===this.no)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=sr.le;if(o!=null)try{const h=JSON.parse(o);Te(typeof h=="number",30636,{bo:o}),u=h}catch(h){Kt(Si,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==sr.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(s=>this.syncEngine.vo(s)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const s=new Dp(this.currentUser,e,t,r),o=DI(this.persistenceKey,this.currentUser,e);this.setItem(o,s.zs())}To(e){const t=DI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const s=ov(this.persistenceKey,e),o=new ed(e,t,r);this.setItem(s,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return Np.Gs(r,t)}po(e,t){const r=this.so.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Dp.Gs(new Tn(o),s,t)}wo(e,t){const r=this.oo.exec(e),s=Number(r[1]);return ed.Gs(s,t)}co(e){return yE.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ue(Si,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),s=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{s.has(f)||u.push(f)}),s.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=eE();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Nx{constructor(){this.xo=new Jv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="ConnectivityMonitor";class OI{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(NI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(NI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm=null;function Zv(){return jm===null?jm=function(){return 268435456+Math.round(2147483648*Math.random())}():jm++,"0x"+jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="RestConnection",e5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t5{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Uv?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=Zv(),h=this.jo(e,t.toUriEncodedString());ue(uv,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:p}=new URL(h),y=jd(p);return this.Jo(e,h,f,r,y).then(v=>(ue(uv,`Received RPC '${e}' ${u}: `,v),v),v=>{throw Li(uv,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=e5[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class r5 extends t5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=Zv();return new Promise((h,f)=>{const p=new j1;p.setWithCredentials(!0),p.listenOnce(q1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xm.NO_ERROR:const v=p.getResponseJson();ue(Ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Xm.TIMEOUT:ue(Ln,`RPC '${e}' ${u} timed out`),f(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Xm.HTTP_ERROR:const E=p.getStatus();if(ue(Ln,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const I=function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(K)>=0?K:X.UNKNOWN}(C.status);f(new le(I,C.message))}else f(new le(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Ln,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);ue(Ln,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",y,r,15)})}T_(e,t,r){const s=Zv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$1(),h=G1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");ue(Ln,`Creating RPC '${e}' stream ${s}: ${y}`,f);const v=u.createWebChannel(y,f);let E=!1,R=!1;const C=new n5({Zo:k=>{R?ue(Ln,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(E||(ue(Ln,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),ue(Ln,`RPC '${e}' stream ${s} sending:`,k),v.send(k))},Xo:()=>v.close()}),I=(k,B,K)=>{k.listen(B,F=>{try{K(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return I(v,zh.EventType.OPEN,()=>{R||(ue(Ln,`RPC '${e}' stream ${s} transport opened.`),C.__())}),I(v,zh.EventType.CLOSE,()=>{R||(R=!0,ue(Ln,`RPC '${e}' stream ${s} transport closed`),C.u_())}),I(v,zh.EventType.ERROR,k=>{R||(R=!0,Li(Ln,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),C.u_(new le(X.UNAVAILABLE,"The operation could not be completed")))}),I(v,zh.EventType.MESSAGE,k=>{var B;if(!R){const K=k.data[0];Te(!!K,16349);const F=K,Z=(F==null?void 0:F.error)||((B=F[0])===null||B===void 0?void 0:B.error);if(Z){ue(Ln,`RPC '${e}' stream ${s} received error:`,Z);const ne=Z.status;let ae=function(D){const b=nn[D];if(b!==void 0)return $C(b)}(ne),P=Z.message;ae===void 0&&(ae=X.INTERNAL,P="Unknown error status: "+ne+" with message "+Z.message),R=!0,C.u_(new le(ae,P)),v.close()}else ue(Ln,`RPC '${e}' stream ${s} received:`,K),C.c_(K)}}),I(h,H1.STAT_EVENT,k=>{k.stat===Dv.PROXY?ue(Ln,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Dv.NOPROXY&&ue(Ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){return typeof window<"u"?window:null}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n){return new l3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="PersistentStream";class kx{constructor(e,t,r,s,o,u,h,f){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new _E(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Kt(t.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new le(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ue(kI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ue(kI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i5 extends kx{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=h3(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?Qt(u.readTime):be.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Kv(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=wp(f)?{documents:tx(o,f)}:{query:nx(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=YC(o,u.resumeToken);const p=Gv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Yu(o,u.snapshotVersion.toTimestamp());const p=Gv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=f3(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Kv(this.serializer),t.removeTarget=e,this.L_(t)}}class s5 extends kx{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=d3(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Kv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ad(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{}class o5 extends a5{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,$v(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(X.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,$v(t,r),s,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(X.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class l5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Kt(t),this.oa=!1):ue("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="RemoteStore";class u5{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{Ka(this)&&(ue(tl,"Restarting streams for network reachability change."),await async function(f){const p=ge(f);p.Ta.add(4),await fc(p),p.da.set("Unknown"),p.Ta.delete(4),await Jd(p)}(this))})}),this.da=new l5(r,s)}}async function Jd(n){if(Ka(n))for(const e of n.Ia)await e(!0)}async function fc(n){for(const e of n.Ia)await e(!1)}function yg(n,e){const t=ge(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),TE(t)?EE(t):pc(t).M_()&&vE(t,e))}function Ju(n,e){const t=ge(n),r=pc(t);t.Pa.delete(e),r.M_()&&Vx(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ka(t)&&t.da.set("Unknown"))}function vE(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pc(n).H_(e)}function Vx(n,e){n.Aa.Ke(e),pc(n).J_(e)}function EE(n){n.Aa=new i3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),pc(n).start(),n.da._a()}function TE(n){return Ka(n)&&!pc(n).F_()&&n.Pa.size>0}function Ka(n){return ge(n).Ta.size===0}function Mx(n){n.Aa=void 0}async function c5(n){n.da.set("Online")}async function h5(n){n.Pa.forEach((e,t)=>{vE(n,e)})}async function d5(n,e){Mx(n),TE(n)?(n.da.ca(e),EE(n)):n.da.set("Unknown")}async function f5(n,e,t){if(n.da.set("Online"),e instanceof QC&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Pa.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Pa.delete(h),s.Aa.removeTarget(h))}(n,e)}catch(r){ue(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Op(n,r)}else if(e instanceof sp?n.Aa.Xe(e):e instanceof KC?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(be.min()))try{const r=await Sx(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Pa.get(p);y&&o.Pa.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=o.Pa.get(f);if(!y)return;o.Pa.set(f,y.withResumeToken(zt.EMPTY_BYTE_STRING,y.snapshotVersion)),Vx(o,f);const v=new vs(y.target,f,p,y.sequenceNumber);vE(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ue(tl,"Failed to raise snapshot:",r),await Op(n,r)}}async function Op(n,e,t){if(!Ga(e))throw e;n.Ta.add(1),await fc(n),n.da.set("Offline"),t||(t=()=>Sx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(tl,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Jd(n)})}function Lx(n,e){return e().catch(t=>Op(n,t,e))}async function mc(n){const e=ge(n),t=Ba(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Ia;for(;m5(e);)try{const s=await W3(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,p5(e,s)}catch(s){await Op(e,s)}Ux(e)&&Bx(e)}function m5(n){return Ka(n)&&n.ha.length<10}function p5(n,e){n.ha.push(e);const t=Ba(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function Ux(n){return Ka(n)&&!Ba(n).F_()&&n.ha.length>0}function Bx(n){Ba(n).start()}async function g5(n){Ba(n).ta()}async function y5(n){const e=Ba(n);for(const t of n.ha)e.Z_(t.mutations)}async function _5(n,e,t){const r=n.ha.shift(),s=iE.from(r,e,t);await Lx(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await mc(n)}async function v5(n,e){e&&Ba(n).Y_&&await async function(r,s){if(function(u){return GC(u)&&u!==X.ABORTED}(s.code)){const o=r.ha.shift();Ba(r).O_(),await Lx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await mc(r)}}(n,e),Ux(n)&&Bx(n)}async function VI(n,e){const t=ge(n);t.asyncQueue.verifyOperationInProgress(),ue(tl,"RemoteStore received new credentials");const r=Ka(t);t.Ta.add(3),await fc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Jd(t)}async function e0(n,e){const t=ge(n);e?(t.Ta.delete(2),await Jd(t)):e||(t.Ta.add(2),await fc(t),t.da.set("Unknown"))}function pc(n){return n.Ra||(n.Ra=function(t,r,s){const o=ge(t);return o.ra(),new i5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:c5.bind(null,n),n_:h5.bind(null,n),i_:d5.bind(null,n),j_:f5.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),TE(n)?EE(n):n.da.set("Unknown")):(await n.Ra.stop(),Mx(n))})),n.Ra}function Ba(n){return n.Va||(n.Va=function(t,r,s){const o=ge(t);return o.ra(),new s5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:g5.bind(null,n),i_:v5.bind(null,n),X_:y5.bind(null,n),ea:_5.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await mc(n)):(await n.Va.stop(),n.ha.length>0&&(ue(tl,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new bE(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gc(n,e){if(Kt("AsyncQueue",`${e}: ${n}`),Ga(n))return new le(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||me.comparator(t.key,r.key):(t,r)=>me.comparator(t.key,r.key),this.keyedMap=Fh(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.ma=new gt(me.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ye(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zu{constructor(e,t,r,s,o,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Zu(e,t,Cu.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class T5{constructor(){this.queries=LI(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=ge(t),o=s.queries;s.queries=LI(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new le(X.ABORTED,"Firestore shutting down"))}}function LI(){return new Os(n=>DC(n),$d)}async function wE(n,e){const t=ge(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new E5,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(s,!0);break;case 1:o.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=gc(u,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&AE(t)}async function SE(n,e){const t=ge(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function b5(n,e){const t=ge(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(s)&&(r=!0);u.pa=s}}r&&AE(t)}function w5(n,e,t){const r=ge(n),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(t);r.queries.delete(e)}function AE(n){n.ba.forEach(e=>{e.next()})}var t0,UI;(UI=t0||(t0={})).Ca="default",UI.Cache="cache";class IE{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==t0.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.serializer=e}Us(e){return ki(this.serializer,e)}Ks(e){return e.metadata.exists?ex(this.serializer,e.document,!1):vt.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return Qt(e)}}class A5{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zx(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=Fe.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new BI(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.Us(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||De()).add(o);t.set(u,h)}}return t}async complete(){const e=await X3(this.localStore,new BI(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await J3(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function zx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class qx{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=De(),this.mutatedKeys=De(),this.Ha=OC(e),this.Ja=new Cu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new MI,s=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,v)=>{const E=s.get(y),R=Kd(this.query,v)?v:null,C=!!E&&this.mutatedKeys.has(E.key),I=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;E&&R?E.data.isEqual(R.data)?C!==I&&(r.track({type:3,doc:R}),k=!0):this.eu(E,R)||(r.track({type:2,doc:R}),k=!0,(f&&this.Ha(R,f)>0||p&&this.Ha(R,p)<0)&&(h=!0)):!E&&R?(r.track({type:0,doc:R}),k=!0):E&&!R&&(r.track({type:1,doc:E}),k=!0,(f||p)&&(h=!0)),k&&(R?(u=u.add(R),o=I?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((y,v)=>function(R,C){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:k})}};return I(R)-I(C)}(y.type,v.type)||this.Ha(y.doc,v.doc)),this.tu(r),s=s!=null&&s;const h=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,p=f!==this.za;return this.za=f,u.length!==0||p?{snapshot:new Zu(this.query,e.Ja,o,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new MI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=De(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new jx(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Fx(r))}),t}su(e){this.Ga=e.$s,this.ja=De();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Zu.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Qa="SyncEngine";class I5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R5{constructor(e){this.key=e,this._u=!1}}class C5{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Os(h=>DC(h),$d),this.cu=new Map,this.lu=new Set,this.hu=new gt(me.comparator),this.Pu=new Map,this.Tu=new hE,this.Iu={},this.Eu=new Map,this.du=el.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function x5(n,e,t=!0){const r=_g(n);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await Hx(r,e,t,!0),s}async function P5(n,e){const t=_g(n);await Hx(t,e,!0,!1)}async function Hx(n,e,t,r){const s=await Wu(n.localStore,Xn(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await RE(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&yg(n.remoteStore,s),h}async function RE(n,e,t,r,s){n.Ru=(v,E,R)=>async function(I,k,B,K){let F=k.view.Za(B);F.Cs&&(F=await Pp(I.localStore,k.query,!1).then(({documents:P})=>k.view.Za(P,F)));const Z=K&&K.targetChanges.get(k.targetId),ne=K&&K.targetMismatches.get(k.targetId)!=null,ae=k.view.applyChanges(F,I.isPrimaryClient,Z,ne);return n0(I,k.targetId,ae.ru),ae.snapshot}(n,v,E,R);const o=await Pp(n.localStore,e,!0),u=new qx(e,o.$s),h=u.Za(o.documents),f=Wd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);n0(n,t,p.ru);const y=new I5(e,t,u);return n.uu.set(e,y),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),p.snapshot}async function D5(n,e,t){const r=ge(n),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(u=>!$d(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ju(r.remoteStore,s.targetId),ec(r,s.targetId)}).catch(Ha)):(ec(r,s.targetId),await Xu(r.localStore,s.targetId,!0))}async function N5(n,e){const t=ge(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ju(t.remoteStore,r.targetId))}async function O5(n,e,t){const r=DE(n);try{const s=await function(u,h){const f=ge(u),p=Pt.now(),y=h.reduce((R,C)=>R.add(C.key),De());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=or(),I=De();return f.Bs.getEntries(R,y).next(k=>{C=k,C.forEach((B,K)=>{K.isValidDocument()||(I=I.add(B))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,C)).next(k=>{v=k;const B=[];for(const K of h){const F=t3(K,v.get(K.key).overlayedDocument);F!=null&&B.push(new ks(K.key,F,bC(F.value.mapValue),xt.exists(!0)))}return f.mutationQueue.addMutationBatch(R,p,B,h)}).next(k=>{E=k;const B=k.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(R,k.batchId,B)})}).then(()=>({batchId:E.batchId,changes:VC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Iu[u.currentUser.toKey()];p||(p=new gt(Ce)),p=p.insert(h,f),u.Iu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Vs(r,s.changes),await mc(r.remoteStore)}catch(s){const o=gc(s,"Failed to persist write");t.reject(o)}}async function Gx(n,e){const t=ge(n);try{const r=await Y3(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Pu.get(o);u&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?Te(u._u,14607):s.removedDocuments.size>0&&(Te(u._u,42227),u._u=!1))}),await Vs(t,r,e)}catch(r){await Ha(r)}}function zI(n,e,t){const r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=ge(u);f.onlineState=h;let p=!1;f.queries.forEach((y,v)=>{for(const E of v.ya)E.Da(h)&&(p=!0)}),p&&AE(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k5(n,e,t){const r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),o=s&&s.key;if(o){let u=new gt(me.comparator);u=u.insert(o,vt.newNoDocument(o,be.min()));const h=De().add(o),f=new Yd(be.min(),new Map,new gt(Ce),u,h);await Gx(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),PE(r)}else await Xu(r.localStore,e,!1).then(()=>ec(r,e,t)).catch(Ha)}async function V5(n,e){const t=ge(n),r=e.batch.batchId;try{const s=await Q3(t.localStore,e);xE(t,r,null),CE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Vs(t,s)}catch(s){await Ha(s)}}async function M5(n,e,t){const r=ge(n);try{const s=await function(u,h){const f=ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(v=>(Te(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);xE(r,e,t),CE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Vs(r,s)}catch(s){await Ha(s)}}async function L5(n,e){const t=ge(n);Ka(t.remoteStore)||ue(Qa,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=ge(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Ia)return void e.resolve();const s=t.Eu.get(r)||[];s.push(e),t.Eu.set(r,s)}catch(r){const s=gc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function CE(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function xE(n,e,t){const r=ge(n);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function ec(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||$x(n,r)})}function $x(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(Ju(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),PE(n))}function n0(n,e,t){for(const r of t)r instanceof Fx?(n.Tu.addReference(r.key,e),U5(n,r)):r instanceof jx?(ue(Qa,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||$x(n,r.key)):ye(19791,{mu:r})}function U5(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(ue(Qa,"New document in limbo: "+t),n.lu.add(r),PE(n))}function PE(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new me(Fe.fromString(e)),r=n.du.next();n.Pu.set(r,new R5(t)),n.hu=n.hu.insert(t,r),yg(n.remoteStore,new vs(Xn(cc(t.path)),r,"TargetPurposeLimboResolution",sr.le))}}async function Vs(n,e,t){const r=ge(n),s=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=pE.Rs(f.targetId,p);o.push(v)}}))}),await Promise.all(u),r.au.j_(s),await async function(f,p){const y=ge(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>H.forEach(p,E=>H.forEach(E.ds,R=>y.persistence.referenceDelegate.addReference(v,E.targetId,R)).next(()=>H.forEach(E.As,R=>y.persistence.referenceDelegate.removeReference(v,E.targetId,R)))))}catch(v){if(!Ga(v))throw v;ue(gE,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const R=y.xs.get(E),C=R.snapshotVersion,I=R.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(E,I)}}}(r.localStore,o))}async function B5(n,e){const t=ge(n);if(!t.currentUser.isEqual(e)){ue(Qa,"User change. New user:",e.toKey());const r=await wx(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new le(X.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vs(t,r.ks)}}function z5(n,e){const t=ge(n),r=t.Pu.get(e);if(r&&r._u)return De().add(r.key);{let s=De();const o=t.cu.get(e);if(!o)return s;for(const u of o){const h=t.uu.get(u);s=s.unionWith(h.view.Ya)}return s}}async function F5(n,e){const t=ge(n),r=await Pp(t.localStore,e.query,!0),s=e.view.su(r);return t.isPrimaryClient&&n0(t,e.targetId,s.ru),s}async function j5(n,e){const t=ge(n);return Rx(t.localStore,e).then(r=>Vs(t,r))}async function q5(n,e,t,r){const s=ge(n),o=await function(h,f){const p=ge(h),y=ge(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",v=>y.tr(v,f).next(E=>E?p.localDocuments.getDocuments(v,E):H.resolve(null)))}(s.localStore,e);o!==null?(t==="pending"?await mc(s.remoteStore):t==="acknowledged"||t==="rejected"?(xE(s,e,r||null),CE(s,e),function(h,f){ge(ge(h).mutationQueue).sr(f)}(s.localStore,e)):ye(6720,"Unknown batchState",{fu:t}),await Vs(s,o)):ue(Qa,"Cannot apply mutation batch with id: "+e)}async function H5(n,e){const t=ge(n);if(_g(t),DE(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await FI(t,r.toArray());t.Au=!0,await e0(t.remoteStore,!0);for(const o of s)yg(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let s=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then(()=>(ec(t,u),Xu(t.localStore,u,!0))),Ju(t.remoteStore,u)}),await s,await FI(t,r),function(u){const h=ge(u);h.Pu.forEach((f,p)=>{Ju(h.remoteStore,p)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new gt(me.comparator)}(t),t.Au=!1,await e0(t.remoteStore,!1)}}async function FI(n,e,t){const r=ge(n),s=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await Wu(r.localStore,Xn(f[0]));for(const p of f){const y=r.uu.get(p),v=await F5(r,y);v.snapshot&&o.push(v.snapshot)}}else{const p=await Ix(r.localStore,u);h=await Wu(r.localStore,p),await RE(r,Kx(p),u,!1,h.resumeToken)}s.push(h)}return r.au.j_(o),s}function Kx(n){return PC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function G5(n){return function(t){return ge(ge(t).persistence).Is()}(ge(n).localStore)}async function $5(n,e,t,r){const s=ge(n);if(s.Au)return void ue(Qa,"Ignoring unexpected query state notification.");const o=s.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await Rx(s.localStore,NC(o[0])),h=Yd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",zt.EMPTY_BYTE_STRING);await Vs(s,u,h);break}case"rejected":await Xu(s.localStore,e,!0),ec(s,e,r);break;default:ye(64155,t)}}async function K5(n,e,t){const r=_g(n);if(r.Au){for(const s of e){if(r.cu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){ue(Qa,"Adding an already active target "+s);continue}const o=await Ix(r.localStore,s),u=await Wu(r.localStore,o);await RE(r,Kx(o),u.targetId,!1,u.resumeToken),yg(r.remoteStore,u)}for(const s of t)r.cu.has(s)&&await Xu(r.localStore,s,!1).then(()=>{Ju(r.remoteStore,s),ec(r,s)}).catch(Ha)}}function _g(n){const e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k5.bind(null,e),e.au.j_=b5.bind(null,e.eventManager),e.au.Vu=w5.bind(null,e.eventManager),e}function DE(n){const e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M5.bind(null,e),e}function Q5(n,e,t){const r=ge(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(R,C){const I=ge(R),k=Qt(C.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",B=>I.Ei.getBundleMetadata(B,C.id)).then(B=>!!B&&B.createTime.compareTo(k)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(R){return{taskState:"Success",documentsLoaded:R.totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(zx(f));const p=new A5(f,o.localStore,u.serializer);let y=await u.gu();for(;y;){const E=await p.$a(y);E&&h._updateProgress(E),y=await u.gu()}const v=await p.complete();return await Vs(o,v.Wa,void 0),await function(R,C){const I=ge(R);return I.persistence.runTransaction("Save bundle","readwrite",k=>I.Ei.saveBundleMetadata(k,C))}(o.localStore,f),h._completeWith(v.progress),Promise.resolve(v.Ka)}catch(f){return Li(Qa,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return bx(this.persistence,new Tx,e.initialUser,this.serializer)}yu(e){return new dE(gg.fi,this.serializer)}pu(e){return new Nx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class Y5 extends Id{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Te(this.persistence.referenceDelegate instanceof xp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new px(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new dE(r=>xp.fi(r,t),this.serializer)}}class Qx extends Id{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await DE(this.Du.syncEngine),await mc(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return bx(this.persistence,new Tx,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new px(r,e.asyncQueue,t)}bu(e,t){const r=new i6(t,this.persistence);return new r6(e.asyncQueue,r)}yu(e){const t=mE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new fE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ox(),op(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new Nx}}class W5 extends Qx{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof lv&&(this.sharedClientState.syncEngine={Co:q5.bind(null,t),Fo:$5.bind(null,t),Mo:K5.bind(null,t),Is:G5.bind(null,t),vo:j5.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await H5(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=Ox();if(!lv.C(t))throw new le(X.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B5.bind(null,this.syncEngine),await e0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T5}()}createDatastore(e){const t=Xd(e.databaseInfo.databaseId),r=function(o){return new r5(o)}(e.databaseInfo);return function(o,u,h,f){return new o5(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,h){return new u5(r,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>zI(this.syncEngine,t,0),function(){return OI.C()?new OI:new Z3}())}createSyncEngine(e,t){return function(s,o,u,h,f,p,y){const v=new C5(s,o,u,h,f,p);return y&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=ge(s);ue(tl,"RemoteStore shutting down."),o.Ta.add(5),await fc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rd.provider={build:()=>new Rd};function jI(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new Dn,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const s=await this.Bu(r);return new S5(JSON.parse(s),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,o){const u=ge(s),h={documents:o.map(v=>Sd(u.serializer,v))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,Fe.emptyPath(),h,o.length),p=new Map;f.forEach(v=>{const E=c3(u.serializer,v);p.set(E.key.toString(),E)});const y=[];return o.forEach(v=>{const E=p.get(v.toString());Te(!!E,55234,{key:v}),y.push(E)}),y}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const s=me.fromPath(r);this.mutations.push(new nE(s,this.precondition(s)))}),await async function(r,s){const o=ge(r),u={writes:s.map(h=>Ad(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,Fe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ye(50498,{qu:e.constructor.name});t=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new le(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(be.min())?xt.exists(!1):xt.updateTime(t):xt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(be.min()))throw new le(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(t)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new _E(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new J5(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Wu(s)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!qd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!GC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class eU{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=Y1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{ue(za,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue(za,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cv(n,e){n.asyncQueue.verifyOperationInProgress(),ue(za,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await NE(n);ue(za,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>VI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>VI(e.remoteStore,s)),n._onlineComponents=e}async function NE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(za,"Using user provided OfflineComponentProvider");try{await cv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Li("Error using user provided cache. Falling back to memory cache: "+t),await cv(n,new Id)}}else ue(za,"Using default OfflineComponentProvider"),await cv(n,new Y5(void 0));return n._offlineComponents}async function Eg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(za,"Using user provided OnlineComponentProvider"),await qI(n,n._uninitializedComponentsProvider._online)):(ue(za,"Using default OnlineComponentProvider"),await qI(n,new Rd))),n._onlineComponents}function Yx(n){return NE(n).then(e=>e.persistence)}function OE(n){return NE(n).then(e=>e.localStore)}function Wx(n){return Eg(n).then(e=>e.remoteStore)}function kE(n){return Eg(n).then(e=>e.syncEngine)}function tU(n){return Eg(n).then(e=>e.datastore)}async function tc(n){const e=await Eg(n),t=e.eventManager;return t.onListen=x5.bind(null,e.syncEngine),t.onUnlisten=D5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N5.bind(null,e.syncEngine),t}function nU(n){return n.asyncQueue.enqueue(async()=>{const e=await Yx(n),t=await Wx(n);return e.setNetworkEnabled(!0),function(s){const o=ge(s);return o.Ta.delete(0),Jd(o)}(t)})}function rU(n){return n.asyncQueue.enqueue(async()=>{const e=await Yx(n),t=await Wx(n);return e.setNetworkEnabled(!1),async function(s){const o=ge(s);o.Ta.add(0),await fc(o),o.da.set("Offline")}(t)})}function iU(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget(async()=>async function(s,o,u){try{const h=await function(p,y){const v=ge(p);return v.persistence.runTransaction("read document","readonly",E=>v.localDocuments.getDocument(E,y))}(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new le(X.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=gc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await OE(n),e,t)),t.promise}function Xx(n,e,t={}){const r=new Dn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new vg({next:E=>{y.Cu(),u.enqueueAndForget(()=>SE(o,v));const R=E.docs.has(h);!R&&E.fromCache?p.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&f&&f.source==="server"?p.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new IE(cc(h.path),y,{includeMetadataChanges:!0,La:!0});return wE(o,v)}(await tc(n),n.asyncQueue,e,t,r)),r.promise}function sU(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget(async()=>async function(s,o,u){try{const h=await Pp(s,o,!0),f=new qx(o,h.$s),p=f.Za(h.documents),y=f.applyChanges(p,!1);u.resolve(y.snapshot)}catch(h){const f=gc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await OE(n),e,t)),t.promise}function Jx(n,e,t={}){const r=new Dn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new vg({next:E=>{y.Cu(),u.enqueueAndForget(()=>SE(o,v)),E.fromCache&&f.source==="server"?p.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new IE(h,y,{includeMetadataChanges:!0,La:!0});return wE(o,v)}(await tc(n),n.asyncQueue,e,t,r)),r.promise}function aU(n,e){const t=new vg(e);return n.asyncQueue.enqueueAndForget(async()=>function(s,o){ge(s).ba.add(o),o.next()}(await tc(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(s,o){ge(s).ba.delete(o)}(await tc(n),t))}}function oU(n,e,t,r){const s=function(u,h){let f;return f=typeof u=="string"?q0().encode(u):u,function(y,v){return new X5(y,v)}(function(y,v){if(y instanceof Uint8Array)return jI(y,v);if(y instanceof ArrayBuffer)return jI(new Uint8Array(y),v);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Xd(e));n.asyncQueue.enqueueAndForget(async()=>{Q5(await kE(n),s,r)})}function lU(n,e){return n.asyncQueue.enqueue(async()=>function(r,s){const o=ge(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,s))}(await OE(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n,e,t){if(!t)throw new le(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eP(n,e,t,r){if(e===!0&&r===!0)throw new le(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GI(n){if(!me.isDocumentKey(n))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $I(n){if(me.isDocumentKey(n))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function We(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tg(n);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tP(n,e){if(e<=0)throw new le(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firestore.googleapis.com",KI=!0;class QI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nP,this.ssl=KI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:KI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x3)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $L;switch(r.type){case"firstParty":return new WL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,M0("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=HI.get(t);r&&(ue("ComponentProvider","Removing Datastore"),HI.delete(t),r.terminate())}(this),Promise.resolve()}}function uU(n,e,t,r={}){var s;n=We(n,Zd);const o=jd(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==nP&&u.host!==f&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Pa(p,h)&&(n._setSettings(p),o&&(T1(`https://${f}`),M0("Firestore",!0)),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Tn.MOCK_USER;else{y=u4(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Tn(E)}n._authCredentials=new KL(new Q1(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class rP{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rP(this.firestore,e,this._query)}},Ot=class iP{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new iP(this.firestore,e,this._key)}},Ra=class sP extends Jn{constructor(e,t,r){super(e,t,cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new me(e))}withConverter(e){return new sP(this.firestore,e,this._path)}};function aP(n,e,...t){if(n=Ae(n),VE("collection","path",e),n instanceof Zd){const r=Fe.fromString(e,...t);return $I(r),new Ra(n,null,r)}{if(!(n instanceof Ot||n instanceof Ra))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Fe.fromString(e,...t));return $I(r),new Ra(n.firestore,null,r)}}function cU(n,e){if(n=We(n,Zd),VE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jn(n,null,function(r){return new Ns(Fe.emptyPath(),r)}(e))}function kp(n,e,...t){if(n=Ae(n),arguments.length===1&&(e=Y1.newId()),VE("doc","path",e),n instanceof Zd){const r=Fe.fromString(e,...t);return GI(r),new Ot(n,null,new me(r))}{if(!(n instanceof Ot||n instanceof Ra))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Fe.fromString(e,...t));return GI(r),new Ot(n.firestore,n instanceof Ra?n.converter:null,new me(r))}}function oP(n,e){return n=Ae(n),e=Ae(e),(n instanceof Ot||n instanceof Ra)&&(e instanceof Ot||e instanceof Ra)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function lP(n,e){return n=Ae(n),e=Ae(e),n instanceof Jn&&e instanceof Jn&&n.firestore===e.firestore&&$d(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="AsyncQueue";class WI{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new _E(this,"async_queue_retry"),this.ec=()=>{const r=op();r&&ue(YI,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Dn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ga(e))throw e;ue(YI,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Kt("INTERNAL UNHANDLED ERROR: ",XI(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=bE.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&ye(47125,{_c:XI(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function XI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class hU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=-1;let Yt=class extends Zd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new WI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WI(e),this._firestoreClient=void 0,await e}}};function Fn(n){if(n._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uP(n),n._firestoreClient}function uP(n){var e,t,r;const s=n._freezeSettings(),o=function(h,f,p,y){return new O6(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Zx(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new eU(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function fU(n,e){Li("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return cP(n,Rd.provider,{build:r=>new Qx(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function mU(n){Li("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();cP(n,Rd.provider,{build:t=>new W5(t,e.cacheSizeBytes)})}function cP(n,e,t){if((n=We(n,Yt))._firestoreClient||n._terminated)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new le(X.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},uP(n)}function pU(n){if(n._initialized&&!n._terminated)throw new le(X.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Oi.C())return Promise.resolve();const s=r+Ex;await Oi.delete(s)}(mE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function gU(n){return function(t){const r=new Dn;return t.asyncQueue.enqueueAndForget(async()=>L5(await kE(t),r)),r.promise}(Fn(n=We(n,Yt)))}function yU(n){return nU(Fn(n=We(n,Yt)))}function _U(n){return rU(Fn(n=We(n,Yt)))}function vU(n,e){const t=Fn(n=We(n,Yt)),r=new hU;return oU(t,n._databaseId,e,r),r}function EU(n,e){return lU(Fn(n=We(n,Yt)),e).then(t=>t?new Jn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(zt.fromBase64String(e))}catch(t){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bi(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=/^__.*__$/;class bU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}class hP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{hc:n})}}class wg{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Vp(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(dP(this.hc)&&TU.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class wU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Xd(e)}gc(e,t,r,s=!1){return new wg({hc:e,methodName:t,fc:r,path:Ct.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hl(n){const e=n._freezeSettings(),t=Xd(n._databaseId);return new wU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sg(n,e,t,r,s,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,s);qE("Data must be an object, but it was:",u,r);const h=pP(r,u);let f,p;if(o.merge)f=new ar(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=i0(e,v,t);if(!u.contains(E))throw new le(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);yP(y,E)||y.push(E)}f=new ar(y),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new bU(new Pn(h),f,p)}class ef extends cl{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function fP(n,e,t){return new wg({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class LE extends cl{_toFieldTransform(e){return new Qd(e.path,new Ku)}isEqual(e){return e instanceof LE}}class UE extends cl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=fP(this,e,!0),r=this.yc.map(o=>dl(o,t)),s=new Wo(r);return new Qd(e.path,s)}isEqual(e){return e instanceof UE&&Pa(this.yc,e.yc)}}class BE extends cl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=fP(this,e,!0),r=this.yc.map(o=>dl(o,t)),s=new Xo(r);return new Qd(e.path,s)}isEqual(e){return e instanceof BE&&Pa(this.yc,e.yc)}}class zE extends cl{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new Qu(e.serializer,UC(e.serializer,this.wc));return new Qd(e.path,t)}isEqual(e){return e instanceof zE&&this.wc===e.wc}}function FE(n,e,t,r){const s=n.gc(1,e,t);qE("Data must be an object, but it was:",s,r);const o=[],u=Pn.empty();$a(r,(f,p)=>{const y=HE(e,f,t);p=Ae(p);const v=s.Ac(y);if(p instanceof ef)o.push(y);else{const E=dl(p,v);E!=null&&(o.push(y),u.set(y,E))}});const h=new ar(o);return new hP(u,h,s.fieldTransforms)}function jE(n,e,t,r,s,o){const u=n.gc(1,e,t),h=[i0(e,r,t)],f=[s];if(o.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(i0(e,o[E])),f.push(o[E+1]);const p=[],y=Pn.empty();for(let E=h.length-1;E>=0;--E)if(!yP(p,h[E])){const R=h[E];let C=f[E];C=Ae(C);const I=u.Ac(R);if(C instanceof ef)p.push(R);else{const k=dl(C,I);k!=null&&(p.push(R),y.set(R,k))}}const v=new ar(p);return new hP(y,v,u.fieldTransforms)}function mP(n,e,t,r=!1){return dl(t,n.gc(r?4:3,e))}function dl(n,e){if(gP(n=Ae(n)))return qE("Unsupported field value:",e,n),pP(n,e);if(n instanceof cl)return function(r,s){if(!dP(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const h of r){let f=dl(h,s.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:Yu(s.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yu(s.serializer,o)}}if(r instanceof bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bi)return{bytesValue:YC(s.serializer,r._byteString)};if(r instanceof Ot){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:oE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ME)return function(u,h){return{mapValue:{fields:{[W0]:{stringValue:X0},[Hu]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Vc("VectorValues must only contain numeric values.");return tE(h.serializer,p)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Tg(r)}`)}(n,e)}function pP(n,e){const t={};return fC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(n,(r,s)=>{const o=dl(s,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function gP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof bg||n instanceof Bi||n instanceof Ot||n instanceof cl||n instanceof ME)}function qE(n,e,t){if(!gP(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Tg(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function i0(n,e,t){if((e=Ae(e))instanceof Fa)return e._internalPath;if(typeof e=="string")return HE(n,e);throw Vp("Field path arguments must be of type string or ",n,!1,void 0,t)}const SU=new RegExp("[~\\*/\\[\\]]");function HE(n,e,t){if(e.search(SU)>=0)throw Vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fa(...e.split("."))._internalPath}catch{throw Vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vp(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new le(X.INVALID_ARGUMENT,h+n+f)}function yP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ag("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AU extends Cd{data(){return super.data()}}function Ag(n,e){return typeof e=="string"?HE(n,e):e instanceof Fa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GE{}class tf extends GE{}function ya(n,e,...t){let r=[];e instanceof GE&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof $E).length,h=o.filter(f=>f instanceof Ig).length;if(u>1||u>0&&h>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Ig extends tf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ig(e,t,r)}_apply(e){const t=this._parse(e);return EP(e._query,t),new Jn(e.firestore,e.converter,Hv(e._query,t))}_parse(e){const t=hl(e.firestore);return function(o,u,h,f,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ZI(v,y);const C=[];for(const I of v)C.push(JI(f,o,I));E={arrayValue:{values:C}}}else E=JI(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ZI(v,y),E=mP(h,u,v,y==="in"||y==="not-in");return je.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function IU(n,e,t){const r=e,s=Ag("where",n);return Ig._create(s,r,t)}class $E extends GE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $E(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:st.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)EP(u,f),u=Hv(u,f)}(e._query,t),new Jn(e.firestore,e.converter,Hv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class KE extends tf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new KE(e,t)}_apply(e){const t=function(s,o,u){if(s.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(o,u)}(e._query,this._field,this._direction);return new Jn(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new Ns(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function RU(n,e="asc"){const t=e,r=Ag("orderBy",n);return KE._create(r,t)}class Rg extends tf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rg(e,t,r)}_apply(e){return new Jn(e.firestore,e.converter,Ap(e._query,this._limit,this._limitType))}}function CU(n){return tP("limit",n),Rg._create("limit",n,"F")}function xU(n){return tP("limitToLast",n),Rg._create("limitToLast",n,"L")}class Cg extends tf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Cg(e,t,r)}_apply(e){const t=vP(e,this.type,this._docOrFields,this._inclusive);return new Jn(e.firestore,e.converter,function(s,o){return new Ns(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,t))}}function PU(...n){return Cg._create("startAt",n,!0)}function DU(...n){return Cg._create("startAfter",n,!1)}class xg extends tf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new xg(e,t,r)}_apply(e){const t=vP(e,this.type,this._docOrFields,this._inclusive);return new Jn(e.firestore,e.converter,function(s,o){return new Ns(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)}(e._query,t))}}function NU(...n){return xg._create("endBefore",n,!1)}function OU(...n){return xg._create("endAt",n,!0)}function vP(n,e,t,r){if(t[0]=Ae(t[0]),t[0]instanceof Cd)return function(o,u,h,f,p){if(!f)throw new le(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const v of Ru(o))if(v.field.isKeyField())y.push(Qo(u,f.key));else{const E=f.data.field(v.field);if(ug(E))throw new le(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const R=v.field.canonicalString();throw new le(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}y.push(E)}return new Ua(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=hl(n.firestore);return function(u,h,f,p,y,v){const E=u.explicitOrderBy;if(y.length>E.length)throw new le(X.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let C=0;C<y.length;C++){const I=y[C];if(E[C].field.isKeyField()){if(typeof I!="string")throw new le(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof I}`);if(!Z0(u)&&I.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${I}' contains a slash.`);const k=u.path.child(Fe.fromString(I));if(!me.isDocumentKey(k))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const B=new me(k);R.push(Qo(h,B))}else{const k=mP(f,p,I);R.push(k)}}return new Ua(R,v)}(n._query,n.firestore._databaseId,s,e,t,r)}}function JI(n,e,t){if(typeof(t=Ae(t))=="string"){if(t==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z0(e)&&t.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Fe.fromString(t));if(!me.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qo(n,new me(r))}if(t instanceof Ot)return Qo(n,t._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(t)}.`)}function ZI(n,e){if(!Array.isArray(n)||n.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EP(n,e){const t=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QE{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return $a(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Hu].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>It(u.doubleValue));return new ME(o)}convertGeoPoint(e){return new bg(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Fe.fromString(e);Te(ax(r),9688,{name:e});const s=new Va(r.get(1),r.get(3)),o=new me(r.popFirst(5));return s.isEqual(t)||Kt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kU extends QE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let xs=class extends Cd{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ag("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},td=class extends xs{data(e={}){return super.data(e)}},ja=class{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Fo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new td(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new td(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Fo(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new td(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Fo(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:VU(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function VU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}function TP(n,e){return n instanceof xs&&e instanceof xs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ja&&e instanceof ja&&n._firestore===e._firestore&&lP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n){n=We(n,Ot);const e=We(n.firestore,Yt);return Xx(Fn(e),n._key).then(t=>YE(e,n,t))}class fl extends QE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function LU(n){n=We(n,Ot);const e=We(n.firestore,Yt),t=Fn(e),r=new fl(e);return iU(t,n._key).then(s=>new xs(e,r,n._key,s,new Fo(s!==null&&s.hasLocalMutations,!0),n.converter))}function UU(n){n=We(n,Ot);const e=We(n.firestore,Yt);return Xx(Fn(e),n._key,{source:"server"}).then(t=>YE(e,n,t))}function BU(n){n=We(n,Jn);const e=We(n.firestore,Yt),t=Fn(e),r=new fl(e);return _P(n._query),Jx(t,n._query).then(s=>new ja(e,r,n,s))}function zU(n){n=We(n,Jn);const e=We(n.firestore,Yt),t=Fn(e),r=new fl(e);return sU(t,n._query).then(s=>new ja(e,r,n,s))}function FU(n){n=We(n,Jn);const e=We(n.firestore,Yt),t=Fn(e),r=new fl(e);return Jx(t,n._query,{source:"server"}).then(s=>new ja(e,r,n,s))}function eR(n,e,t){n=We(n,Ot);const r=We(n.firestore,Yt),s=Pg(n.converter,e,t);return nf(r,[Sg(hl(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,xt.none())])}function tR(n,e,t,...r){n=We(n,Ot);const s=We(n.firestore,Yt),o=hl(s);let u;return u=typeof(e=Ae(e))=="string"||e instanceof Fa?jE(o,"updateDoc",n._key,e,t,r):FE(o,"updateDoc",n._key,e),nf(s,[u.toMutation(n._key,xt.exists(!0))])}function jU(n){return nf(We(n.firestore,Yt),[new dc(n._key,xt.none())])}function qU(n,e){const t=We(n.firestore,Yt),r=kp(n),s=Pg(n.converter,e);return nf(t,[Sg(hl(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function bP(n,...e){var t,r,s;n=Ae(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||r0(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(r0(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let f,p,y;if(n instanceof Ot)p=We(n.firestore,Yt),y=cc(n._key.path),f={next:v=>{e[u]&&e[u](YE(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=We(n,Jn);p=We(v.firestore,Yt),y=v._query;const E=new fl(p);f={next:R=>{e[u]&&e[u](new ja(p,E,v,R))},error:e[u+1],complete:e[u+2]},_P(n._query)}return function(E,R,C,I){const k=new vg(I),B=new IE(R,k,C);return E.asyncQueue.enqueueAndForget(async()=>wE(await tc(E),B)),()=>{k.Cu(),E.asyncQueue.enqueueAndForget(async()=>SE(await tc(E),B))}}(Fn(p),y,h,f)}function HU(n,e){return aU(Fn(n=We(n,Yt)),r0(e)?e:{next:e})}function nf(n,e){return function(r,s){const o=new Dn;return r.asyncQueue.enqueueAndForget(async()=>O5(await kE(r),s,o)),o.promise}(Fn(n),e)}function YE(n,e,t){const r=t.docs.get(e._key),s=new fl(n);return new xs(n,s,e._key,r,new Fo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $U=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hl(e)}set(e,t,r){this._verifyNotCommitted();const s=ba(e,this._firestore),o=Pg(s.converter,t,r),u=Sg(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,xt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=ba(e,this._firestore);let u;return u=typeof(t=Ae(t))=="string"||t instanceof Fa?jE(this._dataReader,"WriteBatch.update",o._key,t,r,s):FE(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ba(e,this._firestore);return this._mutations=this._mutations.concat(new dc(t._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ba(n,e){if((n=Ae(n)).firestore!==e)throw new le(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hl(e)}get(e){const t=ba(e,this._firestore),r=new kU(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return ye(24041);const o=s[0];if(o.isFoundDocument())return new Cd(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Cd(this._firestore,r,t._key,null,t.converter);throw ye(18433,{doc:o})})}set(e,t,r){const s=ba(e,this._firestore),o=Pg(s.converter,t,r),u=Sg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=ba(e,this._firestore);let u;return u=typeof(t=Ae(t))=="string"||t instanceof Fa?jE(this._dataReader,"Transaction.update",o._key,t,r,s):FE(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=ba(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QU=class extends KU{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ba(e,this._firestore),r=new fl(this._firestore);return super.get(e).then(s=>new xs(this._firestore,r,t._key,s._document,new Fo(!1,!1),t.converter))}};function YU(n,e,t){n=We(n,Yt);const r=Object.assign(Object.assign({},GU),t);return function(o){if(o.maxAttempts<1)throw new le(X.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Dn;return o.asyncQueue.enqueueAndForget(async()=>{const p=await tU(o);new Z5(o.asyncQueue,p,h,u,f).$u()}),f.promise}(Fn(n),s=>e(new QU(n,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){return new ef("deleteField")}function XU(){return new LE("serverTimestamp")}function JU(...n){return new UE("arrayUnion",n)}function ZU(...n){return new BE("arrayRemove",n)}function e9(n){return new zE("increment",n)}(function(e,t=!0){(function(s){uc=s})(qa),Oa(new Mi("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new QL(r.getProvider("auth-internal")),new XL(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(p.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ei(PA,DA,e),ei(PA,DA,"esm2017")})();const t9="@firebase/firestore-compat",n9="0.3.50";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function rR(){if(!D6())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class xd{constructor(e){this._delegate=e}static fromBase64String(e){return rR(),new xd(Bi.fromBase64String(e))}static fromUint8Array(e){return nR(),new xd(Bi.fromUint8Array(e))}toBase64(){return rR(),this._delegate.toBase64()}toUint8Array(){return nR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n){return r9(n,["next","error","complete"])}function r9(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{enableIndexedDbPersistence(e,t){return fU(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return mU(e._delegate)}clearIndexedDbPersistence(e){return pU(e._delegate)}}class wP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Va||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Li("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){uU(this._delegate,e,t,r)}enableNetwork(){return yU(this._delegate)}disableNetwork(){return _U(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,eP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return gU(this._delegate)}onSnapshotsInSync(e){return HU(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nc(this,aP(this._delegate,e))}catch(t){throw Yn(t,"collection()","Firestore.collection()")}}doc(e){try{return new zr(this,kp(this._delegate,e))}catch(t){throw Yn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qn(this,cU(this._delegate,e))}catch(t){throw Yn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return YU(this._delegate,t=>e(new SP(this,t)))}batch(){return Fn(this._delegate),new AP(new $U(this._delegate,e=>nf(this._delegate,e)))}loadBundle(e){return vU(this._delegate,e)}namedQuery(e){return EU(this._delegate,e).then(t=>t?new Qn(this,t):null)}}class Dg extends QE{constructor(e){super(),this.firestore=e}convertBytes(e){return new xd(new Bi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zr.forKey(t,this.firestore,null)}}function s9(n){HL(n)}class SP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dg(e)}get(e){const t=jo(e);return this._delegate.get(t).then(r=>new Pd(this._firestore,new xs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=jo(e);return r?(WE("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=jo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=jo(e);return this._delegate.delete(t),this}}class AP{constructor(e){this._delegate=e}set(e,t,r){const s=jo(e);return r?(WE("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=jo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=jo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new td(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=nl.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let o=s.get(t);return o||(o=new nl(e,new Dg(e),t),s.set(t,o)),o}}nl.INSTANCES=new WeakMap;class zr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dg(e)}static forPath(e,t,r){if(e.length%2!==0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zr(t,new Ot(t._delegate,r,new me(e)))}static forKey(e,t,r){return new zr(t,new Ot(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nc(this.firestore,aP(this._delegate,e))}catch(t){throw Yn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ae(e),e instanceof Ot?oP(this._delegate,e):!1}set(e,t){t=WE("DocumentReference.set",t);try{return t?eR(this._delegate,e,t):eR(this._delegate,e)}catch(r){throw Yn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?tR(this._delegate,e):tR(this._delegate,e,t,...r)}catch(s){throw Yn(s,"updateDoc()","DocumentReference.update()")}}delete(){return jU(this._delegate)}onSnapshot(...e){const t=IP(e),r=RP(e,s=>new Pd(this.firestore,new xs(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return bP(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=LU(this._delegate):(e==null?void 0:e.source)==="server"?t=UU(this._delegate):t=MU(this._delegate),t.then(r=>new Pd(this.firestore,new xs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zr(this.firestore,e?this._delegate.withConverter(nl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Yn(n,e,t){return n.message=n.message.replace(e,t),n}function IP(n){for(const e of n)if(typeof e=="object"&&!s0(e))return e;return{}}function RP(n,e){var t,r;let s;return s0(n[0])?s=n[0]:s0(n[1])?s=n[1]:typeof n[0]=="function"?s={next:n[0],error:n[1],complete:n[2]}:s={next:n[1],error:n[2],complete:n[3]},{next:o=>{s.next&&s.next(e(o))},error:(t=s.error)===null||t===void 0?void 0:t.bind(s),complete:(r=s.complete)===null||r===void 0?void 0:r.bind(s)}}class Pd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TP(this._delegate,e._delegate)}}class Dd extends Pd{data(e){const t=this._delegate.data(e);return this._delegate._converter||GL(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Qn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dg(e)}where(e,t,r){try{return new Qn(this.firestore,ya(this._delegate,IU(e,t,r)))}catch(s){throw Yn(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qn(this.firestore,ya(this._delegate,RU(e,t)))}catch(r){throw Yn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qn(this.firestore,ya(this._delegate,CU(e)))}catch(t){throw Yn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qn(this.firestore,ya(this._delegate,xU(e)))}catch(t){throw Yn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qn(this.firestore,ya(this._delegate,PU(...e)))}catch(t){throw Yn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qn(this.firestore,ya(this._delegate,DU(...e)))}catch(t){throw Yn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qn(this.firestore,ya(this._delegate,NU(...e)))}catch(t){throw Yn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qn(this.firestore,ya(this._delegate,OU(...e)))}catch(t){throw Yn(t,"endAt()","Query.endAt()")}}isEqual(e){return lP(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=zU(this._delegate):(e==null?void 0:e.source)==="server"?t=FU(this._delegate):t=BU(this._delegate),t.then(r=>new a0(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IP(e),r=RP(e,s=>new a0(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return bP(this._delegate,t,r)}withConverter(e){return new Qn(this.firestore,e?this._delegate.withConverter(nl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class a9{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class a0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new a9(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dd(this._firestore,r))})}isEqual(e){return TP(this._delegate,e._delegate)}}class nc extends Qn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zr(this.firestore,e):null}doc(e){try{return e===void 0?new zr(this.firestore,kp(this._delegate)):new zr(this.firestore,kp(this._delegate,e))}catch(t){throw Yn(t,"doc()","CollectionReference.doc()")}}add(e){return qU(this._delegate,e).then(t=>new zr(this.firestore,t))}isEqual(e){return oP(this._delegate,e._delegate)}withConverter(e){return new nc(this.firestore,e?this._delegate.withConverter(nl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jo(n){return We(n,Ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(...e){this._delegate=new Fa(...e)}static documentId(){return new XE(Ct.keyField().canonicalString())}isEqual(e){return e=Ae(e),e instanceof Fa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static serverTimestamp(){const e=XU();return e._methodName="FieldValue.serverTimestamp",new Bo(e)}static delete(){const e=WU();return e._methodName="FieldValue.delete",new Bo(e)}static arrayUnion(...e){const t=JU(...e);return t._methodName="FieldValue.arrayUnion",new Bo(t)}static arrayRemove(...e){const t=ZU(...e);return t._methodName="FieldValue.arrayRemove",new Bo(t)}static increment(e){const t=e9(e);return t._methodName="FieldValue.increment",new Bo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={Firestore:wP,GeoPoint:bg,Timestamp:Pt,Blob:xd,Transaction:SP,WriteBatch:AP,DocumentReference:zr,DocumentSnapshot:Pd,Query:Qn,QueryDocumentSnapshot:Dd,QuerySnapshot:a0,CollectionReference:nc,FieldPath:XE,FieldValue:Bo,setLogLevel:s9,CACHE_SIZE_UNLIMITED:dU};function l9(n,e){n.INTERNAL.registerComponent(new Mi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},o9)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){l9(n,(e,t)=>new wP(e,t,new i9)),n.registerVersion(t9,n9)}u9(ul);function JE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}const Nh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},yu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function CP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h9=c9,d9=CP,xP=new ll("auth","Firebase",CP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new ig("@firebase/auth");function f9(n,...e){Mp.logLevel<=Be.WARN&&Mp.warn(`Auth (${qa}): ${n}`,...e)}function lp(n,...e){Mp.logLevel<=Be.ERROR&&Mp.error(`Auth (${qa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n,...e){throw eT(n,...e)}function hn(n,...e){return eT(n,...e)}function ZE(n,e,t){const r=Object.assign(Object.assign({},d9()),{[e]:t});return new ll("auth","Firebase",r).create(e,{appName:n.name})}function bn(n){return ZE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(n,"argument-error"),ZE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xP.create(n,...e)}function ce(n,e,...t){if(!n)throw eT(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lp(e),new Error(e)}function ti(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tT(){return iR()==="http:"||iR()==="https:"}function iR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tT()||w1()||"connection"in navigator)?navigator.onLine:!0}function p9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ti(t>e,"Short delay should be less than long delay!"),this.isMobile=d4()||L0()}get(){return m9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(n,e){ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_9=new rf(3e4,6e4);function Ft(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jt(n,e,t,r,s={}){return DP(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=lc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return m4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&jd(n.emulatorConfig.host)&&(p.credentials="include"),PP.fetch()(await NP(n,n.config.apiHost,t,h),p)})}async function DP(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},g9),e);try{const s=new E9(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Hh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Hh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Hh(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ZE(n,y,p);Nn(n,y)}}catch(s){if(s instanceof Wn)throw s;Nn(n,"network-request-failed",{message:String(s)})}}async function Ms(n,e,t,r,s={}){const o=await jt(n,e,t,r,s);return"mfaPendingCredential"in o&&Nn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function NP(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?nT(n.config,s):`${n.config.apiScheme}://${s}`;return y9.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function v9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hn(this.auth,"network-request-failed")),_9.get())})}}function Hh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=hn(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){return n!==void 0&&n.getResponse!==void 0}function aR(n){return n!==void 0&&n.enterprise!==void 0}class OP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return v9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(n){return(await jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function kP(n,e){return jt(n,"GET","/v2/recaptchaConfig",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function w9(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function Lp(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S9(n,e=!1){const t=Ae(n),r=await t.getIdToken(e),s=Ng(r);ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:nd(hv(s.auth_time)),issuedAtTime:nd(hv(s.iat)),expirationTime:nd(hv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hv(n){return Number(n)*1e3}function Ng(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lp("JWT malformed, contained fewer than 3 sections"),null;try{const s=O0(t);return s?JSON.parse(s):(lp("Failed to decode base64 JWT payload"),null)}catch(s){return lp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function oR(n){const e=Ng(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Wn&&A9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function A9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ps(n,Lp(t,{idToken:r}));ce(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VP(o.providerUserInfo):[],h=C9(n.providerData,u),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new o0(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function R9(n){const e=Ae(n);await Od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C9(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VP(n){return n.map(e=>{var{providerId:t}=e,r=JE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(n,e){const t=await DP(n,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await NP(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",PP.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function P9(n,e){return jt(n,"POST","/v2/accounts:revokeToken",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const t=oR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await x9(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new xu;return r&&(ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ce(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=JE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new o0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ps(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return S9(this,e)}reload(){return R9(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(bn(this.auth));const e=await this.getIdToken();return await Ps(this,b9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,h,f,p,y;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,R=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,K=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:Z,isAnonymous:ne,providerData:ae,stsTokenManager:P}=t;ce(F&&P,e,"internal-error");const x=xu.fromJSON(this.name,P);ce(typeof F=="string",e,"internal-error"),_a(v,e.name),_a(E,e.name),ce(typeof Z=="boolean",e,"internal-error"),ce(typeof ne=="boolean",e,"internal-error"),_a(R,e.name),_a(C,e.name),_a(I,e.name),_a(k,e.name),_a(B,e.name),_a(K,e.name);const D=new Zr({uid:F,auth:e,email:E,emailVerified:Z,displayName:v,isAnonymous:ne,photoURL:C,phoneNumber:R,tenantId:I,stsTokenManager:x,createdAt:B,lastLoginAt:K});return ae&&Array.isArray(ae)&&(D.providerData=ae.map(b=>Object.assign({},b))),k&&(D._redirectEventId=k),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new xu;s.updateFromServerResponse(t);const o=new Zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Od(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ce(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?VP(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new xu;h.updateFromIdToken(r);const f=new Zr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new o0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;function wr(n){ti(n instanceof Function,"Expected a class definition");let e=lR.get(n);return e?(ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MP.type="NONE";const rc=MP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(n,e,t){return`firebase:${n}:${e}:${t}`}class Pu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Go(this.userKey,s.apiKey,o),this.fullPersistenceKey=Go("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lp(this.auth,{idToken:e}).catch(()=>{});return t?Zr._fromGetAccountInfoResponse(this.auth,t,e):null}return Zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Pu(wr(rc),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||wr(rc);const u=Go(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Lp(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Zr._fromGetAccountInfoResponse(e,E,y)}else v=Zr._fromJSON(e,y);p!==o&&(h=v),o=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Pu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Pu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FP(e))return"Blackberry";if(jP(e))return"Webos";if(UP(e))return"Safari";if((e.includes("chrome/")||BP(e))&&!e.includes("edge/"))return"Chrome";if(sf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LP(n=kt()){return/firefox\//i.test(n)}function UP(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BP(n=kt()){return/crios\//i.test(n)}function zP(n=kt()){return/iemobile/i.test(n)}function sf(n=kt()){return/android/i.test(n)}function FP(n=kt()){return/blackberry/i.test(n)}function jP(n=kt()){return/webos/i.test(n)}function af(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function D9(n=kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function N9(n=kt()){var e;return af(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O9(){return S1()&&document.documentMode===10}function qP(n=kt()){return af(n)||sf(n)||jP(n)||FP(n)||/windows phone/i.test(n)||zP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n,e=[]){let t;switch(n){case"Browser":t=uR(kt());break;case"Worker":t=`${uR(kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(n,e={}){return jt(n,"GET","/v2/passwordPolicy",Ft(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6;class L9{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:M9,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cR(this),this.idTokenSubscription=new cR(this),this.beforeStateQueue=new k9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Pu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lp(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Od(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(bn(this));const t=e?Ae(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V9(this),t=new L9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await P9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=await Pu.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&f9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vt(n){return Ae(n)}class cR{constructor(e){this.auth=e,this.observer=null,this.addObserver=R1(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B9(n){of=n}function rT(n){return of.loadJS(n)}function z9(){return of.recaptchaV2Script}function F9(){return of.recaptchaEnterpriseScript}function j9(){return of.gapiScript}function GP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=500,H9=6e4,qm=1e12;class G9{constructor(e){this.auth=e,this.counter=qm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Q9(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||qm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||qm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||qm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class $9{constructor(){this.enterprise=new K9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class K9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Q9{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ce(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Y9(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},H9)},q9))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Y9(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const W9="recaptcha-enterprise",rd="NO_RECAPTCHA";class $P{constructor(e){this.type=W9,this.auth=Vt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{kP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new OP(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;aR(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(rd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $9().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&aR(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=F9();f.length!==0&&(f+=h),rT(f).then(()=>{s(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Oh(n,e,t,r=!1,s=!1){const o=new $P(n);let u;if(s)u=rd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ca(n,e,t,r,s){var o,u;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Oh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Oh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(s==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Oh(n,e,t);return r(n,h).catch(async f=>{var p;if(((p=n._getRecaptchaConfig())===null||p===void 0?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await Oh(n,e,t,!1,!0);return r(n,y)}return Promise.reject(f)})}else{const h=await Oh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(s+" provider is not supported.")}async function X9(n){const e=Vt(n),t=await kP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new OP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new $P(e).verify()}function J9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z9(n,e,t){const r=Vt(n);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),o=KP(e),{host:u,port:h}=eB(e),f=h===null?"":`:${h}`,p={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(Pa(p,r.config.emulator)&&Pa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,jd(u)?(M0("Auth",!0),T1(`${o}//${u}${f}`)):s||tB()}function KP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eB(n){const e=KP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:hR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:hR(u)}}}function hR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tB(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e){return jt(n,"POST","/v1/accounts:resetPassword",Ft(n,e))}async function nB(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function rB(n,e){return jt(n,"POST","/v1/accounts:signUp",e)}async function iB(n,e){return jt(n,"POST","/v1/accounts:update",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(n,e){return Ms(n,"POST","/v1/accounts:signInWithPassword",Ft(n,e))}async function Og(n,e){return jt(n,"POST","/v1/accounts:sendOobCode",Ft(n,e))}async function aB(n,e){return Og(n,e)}async function oB(n,e){return Og(n,e)}async function lB(n,e){return Og(n,e)}async function uB(n,e){return Og(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(n,e){return Ms(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))}async function hB(n,e){return Ms(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends _c{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new kd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new kd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ca(e,t,"signInWithPassword",sB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cB(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ca(e,r,"signUpPassword",rB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hB(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(n,e){return Ms(n,"POST","/v1/accounts:signInWithIdp",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="http://localhost";class zi extends _c{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=JE(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new zi(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ws(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ws(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ws(e,t)}buildRequest(){const e={requestUri:dB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){return jt(n,"POST","/v1/accounts:sendVerificationCode",Ft(n,e))}async function fB(n,e){return Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e))}async function mB(n,e){const t=await Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e));if(t.temporaryProof)throw Hh(n,"account-exists-with-different-credential",t);return t}const pB={USER_NOT_FOUND:"user-not-found"};async function gB(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,t),pB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends _c{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $o({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $o({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return fB(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return mB(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return gB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new $o({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _B(n){const e=Su(Bh(n)).link,t=e?Su(Bh(e)).deep_link_id:null,r=Su(Bh(n)).deep_link_id;return(r?Su(Bh(r)).link:null)||r||t||e||n}class kg{constructor(e){var t,r,s,o,u,h;const f=Su(Bh(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,v=yB((s=f.mode)!==null&&s!==void 0?s:null);ce(p&&y&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=_B(e);try{return new kg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,t){return kd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=kg.parseLink(t);return ce(r,"argument-error"),kd._fromEmailAndCode(e,r.code,r.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Du extends vc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ce("providerId"in t&&"signInMethod"in t,"argument-error"),zi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ce(e.idToken||e.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Du.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Du.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!s&&!t&&!o||!h)return null;try{return new Du(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends vc{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zi._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ii.credential(t,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends vc{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="http://localhost";class ic extends _c{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ws(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ws(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ws(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new ic(r,o)}static _create(e,t){return new ic(e,t)}buildRequest(){return{requestUri:vB,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="saml.";class Up extends Ls{constructor(e){ce(e.startsWith(EB),"argument-error"),super(e)}static credentialFromResult(e){return Up.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Up.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ic.fromJSON(e);return ce(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ic._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends vc{constructor(){super("twitter.com")}static credential(e,t){return zi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ci.credential(t,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(n,e){return Ms(n,"POST","/v1/accounts:signUp",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Zr._fromIdTokenResponse(e,r,s),u=fR(r);return new jr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=fR(r);return new jr({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function fR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(n){var e;if(Rt(n.app))return Promise.reject(bn(n));const t=Vt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await YP(t,{returnSecureToken:!0}),s=await jr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Wn{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Bp(e,t,r,s)}}function WP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(n,e){const t=Ae(n);await Vg(!0,t,e);const{providerUserInfo:r}=await w9(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=XP(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function iT(n,e,t=!1){const r=await Ps(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jr._forOperation(n,"link",r)}async function Vg(n,e,t){await Od(e);const r=XP(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ce(r.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e,t=!1){const{auth:r}=n;if(Rt(r.app))return Promise.reject(bn(r));const s="reauthenticate";try{const o=await Ps(n,WP(r,s,e,n),t);ce(o.idToken,r,"internal-error");const u=Ng(o.idToken);ce(u,r,"internal-error");const{sub:h}=u;return ce(n.uid===h,r,"user-mismatch"),jr._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e,t=!1){if(Rt(n.app))return Promise.reject(bn(n));const r="signIn",s=await WP(n,r,e),o=await jr._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function Mg(n,e){return ZP(Vt(n),e)}async function eD(n,e){const t=Ae(n);return await Vg(!1,t,e.providerId),iT(t,e)}async function tD(n,e){return JP(Ae(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(n,e){return Ms(n,"POST","/v1/accounts:signInWithCustomToken",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(n,e){if(Rt(n.app))return Promise.reject(bn(n));const t=Vt(n),r=await wB(t,{token:e,returnSecureToken:!0}),s=await jr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?sT._fromServerResponse(e,t):"totpInfo"in t?aT._fromServerResponse(e,t):Nn(e,"internal-error")}}class sT extends lf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new sT(t)}}class aT extends lf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new aT(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e,t){var r;ce(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ce(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ce(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ce(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(n){const e=Vt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AB(n,e,t){const r=Vt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Lg(r,s,t),await Ca(r,s,"getOobCode",oB,"EMAIL_PASSWORD_PROVIDER")}async function IB(n,e,t){await QP(Ae(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oT(n),r})}async function RB(n,e){await iB(Ae(n),{oobCode:e})}async function nD(n,e){const t=Ae(n),r=await QP(t,{oobCode:e}),s=r.requestType;switch(ce(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(r.mfaInfo,t,"internal-error");default:ce(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=lf._fromServerResponse(Vt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function CB(n,e){const{data:t}=await nD(Ae(n),e);return t.email}async function xB(n,e,t){if(Rt(n.app))return Promise.reject(bn(n));const r=Vt(n),u=await Ca(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YP,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&oT(n),f}),h=await jr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function PB(n,e,t){return Rt(n.app)?Promise.reject(bn(n)):Mg(Ae(n),Ya.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(n,e,t){const r=Vt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ce(h.handleCodeInApp,r,"argument-error"),h&&Lg(r,u,h)}o(s,t),await Ca(r,s,"getOobCode",lB,"EMAIL_PASSWORD_PROVIDER")}function NB(n,e){const t=kg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function OB(n,e,t){if(Rt(n.app))return Promise.reject(bn(n));const r=Ae(n),s=Ya.credentialWithLink(e,t||Nd());return ce(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Mg(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kB(n,e){return jt(n,"POST","/v1/accounts:createAuthUri",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(n,e){const t=tT()?Nd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await kB(Ae(n),r);return s||[]}async function MB(n,e){const t=Ae(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Lg(t.auth,s,e);const{email:o}=await aB(t.auth,s);o!==n.email&&await n.reload()}async function LB(n,e,t){const r=Ae(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Lg(r.auth,o,t);const{email:u}=await uB(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(n,e){return jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ae(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ps(r,UB(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function zB(n,e){const t=Ae(n);return Rt(t.auth.app)?Promise.reject(bn(t.auth)):rD(t,e,null)}function FB(n,e){return rD(Ae(n),null,e)}async function rD(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ps(n,nB(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Ng(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Nu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new qB(o,s);case"github.com":return new HB(o,s);case"google.com":return new GB(o,s);case"twitter.com":return new $B(o,s,n.screenName||null);case"custom":case"anonymous":return new Nu(o,null);default:return new Nu(o,r,s)}}class Nu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class iD extends Nu{constructor(e,t,r,s){super(e,t,r),this.username=s}}class qB extends Nu{constructor(e,t){super(e,"facebook.com",t)}}class HB extends iD{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class GB extends Nu{constructor(e,t){super(e,"google.com",t)}}class $B extends iD{constructor(e,t,r){super(e,"twitter.com",t,r)}}function KB(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:jB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new qo("enroll",e,t)}static _fromMfaPendingCredential(e){return new qo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return qo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return qo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Vt(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>lf._fromServerResponse(r,h));ce(s.mfaPendingCredential,r,"internal-error");const u=qo._fromMfaPendingCredential(s.mfaPendingCredential);return new lT(u,o,async h=>{const f=await h._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const p=Object.assign(Object.assign({},s),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const y=await jr._fromIdTokenResponse(r,t.operationType,p);return await r._updateCurrentUser(y.user),y;case"reauthenticate":return ce(t.user,r,"internal-error"),jr._forOperation(t.user,t.operationType,p);default:Nn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function QB(n,e){var t;const r=Ae(n),s=e;return ce(e.customData.operationType,r,"argument-error"),ce((t=s.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),lT._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",Ft(n,e))}function YB(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(n,e))}function WB(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(n,e))}class uT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>lf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new uT(e)}async getSession(){return qo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await Ps(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await Ps(this.user,WB(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const dv=new WeakMap;function XB(n){const e=Ae(n);return dv.has(e)||dv.set(e,uT._fromUser(e)),dv.get(e)}const zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=1e3,ZB=10;class aD extends sD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);O9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZB):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},JB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aD.type="LOCAL";const cT=aD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD extends sD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oD.type="SESSION";const rl=oD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Ug(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,o)),f=await ez(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ug.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const p=uf("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function nz(n){rn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function rz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sz(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firebaseLocalStorageDb",az=1,Fp="firebaseLocalStorage",uD="fbase_key";class cf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bg(n,e){return n.transaction([Fp],e?"readwrite":"readonly").objectStore(Fp)}function oz(){const n=indexedDB.deleteDatabase(lD);return new cf(n).toPromise()}function l0(){const n=indexedDB.open(lD,az);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fp,{keyPath:uD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fp)?e(r):(r.close(),await oz(),e(await l0()))})})}async function pR(n,e,t){const r=Bg(n,!0).put({[uD]:e,value:t});return new cf(r).toPromise()}async function lz(n,e){const t=Bg(n,!1).get(e),r=await new cf(t).toPromise();return r===void 0?null:r.value}function gR(n,e){const t=Bg(n,!0).delete(e);return new cf(t).toPromise()}const uz=800,cz=3;class cD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ug._getInstance(sz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rz(),!this.activeServiceWorker)return;this.sender=new tz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l0();return await pR(e,zp,"1"),await gR(e,zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Bg(s,!1).getAll();return new cf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cD.type="LOCAL";const Vd=cD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:start",Ft(n,e))}function hz(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=GP("rcb"),dz=new rf(3e4,6e4);class fz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=rn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ce(mz(t),e,"argument-error"),this.shouldResolveImmediately(t)&&sR(rn().grecaptcha)?Promise.resolve(rn().grecaptcha):new Promise((r,s)=>{const o=rn().setTimeout(()=>{s(hn(e,"network-request-failed"))},dz.get());rn()[fv]=()=>{rn().clearTimeout(o),delete rn()[fv];const h=rn().grecaptcha;if(!h||!sR(h)){s(hn(e,"internal-error"));return}const f=h.render;h.render=(p,y)=>{const v=f(p,y);return this.counter++,v},this.hostLanguage=t,r(h)};const u=`${z9()}?${lc({onload:fv,render:"explicit",hl:t})}`;rT(u).catch(()=>{clearTimeout(o),s(hn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=rn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function mz(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class pz{async load(e){return new G9(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="recaptcha",gz={theme:"light",type:"image"};let yz=class{constructor(e,t,r=Object.assign({},gz)){this.parameters=r,this.type=id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ce(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pz:new fz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=rn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(tT()&&!hT(),this.auth,"internal-error"),await _z(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await T9(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _z(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=$o._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function vz(n,e,t){if(Rt(n.app))return Promise.reject(bn(n));const r=Vt(n),s=await zg(r,e,Ae(t));return new dT(s,o=>Mg(r,o))}async function Ez(n,e,t){const r=Ae(n);await Vg(!1,r,"phone");const s=await zg(r.auth,e,Ae(t));return new dT(s,o=>eD(r,o))}async function Tz(n,e,t){const r=Ae(n);if(Rt(r.auth.app))return Promise.reject(bn(r.auth));const s=await zg(r.auth,e,Ae(t));return new dT(s,o=>tD(r,o))}async function zg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await X9(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){ce(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ca(n,u,"mfaSmsEnrollment",async(y,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===rd){ce((t==null?void 0:t.type)===id,y,"argument-error");const E=await mv(y,v,t);return mR(y,E)}return mR(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ce(o.type==="signin",n,"internal-error");const u=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;ce(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ca(n,h,"mfaSmsSignIn",async(v,E)=>{if(E.phoneSignInInfo.captchaResponse===rd){ce((t==null?void 0:t.type)===id,v,"argument-error");const R=await mv(v,E,t);return yR(v,R)}return yR(v,E)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ca(n,o,"sendVerificationCode",async(p,y)=>{if(y.captchaResponse===rd){ce((t==null?void 0:t.type)===id,p,"argument-error");const v=await mv(p,y,t);return dR(p,v)}return dR(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t==null||t._reset()}}async function bz(n,e){const t=Ae(n);if(Rt(t.auth.app))return Promise.reject(bn(t.auth));await iT(t,e)}async function mv(n,e,t){ce(t.type===id,n,"argument-error");const r=await t.verify();ce(typeof r=="string",n,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il=class up{constructor(e){this.providerId=up.PROVIDER_ID,this.auth=Vt(e)}verifyPhoneNumber(e,t){return zg(this.auth,e,Ae(t))}static credential(e,t){return $o._fromVerification(e,t)}static credentialFromResult(e){const t=e;return up.credentialFromTaggedObject(t)}static credentialFromError(e){return up.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?$o._fromTokenResponse(t,r):null}};il.PROVIDER_ID="phone";il.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n,e){return e?wr(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends _c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ws(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wz(n){return ZP(n.auth,new fT(n),n.bypassAuthState)}function Sz(n){const{auth:e,user:t}=n;return ce(t,e,"internal-error"),JP(t,new fT(n),n.bypassAuthState)}async function Az(n){const{auth:e,user:t}=n;return ce(t,e,"internal-error"),iT(t,new fT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wz;case"linkViaPopup":case"linkViaRedirect":return Az;case"reauthViaPopup":case"reauthViaRedirect":return Sz;default:Nn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=new rf(2e3,1e4);async function Rz(n,e,t){if(Rt(n.app))return Promise.reject(hn(n,"operation-not-supported-in-this-environment"));const r=Vt(n);yc(n,e,Ls);const s=ml(r,t);return new Es(r,"signInViaPopup",e,s).executeNotNull()}async function Cz(n,e,t){const r=Ae(n);if(Rt(r.auth.app))return Promise.reject(hn(r.auth,"operation-not-supported-in-this-environment"));yc(r.auth,e,Ls);const s=ml(r.auth,t);return new Es(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function xz(n,e,t){const r=Ae(n);yc(r.auth,e,Ls);const s=ml(r.auth,t);return new Es(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Es extends hD{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=uf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Iz.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz="pendingRedirect",sd=new Map;class Dz extends hD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const r=await Nz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nz(n,e){const t=fD(e),r=dD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function mT(n,e){return dD(n)._set(fD(e),"true")}function Oz(){sd.clear()}function pT(n,e){sd.set(n._key(),e)}function dD(n){return wr(n._redirectPersistence)}function fD(n){return Go(Pz,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(n,e,t){return Vz(n,e,t)}async function Vz(n,e,t){if(Rt(n.app))return Promise.reject(bn(n));const r=Vt(n);yc(n,e,Ls),await r._initializationPromise;const s=ml(r,t);return await mT(s,r),s._openRedirect(r,e,"signInViaRedirect")}function Mz(n,e,t){return Lz(n,e,t)}async function Lz(n,e,t){const r=Ae(n);if(yc(r.auth,e,Ls),Rt(r.auth.app))return Promise.reject(bn(r.auth));await r.auth._initializationPromise;const s=ml(r.auth,t);await mT(s,r.auth);const o=await mD(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Uz(n,e,t){return Bz(n,e,t)}async function Bz(n,e,t){const r=Ae(n);yc(r.auth,e,Ls),await r.auth._initializationPromise;const s=ml(r.auth,t);await Vg(!1,r,e.providerId),await mT(s,r.auth);const o=await mD(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function zz(n,e){return await Vt(n)._initializationPromise,Fg(n,e,!1)}async function Fg(n,e,t=!1){if(Rt(n.app))return Promise.reject(bn(n));const r=Vt(n),s=ml(r,e),u=await new Dz(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function mD(n){const e=uf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=10*60*1e3;class pD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(hn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fz&&this.cachedEventUids.clear(),this.cachedEventUids.has(_R(e))}saveEventToCache(e){this.cachedEventUids.add(_R(e)),this.lastProcessedEventTime=Date.now()}}function _R(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(n,e={}){return jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hz=/^https?/;async function Gz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yD(n);for(const t of e)try{if($z(t))return}catch{}Nn(n,"unauthorized-domain")}function $z(n){const e=Nd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Hz.test(t))return!1;if(qz.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=new rf(3e4,6e4);function vR(){const n=rn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Qz(n){return new Promise((e,t)=>{var r,s,o;function u(){vR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vR(),t(hn(n,"network-request-failed"))},timeout:Kz.get()})}if(!((s=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=rn().gapi)===null||o===void 0)&&o.load)u();else{const h=GP("iframefcb");return rn()[h]=()=>{gapi.load?u():t(hn(n,"network-request-failed"))},rT(`${j9()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw cp=null,e})}let cp=null;function Yz(n){return cp=cp||Qz(n),cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new rf(5e3,15e3),Xz="__/auth/iframe",Jz="emulator/auth/iframe",Zz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tF(n){const e=n.config;ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nT(e,Jz):`https://${n.config.authDomain}/${Xz}`,r={apiKey:e.apiKey,appName:n.name,v:qa},s=eF.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${lc(r).slice(1)}`}async function nF(n){const e=await Yz(n),t=rn().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:tF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zz,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=hn(n,"network-request-failed"),h=rn().setTimeout(()=>{o(u)},Wz.get());function f(){rn().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iF=500,sF=600,aF="_blank",oF="http://localhost";class ER{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lF(n,e,t,r=iF,s=sF){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},rF),{width:r.toString(),height:s.toString(),top:o,left:u}),p=kt().toLowerCase();t&&(h=BP(p)?aF:t),LP(p)&&(e=e||oF,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[R,C])=>`${E}${R}=${C},`,"");if(N9(p)&&h!=="_self")return uF(e||"",h),new ER(null);const v=window.open(e||"",h,y);ce(v,n,"popup-blocked");try{v.focus()}catch{}return new ER(v)}function uF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="__/auth/handler",hF="emulator/auth/handler",dF=encodeURIComponent("fac");async function u0(n,e,t,r,s,o){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qa,eventId:s};if(e instanceof Ls){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",v4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries(o||{}))u[y]=v}if(e instanceof vc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${dF}=${encodeURIComponent(f)}`:"";return`${fF(n)}?${lc(h).slice(1)}${p}`}function fF({config:n}){return n.emulator?nT(n,hF):`https://${n.authDomain}/${cF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="webStorageSupport";class mF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rl,this._completeRedirectFn=Fg,this._overrideRedirectResult=pT}async _openPopup(e,t,r,s){var o;ti((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await u0(e,t,r,Nd(),s);return lF(e,u,uf())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await u0(e,t,r,Nd(),s);return nz(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ti(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nF(e),r=new pD(e);return t.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pv,{type:pv},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[pv];u!==void 0&&t(!!u),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qP()||UP()||af()}}const pF=mF;class gF{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Di("unexpected MultiFactorSessionType")}}}class gT extends gF{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gT(e)}_finalizeEnroll(e,t,r){return YB(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return hz(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class _D{constructor(){}static assertion(e){return gT._fromCredential(e)}}_D.FACTOR_ID="phone";var TR="@firebase/auth",bR="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vF(n){Oa(new Mi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HP(n)},p=new U9(r,s,o,f);return J9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new Mi("auth-internal",e=>{const t=Vt(e.getProvider("auth").getImmediate());return(r=>new yF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(TR,bR,_F(n)),ei(TR,bR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=5*60;o4("authIdTokenMaxAge");function TF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}B9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=hn("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",TF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vF("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=2e3;async function wF(n,e,t){var r;const{BuildInfo:s}=sl();ti(e.sessionId,"AuthEvent did not contain a session ID");const o=await CF(e.sessionId),u={};return af()?u.ibi=s.packageName:sf()?u.apn=s.packageName:Nn(n,"operation-not-supported-in-this-environment"),s.displayName&&(u.appDisplayName=s.displayName),u.sessionId=o,u0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function SF(n){const{BuildInfo:e}=sl(),t={};af()?t.iosBundleId=e.packageName:sf()?t.androidPackageName=e.packageName:Nn(n,"operation-not-supported-in-this-environment"),await yD(n,t)}function AF(n){const{cordova:e}=sl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,D9()?"_blank":"_system","location=yes"),t(s)})})}async function IF(n,e,t){const{cordova:r}=sl();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var v;o();const E=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof E=="function"&&E(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function p(){h||(h=window.setTimeout(()=>{u(hn(n,"redirect-cancelled-by-user"))},bF))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(f),document.addEventListener("resume",p,!1),sf()&&document.addEventListener("visibilitychange",y,!1),s=()=>{e.removePassiveListener(f),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{s()}}function RF(n){var e,t,r,s,o,u,h,f,p,y;const v=sl();ce(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof((t=v==null?void 0:v.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce(typeof((o=(s=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce(typeof((f=(h=(u=v==null?void 0:v.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce(typeof((y=(p=v==null?void 0:v.cordova)===null||p===void 0?void 0:p.InAppBrowser)===null||y===void 0?void 0:y.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function CF(n){const e=xF(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function xF(n){if(ti(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=20;class DF extends pD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function NF(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:VF(),postBody:null,tenantId:n.tenantId,error:hn(n,"no-auth-event")}}function OF(n,e){return c0()._set(h0(n),e)}async function wR(n){const e=await c0()._get(h0(n));return e&&await c0()._remove(h0(n)),e}function kF(n,e){var t,r;const s=LF(e);if(s.includes("/__/auth/callback")){const o=hp(s),u=o.firebaseError?MF(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?hn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}function VF(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<PF;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function c0(){return wr(cT)}function h0(n){return Go("authEvent",n.config.apiKey,n.name)}function MF(n){try{return JSON.parse(n)}catch{return null}}function LF(n){const e=hp(n),t=e.link?decodeURIComponent(e.link):void 0,r=hp(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return hp(s).link||s||r||t||n}function hp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Su(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=500;class BF{constructor(){this._redirectPersistence=rl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fg,this._overrideRedirectResult=pT}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new DF(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,s){RF(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Oz(),await this._originValidation(e);const u=NF(e,r,s);await OF(e,u);const h=await wF(e,u,t),f=await AF(h);return IF(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SF(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=sl(),u=setTimeout(async()=>{await wR(e),t.onEvent(SR())},UF),h=async y=>{clearTimeout(u);const v=await wR(e);let E=null;v&&(y!=null&&y.url)&&(E=kF(v,y.url)),t.onEvent(E||SR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=s,p=`${o.packageName.toLowerCase()}://`;sl().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(p)&&h({url:y}),typeof f=="function")try{f(y)}catch(v){console.error(v)}}}}const zF=BF;function SR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(n,e){Vt(n)._logFramework(e)}var jF="@firebase/auth-compat",qF="0.5.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=1e3;function ad(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function GF(){return ad()==="http:"||ad()==="https:"}function vD(n=kt()){return!!((ad()==="file:"||ad()==="ionic:"||ad()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function $F(){return L0()||rg()}function KF(){return S1()&&(document==null?void 0:document.documentMode)===11}function QF(n=kt()){return/Edge\/\d+/.test(n)}function YF(n=kt()){return KF()||QF(n)}function ED(){try{const n=self.localStorage,e=uf();if(n)return n.setItem(e,"1"),n.removeItem(e),YF()?dd():!0}catch{return yT()&&dd()}return!1}function yT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function gv(){return(GF()||w1()||vD())&&!$F()&&ED()&&!yT()}function TD(){return vD()&&typeof document<"u"}async function WF(){return TD()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},HF);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function XF(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},kh=ce,bD="persistence";function JF(n,e){if(kh(Object.values(Tr).includes(e),n,"invalid-persistence-type"),L0()){kh(e!==Tr.SESSION,n,"unsupported-persistence-type");return}if(rg()){kh(e===Tr.NONE,n,"unsupported-persistence-type");return}if(yT()){kh(e===Tr.NONE||e===Tr.LOCAL&&dd(),n,"unsupported-persistence-type");return}kh(e===Tr.NONE||ED(),n,"unsupported-persistence-type")}async function d0(n){await n._initializationPromise;const e=wD(),t=Go(bD,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function ZF(n,e){const t=wD();if(!t)return[];const r=Go(bD,n,e);switch(t.getItem(r)){case Tr.NONE:return[rc];case Tr.LOCAL:return[Vd,rl];case Tr.SESSION:return[rl];default:return[]}}function wD(){var n;try{return((n=XF())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=ce;class wa{constructor(){this.browserResolver=wr(pF),this.cordovaResolver=wr(zF),this.underlyingResolver=null,this._redirectPersistence=rl,this._completeRedirectFn=Fg,this._overrideRedirectResult=pT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,s)}async _openRedirect(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return TD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ej(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await WF();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n){return n.unwrap()}function tj(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(n){return AD(n)}function rj(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new ij(n,QB(n,e))}else if(r){const s=AD(e),o=e;s&&(o.credential=s,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function AD(n){const{_tokenResponse:e}=n instanceof Wn?n.customData:n;if(!e)return null;if(!(n instanceof Wn)&&"temporaryProof"in e&&"phoneNumber"in e)return il.credentialFromResult(n);const t=e.providerId;if(!t||t===Nh.PASSWORD)return null;let r;switch(t){case Nh.GOOGLE:r=Ii;break;case Nh.FACEBOOK:r=Ai;break;case Nh.GITHUB:r=Ri;break;case Nh.TWITTER:r=Ci;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?ic._create(t,h):zi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new Du(t).credential({idToken:s,accessToken:o,rawNonce:f})}return n instanceof Wn?r.credentialFromError(n):r.credentialFromResult(n)}function ir(n,e){return e.catch(t=>{throw t instanceof Wn&&rj(n,t),t}).then(t=>{const r=t.operationType,s=t.user;return{operationType:r,credential:nj(t),additionalUserInfo:KB(t),user:Ts.getOrCreate(s)}})}async function f0(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>ir(n,t.confirm(r))}}class ij{constructor(e,t){this.resolver=t,this.auth=tj(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ir(SD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._delegate=e,this.multiFactor=XB(e)}static getOrCreate(e){return Ts.USER_MAP.has(e)||Ts.USER_MAP.set(e,new Ts(e)),Ts.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ir(this.auth,eD(this._delegate,e))}async linkWithPhoneNumber(e,t){return f0(this.auth,Ez(this._delegate,e,t))}async linkWithPopup(e){return ir(this.auth,xz(this._delegate,e,wa))}async linkWithRedirect(e){return await d0(Vt(this.auth)),Uz(this._delegate,e,wa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ir(this.auth,tD(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return f0(this.auth,Tz(this._delegate,e,t))}reauthenticateWithPopup(e){return ir(this.auth,Cz(this._delegate,e,wa))}async reauthenticateWithRedirect(e){return await d0(Vt(this.auth)),Mz(this._delegate,e,wa)}sendEmailVerification(e){return MB(this._delegate,e)}async unlink(e){return await bB(this._delegate,e),this}updateEmail(e){return zB(this._delegate,e)}updatePassword(e){return FB(this._delegate,e)}updatePhoneNumber(e){return bz(this._delegate,e)}updateProfile(e){return BB(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return LB(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ts.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=ce;class m0{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Vh(r,"invalid-api-key",{appName:e.name}),Vh(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?wa:void 0;this._delegate=t.initialize({options:{persistence:sj(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(h9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ts.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Z9(this._delegate,e,t)}applyActionCode(e){return RB(this._delegate,e)}checkActionCode(e){return nD(this._delegate,e)}confirmPasswordReset(e,t){return IB(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ir(this._delegate,xB(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return VB(this._delegate,e)}isSignInWithEmailLink(e){return NB(this._delegate,e)}async getRedirectResult(){Vh(gv(),this._delegate,"operation-not-supported-in-this-environment");const e=await zz(this._delegate,wa);return e?ir(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){FF(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:s,error:o,complete:u}=AR(e,t,r);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,r){const{next:s,error:o,complete:u}=AR(e,t,r);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return DB(this._delegate,e,t)}sendPasswordResetEmail(e,t){return AB(this._delegate,e,t||void 0)}async setPersistence(e){JF(this._delegate,e);let t;switch(e){case Tr.SESSION:t=rl;break;case Tr.LOCAL:t=await wr(Vd)._isAvailable()?Vd:cT;break;case Tr.NONE:t=rc;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ir(this._delegate,TB(this._delegate))}signInWithCredential(e){return ir(this._delegate,Mg(this._delegate,e))}signInWithCustomToken(e){return ir(this._delegate,SB(this._delegate,e))}signInWithEmailAndPassword(e,t){return ir(this._delegate,PB(this._delegate,e,t))}signInWithEmailLink(e,t){return ir(this._delegate,OB(this._delegate,e,t))}signInWithPhoneNumber(e,t){return f0(this._delegate,vz(this._delegate,e,t))}async signInWithPopup(e){return Vh(gv(),this._delegate,"operation-not-supported-in-this-environment"),ir(this._delegate,Rz(this._delegate,e,wa))}async signInWithRedirect(e){return Vh(gv(),this._delegate,"operation-not-supported-in-this-environment"),await d0(this._delegate),kz(this._delegate,e,wa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return CB(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}m0.Persistence=Tr;function AR(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const s=r;return{next:u=>s(u&&Ts.getOrCreate(u)),error:e,complete:t}}function sj(n,e){const t=ZF(n,e);if(typeof self<"u"&&!t.includes(Vd)&&t.push(Vd),typeof window<"u")for(const r of[cT,rl])t.includes(r)||t.push(r);return t.includes(rc)||t.push(rc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static credential(e,t){return il.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new il(SD(ul.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}_T.PHONE_SIGN_IN_METHOD=il.PHONE_SIGN_IN_METHOD;_T.PROVIDER_ID=il.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=ce;class oj{constructor(e,t,r=ul.app()){var s;aj((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new yz(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="auth-compat";function uj(n){n.INTERNAL.registerComponent(new Mi(lj,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new m0(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yu.EMAIL_SIGNIN,PASSWORD_RESET:yu.PASSWORD_RESET,RECOVER_EMAIL:yu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:yu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:yu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:yu.VERIFY_EMAIL}},EmailAuthProvider:Ya,FacebookAuthProvider:Ai,GithubAuthProvider:Ri,GoogleAuthProvider:Ii,OAuthProvider:Du,SAMLAuthProvider:Up,PhoneAuthProvider:_T,PhoneMultiFactorGenerator:_D,RecaptchaVerifier:oj,TwitterAuthProvider:Ci,Auth:m0,AuthCredential:_c,Error:Wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(jF,qF)}uj(ul);const cj={apiKey:"AIzaSyBn_EKXXW_T6aeLn4Vr6BtZSPcdjOZIHgY",authDomain:"challenge-364d4.firebaseapp.com",projectId:"challenge-364d4",storageBucket:"challenge-364d4.firebasestorage.app",messagingSenderId:"738416627199",appId:"1:738416627199:web:96c36aac72c915138cabca",measurementId:"G-NT7QDGDSFV"},hj=ul.initializeApp(cj);hj.firestore();const jp=ul.auth();function va(){const[{basket:n,user:e},t]=ol(),r=()=>{e&&jp.signOut()};return z.jsx(z.Fragment,{children:z.jsxs("div",{className:"h-[60px] flex items-center bg-black sticky top-0 z-[100]",children:[z.jsx(Jr,{to:"/",children:z.jsx("div",{className:"w-[100px] object-contain mx-[20px] mt-[18px] top-0 z-[100]",children:z.jsx("img",{src:dN,alt:"logo"})})}),z.jsxs("div",{className:"flex items-center w-full border-r-[24px] ",children:[z.jsx("input",{type:"text",className:"bg-white p-[10px] w-full  h-[24px] flex-1"}),z.jsx(IV,{className:"p-[5px] h-[26px] bg-[#cd9042]"})]}),z.jsxs("div",{className:" flex justify-evenly",children:[z.jsx(Jr,{to:e?"#":"/login",children:z.jsxs("div",{className:" flex flex-col mx-[10px] text-white ",onClick:r,children:[z.jsxs("span",{className:"text-[10px] ",children:["Hellow ",e?e.email:"Guest"]}),z.jsx("span",{className:"header_optionLineTwo",children:e?"sign out":"sign In"})]})}),z.jsxs("div",{className:"flex flex-col mx-[10px] text-white",children:[z.jsx("span",{className:"text-[10px]",children:"Returns"}),z.jsx("span",{className:"header_optionLineTwo",children:"Orders"})]}),z.jsxs("div",{className:"flex flex-col mx-[10px] text-white",children:[z.jsx("span",{className:"text-[10px] ",children:"Your"}),z.jsx("span",{className:"header_optionLineTwo ",children:"Prime"})]})]}),z.jsx(Jr,{to:"Checkout",children:z.jsxs("div",{className:"flex m-3",children:[z.jsx(RV,{className:"flex  items-center text-white"}),z.jsx("span",{className:"text-white  items-center text-[10px] m-[5px]",children:n.length})]})})]})})}function _u({id:n,title:e,image:t,price:r,rating:s}){const[{basket:o},u]=ol();console.log("this is the basket",o);const h=()=>{u({type:"ADD_TO_BASKET",item:{id:n,title:e,image:t,price:r,rating:s}})};return z.jsxs("div",{className:"flex flex-col bg-white shadow-lg rounded-lg p-4 max-w-xs mx-auto mt-6",children:[z.jsx("img",{src:t,alt:"The Lean Startup",className:"w-full h-48 object-cover rounded"}),z.jsxs("div",{className:"mt-4",children:[z.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e}),z.jsxs("p",{className:"text-gray-600 mt-1",children:[z.jsx("small",{children:"₹"}),z.jsx("strong",{children:r})]}),z.jsx("div",{className:"flex mt-2 space-x-1 text-yellow-500",children:Array(s).fill().map((f,p)=>z.jsx("span",{children:"⭐️"},p))})]}),z.jsx("button",{className:"mt-4 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded",onClick:h,children:"Add to Cart"})]})}const ID=()=>{const n=["https://images-eu.ssl-images-amazon.com/images/G/31/img20/AmazonLaunchpad/video/bxgy/2X_Decor_GBF_PC_3000X1200._CB794524354_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/INSLGW/pc_common_12th._CB555377188_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/img23/Consumables/X-GL/Feb5/PC_Hero_1_3000._CB582457311_.jpg"],[e,t]=Y.useState(0),r=()=>{t(e===0?n.length-1:e-1)},s=()=>{t(e===n.length-1?0:e+1)};Y.useEffect(()=>{const u=setInterval(()=>{s()},5e3);return()=>clearInterval(u)},[e]);const o="absolute top-1/2 transform -translate-y-1/2 bg-black/40 text-white text-3xl w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/60 transition";return z.jsxs("div",{className:"relative w-full h-[300px] overflow-hidden",children:[z.jsx("div",{className:"w-full h-full bg-cover bg-top bg-no-repeat transition-all duration-500",style:{backgroundImage:`url(${n[e]})`}}),z.jsx("button",{onClick:r,className:`${o} left-4`,children:"‹"}),z.jsx("button",{onClick:s,className:`${o} right-4`,children:"›"})]})};function dj(){return z.jsxs("div",{className:"home",children:[z.jsx(ID,{}),z.jsxs("div",{className:"flex flex-wrap  gap-5 ",children:[z.jsx(_u,{title:"new product",price:29.99,rating:4,image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),z.jsx(_u,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),z.jsx(_u,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),z.jsx(_u,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),z.jsx(_u,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),z.jsx(_u,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"})]})]})}var Ye=function(){return Ye=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ye.apply(this,arguments)};function vT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function vr(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Fi=function(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},fj={k:1e3,m:1e6,b:1e9},mj=function(n,e){e===void 0&&(e=".");var t=new RegExp("(\\d+(".concat(Fi(e),"\\d*)?)([kmb])$"),"i"),r=n.match(t);if(r){var s=r[1],o=r[3],u=fj[o.toLowerCase()];return Number(s.replace(e,"."))*u}},pj=function(n,e){e===void 0&&(e=",");var t=new RegExp(Fi(e),"g");return n.replace(t,"")},gj=function(n,e){var t=Fi(e.join("")),r=new RegExp("[^\\d".concat(t,"]"),"gi");return n.replace(r,"")},yv=function(n){var e=n.value,t=n.groupSeparator,r=t===void 0?",":t,s=n.decimalSeparator,o=s===void 0?".":s,u=n.allowDecimals,h=u===void 0?!0:u,f=n.decimalsLimit,p=f===void 0?2:f,y=n.allowNegativeValue,v=y===void 0?!0:y,E=n.disableAbbreviations,R=E===void 0?!1:E,C=n.prefix,I=C===void 0?"":C,k=n.transformRawValue,B=k===void 0?function(L){return L}:k,K=B(e);if(K==="-")return K;var F=R?[]:["k","m","b"],Z=new RegExp("((^|\\D)-\\d)|(-".concat(Fi(I),")")),ne=Z.test(K),ae=RegExp("(\\d+)-?".concat(Fi(I))).exec(e)||[],P=ae[0],x=ae[1],D=I?P?K.replace(P,"").concat(x):K.replace(I,""):K,b=pj(D,r),N=gj(b,vr([r,o],F,!0)),M=N;if(!R){if(F.some(function(L){return L===N.toLowerCase().replace(o,"")}))return"";var O=mj(N,o);O&&(M=String(O))}var Oe=ne&&v?"-":"";if(o&&M.includes(o)){var ke=N.split(o),ee=ke[0],de=ke[1],_e=p&&de?de.slice(0,p):de,ze=h?"".concat(o).concat(_e):"";return"".concat(Oe).concat(ee).concat(ze)}return"".concat(Oe).concat(M)},yj=function(n,e,t){if(t!==void 0&&n.length>1){if(t===0)return n.replace(e,"");if(n.includes(e)){var r=n.split(e),s=r[0],o=r[1];if(o.length===t)return n;if(o.length>t)return"".concat(s).concat(e).concat(o.slice(0,t))}var u=n.length>t?new RegExp("(\\d+)(\\d{".concat(t,"})")):new RegExp("(\\d)(\\d+)"),h=n.match(u);if(h){var s=h[1],o=h[2];return"".concat(s).concat(e).concat(o)}}return n},RD=function(n,e){var t=e.groupSeparator,r=t===void 0?",":t,s=e.decimalSeparator,o=s===void 0?".":s,u=new RegExp("\\d([^".concat(Fi(r)).concat(Fi(o),"0-9]+)")),h=n.match(u);return h?h[1]:void 0},Mh=function(n){var e=n.value,t=n.decimalSeparator,r=n.intlConfig,s=n.decimalScale,o=n.prefix,u=o===void 0?"":o,h=n.suffix,f=h===void 0?"":h;if(e===""||e===void 0)return"";if(e==="-")return"-";var p=new RegExp("^\\d?-".concat(u?"".concat(Fi(u),"?"):"","\\d")).test(e),y=t!=="."?_j(e,t,p):e;t&&t!=="-"&&y.startsWith(t)&&(y="0"+y);var v=r||{},E=v.locale,R=v.currency,C=vT(v,["locale","currency"]),I=Ye(Ye({},C),{minimumFractionDigits:s||0,maximumFractionDigits:20}),k=r?new Intl.NumberFormat(E,Ye(Ye({},I),R&&{style:"currency",currency:R})):new Intl.NumberFormat(void 0,I),B=k.formatToParts(Number(y)),K=vj(B,n),F=RD(K,Ye({},n)),Z=e.slice(-1)===t?t:"",ne=y.match(RegExp("\\d+\\.(\\d+)"))||[],ae=ne[1];return s===void 0&&ae&&t&&(K.includes(t)?K=K.replace(RegExp("(\\d+)(".concat(Fi(t),")(\\d+)"),"g"),"$1$2".concat(ae)):F&&!f?K=K.replace(F,"".concat(t).concat(ae).concat(F)):K="".concat(K).concat(t).concat(ae)),f&&Z?"".concat(K).concat(Z).concat(f):F&&Z?K.replace(F,"".concat(Z).concat(F)):F&&f?K.replace(F,"".concat(Z).concat(f)):[K,Z,f].join("")},_j=function(n,e,t){var r=n;return e&&e!=="."&&(r=r.replace(RegExp(Fi(e),"g"),"."),t&&e==="-"&&(r="-".concat(r.slice(1)))),r},vj=function(n,e){var t=e.prefix,r=e.groupSeparator,s=e.decimalSeparator,o=e.decimalScale,u=e.disableGroupSeparators,h=u===void 0?!1:u;return n.reduce(function(f,p,y){var v=p.type,E=p.value;return y===0&&t?v==="minusSign"?[E,t]:v==="currency"?vr(vr([],f,!0),[t],!1):[t,E]:v==="currency"?t?f:vr(vr([],f,!0),[E],!1):v==="group"?h?f:vr(vr([],f,!0),[r!==void 0?r:E],!1):v==="decimal"?o!==void 0&&o===0?f:vr(vr([],f,!0),[s!==void 0?s:E],!1):v==="fraction"?vr(vr([],f,!0),[o!==void 0?E.slice(0,o):E],!1):vr(vr([],f,!0),[E],!1)},[""]).join("")},Ej={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},Tj=function(n){var e=n||{},t=e.locale,r=e.currency,s=vT(e,["locale","currency"]),o=t?new Intl.NumberFormat(t,Ye(Ye({},s),r&&{currency:r,style:"currency"})):new Intl.NumberFormat;return o.formatToParts(1000.1).reduce(function(u,h,f){return h.type==="currency"?f===0?Ye(Ye({},u),{currencySymbol:h.value,prefix:h.value}):Ye(Ye({},u),{currencySymbol:h.value,suffix:h.value}):h.type==="group"?Ye(Ye({},u),{groupSeparator:h.value}):h.type==="decimal"?Ye(Ye({},u),{decimalSeparator:h.value}):u},Ej)},IR=function(n){return RegExp(/\d/,"gi").test(n)},bj=function(n,e,t){if(t===void 0||e===""||e===void 0||n===""||n===void 0)return n;if(!n.match(/\d/g))return"";var r=n.split(e),s=r[0],o=r[1];if(t===0)return s;var u=o||"";if(u.length<t)for(;u.length<t;)u+="0";else u=u.slice(0,t);return"".concat(s).concat(e).concat(u)},wj=function(n){var e=n.selectionStart,t=n.value,r=n.lastKeyStroke,s=n.stateValue,o=n.groupSeparator,u=e,h=t;if(s&&u){var f=t.split("");return r==="Backspace"&&s[u]===o&&(f.splice(u-1,1),u-=1),r==="Delete"&&s[u]===o&&(f.splice(u,1),u+=1),h=f.join(""),{modifiedValue:h,cursorPosition:u}}return{modifiedValue:h,cursorPosition:e}},CD=Y.forwardRef(function(n,e){var t=n.allowDecimals,r=t===void 0?!0:t,s=n.allowNegativeValue,o=s===void 0?!0:s,u=n.id,h=n.name,f=n.className,p=n.customInput,y=n.decimalsLimit,v=n.defaultValue,E=n.disabled,R=E===void 0?!1:E,C=n.maxLength,I=n.value,k=n.onValueChange,B=n.fixedDecimalLength,K=n.placeholder,F=n.decimalScale,Z=n.prefix,ne=n.suffix,ae=n.intlConfig,P=n.step,x=n.min,D=n.max,b=n.disableGroupSeparators,N=b===void 0?!1:b,M=n.disableAbbreviations,O=M===void 0?!1:M,Oe=n.decimalSeparator,ke=n.groupSeparator,ee=n.onChange,de=n.onFocus,_e=n.onBlur,ze=n.onKeyDown,L=n.onKeyUp,oe=n.transformRawValue,pe=n.formatValueOnBlur,he=pe===void 0?!0:pe,Se=vT(n,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue","formatValueOnBlur"]);if(Oe&&IR(Oe))throw new Error("decimalSeparator cannot be a number");if(ke&&IR(ke))throw new Error("groupSeparator cannot be a number");var Pe=Y.useMemo(function(){return Tj(ae)},[ae]),ve=Oe||Pe.decimalSeparator||"",yt=ke||Pe.groupSeparator||"";if(ve&&yt&&ve===yt&&N===!1)throw new Error("decimalSeparator cannot be the same as groupSeparator");var Ke={decimalSeparator:ve,groupSeparator:yt,disableGroupSeparators:N,intlConfig:ae,prefix:Z||Pe.prefix,suffix:ne},Zn={decimalSeparator:ve,groupSeparator:yt,allowDecimals:r,decimalsLimit:y||B||2,allowNegativeValue:o,disableAbbreviations:O,prefix:Z||Pe.prefix,transformRawValue:oe},Hr=Y.useState(function(){return v!=null?Mh(Ye(Ye({},Ke),{decimalScale:F,value:String(v)})):I!=null?Mh(Ye(Ye({},Ke),{decimalScale:F,value:String(I)})):""}),Et=Hr[0],ur=Hr[1],ni=Y.useState(!1),Gr=ni[0],Wa=ni[1],Xa=Y.useState(0),On=Xa[0],Ja=Xa[1],Us=Y.useState(0),qi=Us[0],Hi=Us[1],pl=Y.useState(null),Bs=pl[0],Za=pl[1],cr=Y.useRef(null);Y.useImperativeHandle(e,function(){return cr.current});var _t=function(Je,qt){Wa(!0);var Tt=wj({selectionStart:qt,value:Je,lastKeyStroke:Bs,stateValue:Et,groupSeparator:yt}),mn=Tt.modifiedValue,Xt=Tt.cursorPosition,bt=yv(Ye({value:mn},Zn));if(!(C&&bt.replace(/-/g,"").length>C)){if(bt===""||bt==="-"||bt===ve){k&&k(void 0,h,{float:null,formatted:"",value:""}),ur(bt),Ja(1);return}var kn=ve?bt.replace(ve,"."):bt,er=parseFloat(kn),Ki=Mh(Ye({value:bt},Ke));if(Xt!=null){var qn=Xt+(Ki.length-Je.length);qn=qn<=0?Z?Z.length:0:qn,Ja(qn),Hi(qi+1)}if(ur(Ki),k){var eo={float:er,formatted:Ki,value:bt};k(bt,h,eo)}}},Xe=function(Je){var qt=Je.target,Tt=qt.value,mn=qt.selectionStart;_t(Tt,mn),ee&&ee(Je)},jn=function(Je){return de&&de(Je),Et?Et.length:0},fn=function(Je){var qt=Je.target.value,Tt=yv(Ye({value:qt},Zn));if(Tt==="-"||Tt===ve||!Tt){ur(""),_e&&_e(Je);return}var mn=yj(Tt,ve,B),Xt=bj(mn,ve,F!==void 0?F:B),bt=ve?Xt.replace(ve,"."):Xt,kn=parseFloat(bt),er=Mh(Ye(Ye({},Ke),{value:Xt}));k&&he&&k(Xt,h,{float:kn,formatted:er,value:Xt}),ur(er),_e&&_e(Je)},gl=function(Je){var qt=Je.key;if(Za(qt),P&&(qt==="ArrowUp"||qt==="ArrowDown")){Je.preventDefault(),Ja(Et.length);var Tt=I!=null?String(I):void 0,mn=ve&&Tt?Tt.replace(ve,"."):Tt,Xt=parseFloat(mn??yv(Ye({value:Et},Zn)))||0,bt=qt==="ArrowUp"?Xt+P:Xt-P;if(x!==void 0&&bt<Number(x)||!o&&bt<0||D!==void 0&&bt>Number(D))return;var kn=String(P).includes(".")?Number(String(P).split(".")[1].length):void 0;_t(String(kn?bt.toFixed(kn):bt).replace(".",ve))}ze&&ze(Je)},Ec=function(Je){var qt=Je.key,Tt=Je.currentTarget.selectionStart;if(qt!=="ArrowUp"&&qt!=="ArrowDown"&&Et!=="-"){var mn=RD(Et,{groupSeparator:yt,decimalSeparator:ve});if(mn&&Tt&&Tt>Et.length-mn.length&&cr.current){var Xt=Et.length-mn.length;cr.current.setSelectionRange(Xt,Xt)}}L&&L(Je)};Y.useEffect(function(){I==null&&v==null&&ur("")},[v,I]),Y.useEffect(function(){Gr&&Et!=="-"&&cr.current&&document.activeElement===cr.current&&cr.current.setSelectionRange(On,On)},[Et,On,cr,Gr,qi]);var Gi=function(){return I!=null&&Et!=="-"&&(!ve||Et!==ve)?Mh(Ye(Ye({},Ke),{decimalScale:Gr?void 0:F,value:String(I)})):Et},ri=Ye({type:"text",inputMode:"decimal",id:u,name:h,className:f,onChange:Xe,onBlur:fn,onFocus:jn,onKeyDown:gl,onKeyUp:Ec,placeholder:K,disabled:R,value:Gi(),ref:cr},Se);if(p){var $i=p;return dp.createElement($i,Ye({},ri))}return dp.createElement("input",Ye({},ri))});CD.displayName="CurrencyInput";function Sj(){const n=C0(),[{basket:e}]=ol(),t=e.reduce((s,o)=>o.price+s,0),r=e.length;return z.jsxs("div",{className:"flex flex-col items-center justify-center w-full max-w-[300px] sm:max-w-[400px] h-[300px] p-4 bg-[#f3f3f3] border border-[#dddddd] rounded mx-auto",children:[z.jsxs("div",{children:[z.jsxs("p",{className:"text-base sm:text-lg",children:["Subtotal (",r," items):"," ",z.jsx("strong",{children:z.jsx(CD,{value:t,prefix:"₹",decimalsLimit:2,readOnly:!0,intlConfig:{locale:"en-IN",currency:"INR"},className:"bg-transparent border-none text-lg font-semibold"})})]}),z.jsxs("small",{className:"flex items-center mt-2 text-sm",children:[z.jsx("input",{type:"checkbox",className:"mr-2"}),"This order contains a gift"]})]}),z.jsx("button",{className:"bg-[#f0c14b] rounded w-full  border border-[#a88734] mt-4 text-[#111] font-medium hover:bg-yellow-400 transition",onClick:s=>n("/payment"),children:"Proceed to Checkout"})]})}function xD({id:n,image:e,title:t,price:r,rating:s,index:o}){const[{basket:u},h]=ol(),f=()=>{h({type:"REMOVE_FROM_BASKET",id:n})};return z.jsxs("div",{className:"flex flex-col  m-4 md:flex-row mb-5 bg-gray-50 border border-gray-300 rounded-lg p-4 items-center justify-center",children:[z.jsx("img",{className:"object-contain w-full md:w-44 h-44 rounded-md",src:e,alt:t}),z.jsxs("div",{className:"pl-0 md:pl-5 mt-4 md:mt-0 text-center md:text-left flex-1",children:[z.jsx("p",{className:"text-lg font-bold",children:t}),z.jsxs("p",{className:"mt-1",children:[z.jsx("small",{children:"₹"}),z.jsx("strong",{children:r})]}),z.jsx("div",{className:"flex justify-center md:justify-start mt-2 space-x-1 text-yellow-500",children:Array(s).fill().map((p,y)=>z.jsx("p",{children:"⭐"},y))}),z.jsx("button",{className:"mt-4 bg-yellow-500 hover:bg-yellow-600 text-white font-medium py-2 px-6 rounded-lg transition duration-200",onClick:f,children:"Remove from Basket"})]})]})}function Aj(){const[{basket:n},e]=ol();return z.jsxs("div",{className:" w-full",children:[z.jsxs("div",{className:"flex justify-between",children:[z.jsx("div",{className:"w-8/10 ",children:z.jsx(ID,{})}),z.jsx("div",{className:"w-2/10",children:z.jsx(Sj,{})})]}),z.jsx("div",{className:"w-4/10 border-gray-500",children:n.map((t,r)=>z.jsx(xD,{id:t.id,title:t.title,price:t.price,rating:t.rating,image:t.image,index:r},t.id))})]})}function Ij(){const n=C0(),[e,t]=Y.useState(""),[r,s]=Y.useState(""),[o,u]=Y.useState(!1),[h,f]=Y.useState(""),p=v=>{v.preventDefault(),u(!0),f(""),jp.signInWithEmailAndPassword(e,r).then(E=>{console.log(E),E&&n("/")}).catch(E=>{f(E.message),u(!1)})},y=v=>{v.preventDefault(),u(!0),f(""),jp.createUserWithEmailAndPassword(e,r).then(E=>{E&&n("/")}).catch(E=>{f(E.message),u(!1)})};return z.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[z.jsx(Jr,{to:"/",children:z.jsx("img",{className:"w-28 mb-6",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"Amazon Logo"})}),z.jsxs("div",{className:"w-full max-w-sm bg-white border border-gray-300 rounded-md p-6 shadow-md",children:[z.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Sign-In"}),z.jsxs("form",{onSubmit:p,children:[z.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"E-mail"}),z.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),className:"w-full mb-4 px-3 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-yellow-500",disabled:o}),z.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),z.jsx("input",{type:"password",value:r,onChange:v=>s(v.target.value),className:"w-full mb-4 px-3 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-yellow-500",disabled:o}),z.jsx("button",{type:"submit",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-md transition",disabled:o,children:o?"Processing...":"Sign In"})]}),h&&z.jsx("p",{className:"text-red-600 text-sm mt-2",children:h}),z.jsx("p",{className:"text-xs text-gray-600 mt-4",children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),z.jsx("button",{onClick:y,className:"w-full mt-4 py-2 border border-gray-400 rounded-md hover:bg-gray-100 transition",disabled:o,children:o?"Processing...":"Create your Amazon Account"})]})]})}function Rj(){const[{basket:n,user:e}]=ol(),t=n.reduce((o,u)=>o+u.price,0)*100,r=()=>{const o=document.createElement("script");o.src="https://checkout.razorpay.com/v1/checkout.js",o.async=!0,document.body.appendChild(o)};dp.useEffect(()=>{r()},[]);const s=()=>{const o={key:"rzp_test_YourKeyHere",amount:t,currency:"INR",name:"Demo Project Store",description:"Demo Payment",notes:{website:window.location.hostname},handler:function(h){alert(`Payment Successful!
Payment ID: `+h.razorpay_payment_id)},prefill:{name:e?e.email:"Test User",email:e?e.email:"test@example.com",contact:"9999999999"},theme:{color:"#3399cc"}};new window.Razorpay(o).open()};return z.jsx("div",{className:"bg-gray-100 min-h-screen py-6",children:z.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 shadow-md rounded-xl space-y-8",children:[z.jsxs("div",{className:"flex space-x-6 border-b pb-4",children:[z.jsx("div",{className:"w-1/4",children:z.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Address"})}),z.jsxs("div",{className:"w-3/4 text-gray-700",children:[z.jsx("p",{children:e==null?void 0:e.email}),z.jsx("p",{children:"123 React Lane"}),z.jsx("p",{children:"Los Angeles, CA"})]})]}),z.jsxs("div",{className:"flex space-x-6 border-b pb-4",children:[z.jsx("div",{className:"w-1/4",children:z.jsx("h3",{className:"text-lg font-semibold",children:"Review Items"})}),z.jsx("div",{className:"w-3/4 space-y-4",children:n.map((o,u)=>z.jsx(xD,{id:o.id,title:o.title,price:o.price,rating:o.rating,image:o.image,index:u},o.id))})]}),z.jsxs("div",{className:"flex space-x-6",children:[z.jsx("div",{className:"w-1/4",children:z.jsx("h3",{className:"text-lg font-semibold",children:"Payment Method"})}),z.jsxs("div",{className:"w-3/4 text-gray-700 flex items-center space-x-4",children:[z.jsxs("span",{className:"text-lg font-semibold",children:["Total: ₹",(t/100).toFixed(2)]}),z.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"Pay Now"})]})]})]})})}function Cj(){return z.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[z.jsx("h1",{children:"Privacy Policy"}),z.jsx("p",{children:"This is a student project and does not collect personal data. Any data entered is for demonstration only."})]})}function xj(){return z.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[z.jsx("h1",{children:"Terms and Conditions"}),z.jsx("p",{children:"This website is for academic purposes only. All transactions are simulated. No real purchases or deliveries occur."})]})}function Pj(){return z.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[z.jsx("h1",{children:"Cancellation and Refund Policy"}),z.jsx("p",{children:"Since this is a project demo, no real products are sold and no actual refunds are applicable."})]})}function Dj(){return z.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[z.jsx("h1",{children:"Shipping and Delivery Policy"}),z.jsx("p",{children:"This is a fictional e-commerce project. No items will be delivered. All orders are for educational purposes only."})]})}function Nj(){return z.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[z.jsx("h1",{children:"Contact Us"}),z.jsxs("p",{children:["This is a student project. For any queries, contact: ",z.jsx("br",{}),"Email: studentproject@example.com ",z.jsx("br",{}),"Phone: 99999-99999 (dummy)"]})]})}function Hm(){return z.jsx("footer",{className:"bg-black text-white text-center py-4 mt-[100px]",children:z.jsxs("nav",{className:"space-x-4",children:[z.jsx(Jr,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),z.jsx(Jr,{to:"/terms",className:"hover:underline",children:"Terms and Conditions"}),z.jsx(Jr,{to:"/refund",className:"hover:underline",children:"Cancellation and Refund"}),z.jsx(Jr,{to:"/shipping",className:"hover:underline",children:"Shipping and Delivery"}),z.jsx(Jr,{to:"/contact",className:"hover:underline",children:"Contact Us"})]})})}function Oj(){const[{},n]=ol();return Y.useEffect(()=>{jp.onIdTokenChanged(e=>{console.log("THE user is",e),n(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})})},[n]),z.jsx(jM,{children:z.jsxs(_M,{children:[z.jsx(Ei,{path:"/",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(dj,{}),z.jsx(Hm,{})]})}),z.jsx(Ei,{path:"/checkout",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(Aj,{}),z.jsx(Hm,{})]})}),z.jsx(Ei,{path:"/login",element:z.jsxs(z.Fragment,{children:[z.jsx(Ij,{}),z.jsx(Hm,{})]})}),z.jsx(Ei,{path:"/payment",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(Rj,{}),z.jsx(Hm,{})]})}),z.jsx(Ei,{path:"/privacy",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(Cj,{})]})}),z.jsx(Ei,{path:"/terms",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(xj,{})]})}),z.jsx(Ei,{path:"/refund",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(Pj,{})]})}),z.jsx(Ei,{path:"/shipping",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(Dj,{})]})}),z.jsx(Ei,{path:"/contact",element:z.jsxs(z.Fragment,{children:[z.jsx(va,{}),z.jsx(Nj,{})]})})]})})}const kj={basket:[],user:null},Vj=(n,e)=>{switch(console.log(e),e.type){case"ADD_TO_BASKET":return{...n,basket:[...n.basket,e.item]};case"REMOVE_FROM_BASKET":const t=e.id;let r=[...n.basket];const s=r.findIndex(o=>o.id===t);return s>=0?r.splice(s,1):console.warn(`Can't remove product with id ${t} as it's not in basket!`),{...n,basket:r};case"SET_USER":return{...n,user:e.user};default:return n}};hN.createRoot(document.getElementById("root")).render(z.jsx(Y.StrictMode,{children:z.jsx(JM,{initialState:kj,reducer:Vj,children:z.jsx(Oj,{})})}));
