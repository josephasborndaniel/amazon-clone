function j2(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function q2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var N_={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function H2(){if(ES)return ch;ES=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return ch.Fragment=e,ch.jsx=t,ch.jsxs=t,ch}var TS;function G2(){return TS||(TS=1,N_.exports=H2()),N_.exports}var ie=G2(),O_={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function $2(){if(bS)return De;bS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function V(L,ae,ge){this.props=L,this.context=ae,this.refs=C,this.updater=ge||I}V.prototype.isReactComponent={},V.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=V.prototype;function X(L,ae,ge){this.props=L,this.context=ae,this.refs=C,this.updater=ge||I}var F=X.prototype=new B;F.constructor=X,R(F,V.prototype),F.isPureReactComponent=!0;var te=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function P(L,ae,ge,he,we,Oe){return ge=Oe.ref,{$$typeof:n,type:L,key:ae,ref:ge!==void 0?ge:null,props:Oe}}function x(L,ae){return P(L.type,ae,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function w(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ge){return ae[ge]})}var O=/\/+/g;function M(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?w(""+L.key):ae.toString(36)}function N(){}function He(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ge(L,ae,ge,he,we){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(Oe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case n:case e:xe=!0;break;case y:return xe=L._init,Ge(xe(L._payload),ae,ge,he,we)}}if(xe)return we=we(L),xe=he===""?"."+M(L,0):he,te(we)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),Ge(we,ae,ge,"",function(Br){return Br})):we!=null&&(D(we)&&(we=x(we,ge+(we.key==null||L&&L.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+xe)),ae.push(we)),1;xe=0;var sn=he===""?".":he+":";if(te(L))for(var dt=0;dt<L.length;dt++)he=L[dt],Oe=sn+M(he,dt),xe+=Ge(he,ae,ge,Oe,we);else if(dt=E(L),typeof dt=="function")for(L=dt.call(L),dt=0;!(he=L.next()).done;)he=he.value,Oe=sn+M(he,dt++),xe+=Ge(he,ae,ge,Oe,we);else if(Oe==="object"){if(typeof L.then=="function")return Ge(He(L),ae,ge,he,we);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return xe}function J(L,ae,ge){if(L==null)return L;var he=[],we=0;return Ge(L,he,"","",function(Oe){return ae.call(ge,Oe,we++)}),he}function me(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(ge){(L._status===0||L._status===-1)&&(L._status=1,L._result=ge)},function(ge){(L._status===0||L._status===-1)&&(L._status=2,L._result=ge)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Qe(){}return De.Children={map:J,forEach:function(L,ae,ge){J(L,function(){ae.apply(this,arguments)},ge)},count:function(L){var ae=0;return J(L,function(){ae++}),ae},toArray:function(L){return J(L,function(ae){return ae})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},De.Component=V,De.Fragment=t,De.Profiler=s,De.PureComponent=X,De.StrictMode=r,De.Suspense=f,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,De.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ne.H.useMemoCache(L)}},De.cache=function(L){return function(){return L.apply(null,arguments)}},De.cloneElement=function(L,ae,ge){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=R({},L.props),we=L.key,Oe=void 0;if(ae!=null)for(xe in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(we=""+ae.key),ae)!ce.call(ae,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ae.ref===void 0||(he[xe]=ae[xe]);var xe=arguments.length-2;if(xe===1)he.children=ge;else if(1<xe){for(var sn=Array(xe),dt=0;dt<xe;dt++)sn[dt]=arguments[dt+2];he.children=sn}return P(L.type,we,void 0,void 0,Oe,he)},De.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},De.createElement=function(L,ae,ge){var he,we={},Oe=null;if(ae!=null)for(he in ae.key!==void 0&&(Oe=""+ae.key),ae)ce.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=ae[he]);var xe=arguments.length-2;if(xe===1)we.children=ge;else if(1<xe){for(var sn=Array(xe),dt=0;dt<xe;dt++)sn[dt]=arguments[dt+2];we.children=sn}if(L&&L.defaultProps)for(he in xe=L.defaultProps,xe)we[he]===void 0&&(we[he]=xe[he]);return P(L,Oe,void 0,void 0,null,we)},De.createRef=function(){return{current:null}},De.forwardRef=function(L){return{$$typeof:h,render:L}},De.isValidElement=D,De.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:me}},De.memo=function(L,ae){return{$$typeof:p,type:L,compare:ae===void 0?null:ae}},De.startTransition=function(L){var ae=ne.T,ge={};ne.T=ge;try{var he=L(),we=ne.S;we!==null&&we(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Qe,Te)}catch(Oe){Te(Oe)}finally{ne.T=ae}},De.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},De.use=function(L){return ne.H.use(L)},De.useActionState=function(L,ae,ge){return ne.H.useActionState(L,ae,ge)},De.useCallback=function(L,ae){return ne.H.useCallback(L,ae)},De.useContext=function(L){return ne.H.useContext(L)},De.useDebugValue=function(){},De.useDeferredValue=function(L,ae){return ne.H.useDeferredValue(L,ae)},De.useEffect=function(L,ae,ge){var he=ne.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(L,ae)},De.useId=function(){return ne.H.useId()},De.useImperativeHandle=function(L,ae,ge){return ne.H.useImperativeHandle(L,ae,ge)},De.useInsertionEffect=function(L,ae){return ne.H.useInsertionEffect(L,ae)},De.useLayoutEffect=function(L,ae){return ne.H.useLayoutEffect(L,ae)},De.useMemo=function(L,ae){return ne.H.useMemo(L,ae)},De.useOptimistic=function(L,ae){return ne.H.useOptimistic(L,ae)},De.useReducer=function(L,ae,ge){return ne.H.useReducer(L,ae,ge)},De.useRef=function(L){return ne.H.useRef(L)},De.useState=function(L){return ne.H.useState(L)},De.useSyncExternalStore=function(L,ae,ge){return ne.H.useSyncExternalStore(L,ae,ge)},De.useTransition=function(){return ne.H.useTransition()},De.version="19.1.0",De}var wS;function o0(){return wS||(wS=1,O_.exports=$2()),O_.exports}var W=o0();const K2=q2(W),SS=j2({__proto__:null,default:K2},[W]);var k_={exports:{}},hh={},V_={exports:{}},M_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function Q2(){return AS||(AS=1,function(n){function e(J,me){var Te=J.length;J.push(me);e:for(;0<Te;){var Qe=Te-1>>>1,L=J[Qe];if(0<s(L,me))J[Qe]=me,J[Te]=L,Te=Qe;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var me=J[0],Te=J.pop();if(Te!==me){J[0]=Te;e:for(var Qe=0,L=J.length,ae=L>>>1;Qe<ae;){var ge=2*(Qe+1)-1,he=J[ge],we=ge+1,Oe=J[we];if(0>s(he,Te))we<L&&0>s(Oe,he)?(J[Qe]=Oe,J[we]=Te,Qe=we):(J[Qe]=he,J[ge]=Te,Qe=ge);else if(we<L&&0>s(Oe,Te))J[Qe]=Oe,J[we]=Te,Qe=we;else break e}}return me}function s(J,me){var Te=J.sortIndex-me.sortIndex;return Te!==0?Te:J.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,v=null,E=3,I=!1,R=!1,C=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=J)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function ne(J){if(C=!1,te(J),!R)if(t(f)!==null)R=!0,ce||(ce=!0,M());else{var me=t(p);me!==null&&Ge(ne,me.startTime-J)}}var ce=!1,P=-1,x=5,D=-1;function w(){return V?!0:!(n.unstable_now()-D<x)}function O(){if(V=!1,ce){var J=n.unstable_now();D=J;var me=!0;try{e:{R=!1,C&&(C=!1,X(P),P=-1),I=!0;var Te=E;try{t:{for(te(J),v=t(f);v!==null&&!(v.expirationTime>J&&w());){var Qe=v.callback;if(typeof Qe=="function"){v.callback=null,E=v.priorityLevel;var L=Qe(v.expirationTime<=J);if(J=n.unstable_now(),typeof L=="function"){v.callback=L,te(J),me=!0;break t}v===t(f)&&r(f),te(J)}else r(f);v=t(f)}if(v!==null)me=!0;else{var ae=t(p);ae!==null&&Ge(ne,ae.startTime-J),me=!1}}break e}finally{v=null,E=Te,I=!1}me=void 0}}finally{me?M():ce=!1}}}var M;if(typeof F=="function")M=function(){F(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,He=N.port2;N.port1.onmessage=O,M=function(){He.postMessage(null)}}else M=function(){B(O,0)};function Ge(J,me){P=B(function(){J(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(J){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var Te=E;E=me;try{return J()}finally{E=Te}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(J,me){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Te=E;E=J;try{return me()}finally{E=Te}},n.unstable_scheduleCallback=function(J,me,Te){var Qe=n.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Qe+Te:Qe):Te=Qe,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Te+L,J={id:y++,callback:me,priorityLevel:J,startTime:Te,expirationTime:L,sortIndex:-1},Te>Qe?(J.sortIndex=Te,e(p,J),t(f)===null&&J===t(p)&&(C?(X(P),P=-1):C=!0,Ge(ne,Te-Qe))):(J.sortIndex=L,e(f,J),R||I||(R=!0,ce||(ce=!0,M()))),J},n.unstable_shouldYield=w,n.unstable_wrapCallback=function(J){var me=E;return function(){var Te=E;E=me;try{return J.apply(this,arguments)}finally{E=Te}}}}(M_)),M_}var IS;function Y2(){return IS||(IS=1,V_.exports=Q2()),V_.exports}var L_={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function W2(){if(RS)return In;RS=1;var n=o0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},In.flushSync=function(f){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=y,r.d.f()}},In.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},In.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},In.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:I}):y==="script"&&r.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},In.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},In.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},In.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},In.requestFormReset=function(f){r.d.r(f)},In.unstable_batchedUpdates=function(f,p){return f(p)},In.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.1.0",In}var CS;function X2(){if(CS)return L_.exports;CS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),L_.exports=W2(),L_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function J2(){if(xS)return hh;xS=1;var n=Y2(),e=o0(),t=X2();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return h(m),i;if(g===c)return h(m),a;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=g;else{for(var b=!1,S=m.child;S;){if(S===l){b=!0,l=m,c=g;break}if(S===c){b=!0,c=m,l=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===l){b=!0,l=g,c=m;break}if(S===c){b=!0,c=g,l=m;break}S=S.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function He(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case V:return"Profiler";case C:return"StrictMode";case ne:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case F:return(i.displayName||"Context")+".Provider";case X:return(i._context.displayName||"Context")+".Consumer";case te:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:He(i.type)||"Memo";case x:a=i._payload,i=i._init;try{return He(i(a))}catch{}}return null}var Ge=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Qe=[],L=-1;function ae(i){return{current:i}}function ge(i){0>L||(i.current=Qe[L],Qe[L]=null,L--)}function he(i,a){L++,Qe[L]=i.current,i.current=a}var we=ae(null),Oe=ae(null),xe=ae(null),sn=ae(null);function dt(i,a){switch(he(xe,a),he(Oe,i),he(we,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Qw(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Qw(a),i=Yw(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(we),he(we,i)}function Br(){ge(we),ge(Oe),ge(xe)}function ys(i){i.memoizedState!==null&&he(sn,i);var a=we.current,l=Yw(a,i.type);a!==l&&(he(Oe,i),he(we,l))}function Si(i){Oe.current===i&&(ge(we),ge(Oe)),sn.current===i&&(ge(sn),sh._currentValue=Te)}var Ra=Object.prototype.hasOwnProperty,Ca=n.unstable_scheduleCallback,xa=n.unstable_cancelCallback,nc=n.unstable_shouldYield,Jd=n.unstable_requestPaint,hr=n.unstable_now,Ng=n.unstable_getCurrentPriorityLevel,rc=n.unstable_ImmediatePriority,Qo=n.unstable_UserBlockingPriority,Pa=n.unstable_NormalPriority,Og=n.unstable_LowPriority,Yo=n.unstable_IdlePriority,ic=n.log,Zd=n.unstable_setDisableYieldValue,xt=null,Ze=null;function Yn(i){if(typeof ic=="function"&&Zd(i),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(xt,i)}catch{}}var Sn=Math.clz32?Math.clz32:Da,ef=Math.log,kg=Math.LN2;function Da(i){return i>>>=0,i===0?32:31-(ef(i)/kg|0)|0}var Na=256,Oa=4194304;function xr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wo(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=xr(c):(b&=S,b!==0?m=xr(b):l||(l=S&~i,l!==0&&(m=xr(l))))):(S=c&~g,S!==0?m=xr(S):b!==0?m=xr(b):l||(l=c&~i,l!==0&&(m=xr(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function ka(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function sc(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var i=Na;return Na<<=1,(Na&4194048)===0&&(Na=256),i}function oc(){var i=Oa;return Oa<<=1,(Oa&62914560)===0&&(Oa=4194304),i}function Ai(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ii(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function lc(i,a,l,c,m,g){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,k=i.expirationTimes,G=i.hiddenUpdates;for(l=b&~l;0<l;){var ee=31-Sn(l),se=1<<ee;S[ee]=0,k[ee]=-1;var $=G[ee];if($!==null)for(G[ee]=null,ee=0;ee<$.length;ee++){var K=$[ee];K!==null&&(K.lane&=-536870913)}l&=~se}c!==0&&zr(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~a))}function zr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Sn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function uc(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-Sn(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function _s(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vs(){var i=me.p;return i!==0?i:(i=window.event,i===void 0?32:mS(i.type))}function tf(i,a){var l=me.p;try{return me.p=i,a()}finally{me.p=l}}var gt=Math.random().toString(36).slice(2),Xt="__reactFiber$"+gt,Ht="__reactProps$"+gt,dr="__reactContainer$"+gt,cc="__reactEvents$"+gt,Vg="__reactListeners$"+gt,Es="__reactHandles$"+gt,nf="__reactResources$"+gt,Va="__reactMarker$"+gt;function Ts(i){delete i[Xt],delete i[Ht],delete i[cc],delete i[Vg],delete i[Es]}function Ri(i){var a=i[Xt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[dr]||l[Xt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Zw(i);i!==null;){if(l=i[Xt])return l;i=Zw(i)}return a}i=l,l=i.parentNode}return null}function Fr(i){if(i=i[Xt]||i[dr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function jr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Nn(i){var a=i[nf];return a||(a=i[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Lt(i){i[Va]=!0}var hc=new Set,Jo={};function Pr(i,a){Ci(i,a),Ci(i+"Capture",a)}function Ci(i,a){for(Jo[i]=a,i=0;i<a.length;i++)hc.add(a[i])}var rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sf={},Ma={};function af(i){return Ra.call(Ma,i)?!0:Ra.call(sf,i)?!1:rf.test(i)?Ma[i]=!0:(sf[i]=!0,!1)}function bs(i,a,l){if(af(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function qr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function mn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var La,of;function xi(i){if(La===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||"",of=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+i+of}var Zo=!1;function el(i,a){if(!i||Zo)return"";Zo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(K){var $=K}Reflect.construct(i,[],se)}else{try{se.call()}catch(K){$=K}i.call(se.prototype)}}else{try{throw Error()}catch(K){$=K}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var k=b.split(`
`),G=S.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===G.length)for(c=k.length-1,m=G.length-1;1<=c&&0<=m&&k[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==G[m]){var ee=`
`+k[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Zo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?xi(l):""}function dc(i){switch(i.tag){case 26:case 27:case 5:return xi(i.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return el(i.type,!1);case 11:return el(i.type.render,!1);case 1:return el(i.type,!0);case 31:return xi("Activity");default:return""}}function tl(i){try{var a="";do a+=dc(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fc(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Mg(i){var a=fc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function nl(i){i._valueTracker||(i._valueTracker=Mg(i))}function mc(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=fc(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Ua(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Lg=/[\n"\\]/g;function Gt(i){return i.replace(Lg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wn(i,a,l,c,m,g,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+On(a)):i.value!==""+On(a)&&(i.value=""+On(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?ws(i,b,On(a)):l!=null?ws(i,b,On(l)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+On(S):i.removeAttribute("name")}function Ba(i,a,l,c,m,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+On(l):"",a=a!=null?""+On(a):l,S||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function ws(i,a,l){a==="number"&&Ua(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pi(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+On(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function it(i,a,l){if(a!=null&&(a=""+On(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+On(l):""}function za(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=On(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function fr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lf(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Fa.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function pc(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&lf(i,m,c)}else for(var g in a)a.hasOwnProperty(g)&&lf(i,g,a[g])}function gc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(i){return Bg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Di=null;function mr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ni=null,Oi=null;function yc(i){var a=Fr(i);if(a&&(i=a.stateNode)){var l=i[Ht]||null;e:switch(i=a.stateNode,a.type){case"input":if(Wn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Gt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[Ht]||null;if(!m)throw Error(r(90));Wn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&mc(c)}break e;case"textarea":it(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Pi(i,!!l.multiple,a,!1)}}}var Hr=!1;function uf(i,a,l){if(Hr)return i(a,l);Hr=!0;try{var c=i(a);return c}finally{if(Hr=!1,(Ni!==null||Oi!==null)&&(nm(),Ni&&(a=Ni,i=Oi,Oi=Ni=null,yc(a),i)))for(a=0;a<i.length;a++)yc(i[a])}}function ja(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Ht]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Dr)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){pr=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{pr=!1}var Gr=null,Ss=null,ki=null;function _c(){if(ki)return ki;var i,a=Ss,l=a.length,c,m="value"in Gr?Gr.value:Gr.textContent,g=m.length;for(i=0;i<l&&a[i]===m[i];i++);var b=l-i;for(c=1;c<=b&&a[l-c]===m[g-c];c++);return ki=m.slice(i,1<c?1-c:void 0)}function $r(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Kr(){return!0}function vc(){return!1}function an(i){function a(l,c,m,g,b){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kr:vc,this.isPropagationStopped=vc,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=an(Je),Ha=y({},Je,{view:0,detail:0}),cf=an(Ha),sl,al,Qr,Ga=y({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qr&&(Qr&&i.type==="mousemove"?(sl=i.screenX-Qr.screenX,al=i.screenY-Qr.screenY):al=sl=0,Qr=i),sl)},movementY:function(i){return"movementY"in i?i.movementY:al}}),gr=an(Ga),hf=y({},Ga,{dataTransfer:0}),zg=an(hf),$a=y({},Ha,{relatedTarget:0}),ol=an($a),Ec=y({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ll=an(Ec),df=y({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ul=an(df),Fg=y({},Je,{data:0}),Tc=an(Fg),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=mf[i])?!!a[i]:!1}function Qa(){return bc}var pf=y({},Ha,{key:function(i){if(i.key){var a=Ka[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=$r(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ff[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(i){return i.type==="keypress"?$r(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$r(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cl=an(pf),gf=y({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=an(gf),Vi=y({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),yf=an(Vi),_f=y({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),vf=an(_f),Ef=y({},Ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),hl=an(Ef),kn=y({},Je,{newState:0,oldState:0}),Tf=an(kn),bf=[9,13,27,32],Yr=Dr&&"CompositionEvent"in window,d=null;Dr&&"documentMode"in document&&(d=document.documentMode);var _=Dr&&"TextEvent"in window&&!d,T=Dr&&(!Yr||d&&8<d&&11>=d),A=" ",j=!1;function Y(i,a){switch(i){case"keyup":return bf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function Jt(i,a){switch(i){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(j=!0,A);case"textInput":return i=a.data,i===A&&j?null:i;default:return null}}function Fe(i,a){if(ze)return i==="compositionend"||!Yr&&Y(i,a)?(i=_c(),ki=Ss=Gr=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!on[i.type]:a==="textarea"}function Mi(i,a,l,c){Ni?Oi?Oi.push(c):Oi=[c]:Ni=c,a=lm(a,"onChange"),0<a.length&&(l=new il("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var pn=null,Wr=null;function Sc(i){qw(i,0)}function wf(i){var a=jr(i);if(mc(a))return i}function cT(i,a){if(i==="change")return a}var hT=!1;if(Dr){var jg;if(Dr){var qg="oninput"in document;if(!qg){var dT=document.createElement("div");dT.setAttribute("oninput","return;"),qg=typeof dT.oninput=="function"}jg=qg}else jg=!1;hT=jg&&(!document.documentMode||9<document.documentMode)}function fT(){pn&&(pn.detachEvent("onpropertychange",mT),Wr=pn=null)}function mT(i){if(i.propertyName==="value"&&wf(Wr)){var a=[];Mi(a,Wr,i,mr(i)),uf(Sc,a)}}function _D(i,a,l){i==="focusin"?(fT(),pn=a,Wr=l,pn.attachEvent("onpropertychange",mT)):i==="focusout"&&fT()}function vD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wf(Wr)}function ED(i,a){if(i==="click")return wf(a)}function TD(i,a){if(i==="input"||i==="change")return wf(a)}function bD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Xn=typeof Object.is=="function"?Object.is:bD;function Ac(i,a){if(Xn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Ra.call(a,m)||!Xn(i[m],a[m]))return!1}return!0}function pT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gT(i,a){var l=pT(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pT(l)}}function yT(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?yT(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function _T(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ua(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ua(i.document)}return a}function Hg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var wD=Dr&&"documentMode"in document&&11>=document.documentMode,dl=null,Gg=null,Ic=null,$g=!1;function vT(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$g||dl==null||dl!==Ua(c)||(c=dl,"selectionStart"in c&&Hg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ic&&Ac(Ic,c)||(Ic=c,c=lm(Gg,"onSelect"),0<c.length&&(a=new il("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=dl)))}function Ya(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var fl={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Kg={},ET={};Dr&&(ET=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Wa(i){if(Kg[i])return Kg[i];if(!fl[i])return i;var a=fl[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in ET)return Kg[i]=a[l];return i}var TT=Wa("animationend"),bT=Wa("animationiteration"),wT=Wa("animationstart"),SD=Wa("transitionrun"),AD=Wa("transitionstart"),ID=Wa("transitioncancel"),ST=Wa("transitionend"),AT=new Map,Qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qg.push("scrollEnd");function Nr(i,a){AT.set(i,a),Pr(a,[i])}var IT=new WeakMap;function yr(i,a){if(typeof i=="object"&&i!==null){var l=IT.get(i);return l!==void 0?l:(a={value:i,source:a,stack:tl(a)},IT.set(i,a),a)}return{value:i,source:a,stack:tl(a)}}var _r=[],ml=0,Yg=0;function Sf(){for(var i=ml,a=Yg=ml=0;a<i;){var l=_r[a];_r[a++]=null;var c=_r[a];_r[a++]=null;var m=_r[a];_r[a++]=null;var g=_r[a];if(_r[a++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&RT(l,m,g)}}function Af(i,a,l,c){_r[ml++]=i,_r[ml++]=a,_r[ml++]=l,_r[ml++]=c,Yg|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Wg(i,a,l,c){return Af(i,a,l,c),If(i)}function pl(i,a){return Af(i,null,null,a),If(i)}function RT(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&a!==null&&(m=31-Sn(l),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),g):null}function If(i){if(50<Xc)throw Xc=0,n_=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var gl={};function RD(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,a,l,c){return new RD(i,a,l,c)}function Xg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Li(i,a){var l=i.alternate;return l===null?(l=Jn(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function CT(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Rf(i,a,l,c,m,g){var b=0;if(c=i,typeof i=="function")Xg(i)&&(b=1);else if(typeof i=="string")b=x2(i,l,we.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Jn(31,l,a,m),i.elementType=D,i.lanes=g,i;case R:return Xa(l.children,m,g,a);case C:b=8,m|=24;break;case V:return i=Jn(12,l,a,m|2),i.elementType=V,i.lanes=g,i;case ne:return i=Jn(13,l,a,m),i.elementType=ne,i.lanes=g,i;case ce:return i=Jn(19,l,a,m),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case F:b=10;break e;case X:b=9;break e;case te:b=11;break e;case P:b=14;break e;case x:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Jn(b,l,a,m),a.elementType=i,a.type=c,a.lanes=g,a}function Xa(i,a,l,c){return i=Jn(7,i,c,a),i.lanes=l,i}function Jg(i,a,l){return i=Jn(6,i,null,a),i.lanes=l,i}function Zg(i,a,l){return a=Jn(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var yl=[],_l=0,Cf=null,xf=0,vr=[],Er=0,Ja=null,Ui=1,Bi="";function Za(i,a){yl[_l++]=xf,yl[_l++]=Cf,Cf=i,xf=a}function xT(i,a,l){vr[Er++]=Ui,vr[Er++]=Bi,vr[Er++]=Ja,Ja=i;var c=Ui;i=Bi;var m=32-Sn(c)-1;c&=~(1<<m),l+=1;var g=32-Sn(a)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,Ui=1<<32-Sn(a)+m|l<<m|c,Bi=g+i}else Ui=1<<g|l<<m|c,Bi=i}function ey(i){i.return!==null&&(Za(i,1),xT(i,1,0))}function ty(i){for(;i===Cf;)Cf=yl[--_l],yl[_l]=null,xf=yl[--_l],yl[_l]=null;for(;i===Ja;)Ja=vr[--Er],vr[Er]=null,Bi=vr[--Er],vr[Er]=null,Ui=vr[--Er],vr[Er]=null}var Vn=null,Pt=null,Ye=!1,eo=null,Xr=!1,ny=Error(r(519));function to(i){var a=Error(r(418,""));throw xc(yr(a,i)),ny}function PT(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Xt]=i,a[Ht]=c,l){case"dialog":Me("cancel",a),Me("close",a);break;case"iframe":case"object":case"embed":Me("load",a);break;case"video":case"audio":for(l=0;l<Zc.length;l++)Me(Zc[l],a);break;case"source":Me("error",a);break;case"img":case"image":case"link":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"input":Me("invalid",a),Ba(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),nl(a);break;case"select":Me("invalid",a);break;case"textarea":Me("invalid",a),za(a,c.value,c.defaultValue,c.children),nl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Kw(a.textContent,l)?(c.popover!=null&&(Me("beforetoggle",a),Me("toggle",a)),c.onScroll!=null&&Me("scroll",a),c.onScrollEnd!=null&&Me("scrollend",a),c.onClick!=null&&(a.onclick=um),a=!0):a=!1,a||to(i)}function DT(i){for(Vn=i.return;Vn;)switch(Vn.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:Vn=Vn.return}}function Rc(i){if(i!==Vn)return!1;if(!Ye)return DT(i),Ye=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||__(i.type,i.memoizedProps)),l=!l),l&&Pt&&to(i),DT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Pt=kr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Pt=null}}else a===27?(a=Pt,zs(i.type)?(i=b_,b_=null,Pt=i):Pt=a):Pt=Vn?kr(i.stateNode.nextSibling):null;return!0}function Cc(){Pt=Vn=null,Ye=!1}function NT(){var i=eo;return i!==null&&(qn===null?qn=i:qn.push.apply(qn,i),eo=null),i}function xc(i){eo===null?eo=[i]:eo.push(i)}var ry=ae(null),no=null,zi=null;function As(i,a,l){he(ry,a._currentValue),a._currentValue=l}function Fi(i){i._currentValue=ry.current,ge(ry)}function iy(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function sy(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var k=0;k<a.length;k++)if(S.context===a[k]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),iy(g.return,l,i),c||(b=null);break e}g=S.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),iy(b,l,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Pc(i,a,l,c){i=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var S=m.type;Xn(m.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(m===sn.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(sh):i=[sh])}m=m.return}i!==null&&sy(a,i,l,c),a.flags|=262144}function Pf(i){for(i=i.firstContext;i!==null;){if(!Xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ro(i){no=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function An(i){return OT(no,i)}function Df(i,a){return no===null&&ro(i),OT(i,a)}function OT(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},zi===null){if(i===null)throw Error(r(308));zi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else zi=zi.next=a;return l}var CD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},xD=n.unstable_scheduleCallback,PD=n.unstable_NormalPriority,en={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ay(){return{controller:new CD,data:new Map,refCount:0}}function Dc(i){i.refCount--,i.refCount===0&&xD(PD,function(){i.controller.abort()})}var Nc=null,oy=0,vl=0,El=null;function DD(i,a){if(Nc===null){var l=Nc=[];oy=0,vl=u_(),El={status:"pending",value:void 0,then:function(c){l.push(c)}}}return oy++,a.then(kT,kT),a}function kT(){if(--oy===0&&Nc!==null){El!==null&&(El.status="fulfilled");var i=Nc;Nc=null,vl=0,El=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function ND(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var VT=J.S;J.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&DD(i,a),VT!==null&&VT(i,a)};var io=ae(null);function ly(){var i=io.current;return i!==null?i:ft.pooledCache}function Nf(i,a){a===null?he(io,io.current):he(io,a.pool)}function MT(){var i=ly();return i===null?null:{parent:en._currentValue,pool:i}}var Oc=Error(r(460)),LT=Error(r(474)),Of=Error(r(542)),uy={then:function(){}};function UT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kf(){}function BT(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(kf,kf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,FT(i),i;default:if(typeof a.status=="string")a.then(kf,kf);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,FT(i),i}throw kc=a,Oc}}var kc=null;function zT(){if(kc===null)throw Error(r(459));var i=kc;return kc=null,i}function FT(i){if(i===Oc||i===Of)throw Error(r(483))}var Is=!1;function cy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Cs(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=If(i),RT(i,null,l),a}return Af(i,c,a,l),If(i)}function Vc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,uc(i,l)}}function dy(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var fy=!1;function Mc(){if(fy){var i=El;if(i!==null)throw i}}function Lc(i,a,l,c){fy=!1;var m=i.updateQueue;Is=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var k=S,G=k.next;k.next=null,b===null?g=G:b.next=G,b=k;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==b&&(S===null?ee.firstBaseUpdate=G:S.next=G,ee.lastBaseUpdate=k))}if(g!==null){var se=m.baseState;b=0,ee=G=k=null,S=g;do{var $=S.lane&-536870913,K=$!==S.lane;if(K?(je&$)===$:(c&$)===$){$!==0&&$===vl&&(fy=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=i,Ae=S;$=a;var ot=l;switch(Ae.tag){case 1:if(Ce=Ae.payload,typeof Ce=="function"){se=Ce.call(ot,se,$);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ae.payload,$=typeof Ce=="function"?Ce.call(ot,se,$):Ce,$==null)break e;se=y({},se,$);break e;case 2:Is=!0}}$=S.callback,$!==null&&(i.flags|=64,K&&(i.flags|=8192),K=m.callbacks,K===null?m.callbacks=[$]:K.push($))}else K={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(G=ee=K,k=se):ee=ee.next=K,b|=$;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;K=S,S=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);ee===null&&(k=se),m.baseState=k,m.firstBaseUpdate=G,m.lastBaseUpdate=ee,g===null&&(m.shared.lanes=0),Ms|=b,i.lanes=b,i.memoizedState=se}}function jT(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function qT(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)jT(l[i],a)}var Tl=ae(null),Vf=ae(0);function HT(i,a){i=Qi,he(Vf,i),he(Tl,a),Qi=i|a.baseLanes}function my(){he(Vf,Qi),he(Tl,Tl.current)}function py(){Qi=Vf.current,ge(Tl),ge(Vf)}var xs=0,Ne=null,st=null,$t=null,Mf=!1,bl=!1,so=!1,Lf=0,Uc=0,wl=null,OD=0;function Ut(){throw Error(r(321))}function gy(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Xn(i[l],a[l]))return!1;return!0}function yy(i,a,l,c,m,g){return xs=g,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=i===null||i.memoizedState===null?Rb:Cb,so=!1,g=l(c,m),so=!1,bl&&(g=$T(a,l,c,m)),GT(i),g}function GT(i){J.H=qf;var a=st!==null&&st.next!==null;if(xs=0,$t=st=Ne=null,Mf=!1,Uc=0,wl=null,a)throw Error(r(300));i===null||ln||(i=i.dependencies,i!==null&&Pf(i)&&(ln=!0))}function $T(i,a,l,c){Ne=i;var m=0;do{if(bl&&(wl=null),Uc=0,bl=!1,25<=m)throw Error(r(301));if(m+=1,$t=st=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=zD,g=a(l,c)}while(bl);return g}function kD(){var i=J.H,a=i.useState()[0];return a=typeof a.then=="function"?Bc(a):a,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(Ne.flags|=1024),a}function _y(){var i=Lf!==0;return Lf=0,i}function vy(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Ey(i){if(Mf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Mf=!1}xs=0,$t=st=Ne=null,bl=!1,Uc=Lf=0,wl=null}function Fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ne.memoizedState=$t=i:$t=$t.next=i,$t}function Kt(){if(st===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var a=$t===null?Ne.memoizedState:$t.next;if(a!==null)$t=a,st=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},$t===null?Ne.memoizedState=$t=i:$t=$t.next=i}return $t}function Ty(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(i){var a=Uc;return Uc+=1,wl===null&&(wl=[]),i=BT(wl,i,a),a=Ne,($t===null?a.memoizedState:$t.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?Rb:Cb),i}function Uf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bc(i);if(i.$$typeof===F)return An(i)}throw Error(r(438,String(i)))}function by(i){var a=null,l=Ne.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ty(),Ne.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=w;return a.index++,l}function ji(i,a){return typeof a=="function"?a(i):a}function Bf(i){var a=Kt();return wy(a,st,i)}function wy(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}a.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{a=m.next;var S=b=null,k=null,G=a,ee=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(je&se)===se:(xs&se)===se){var $=G.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===vl&&(ee=!0);else if((xs&$)===$){G=G.next,$===vl&&(ee=!0);continue}else se={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(S=k=se,b=g):k=k.next=se,Ne.lanes|=$,Ms|=$;se=G.action,so&&l(g,se),g=G.hasEagerState?G.eagerState:l(g,se)}else $={lane:se,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(S=k=$,b=g):k=k.next=$,Ne.lanes|=se,Ms|=se;G=G.next}while(G!==null&&G!==a);if(k===null?b=g:k.next=S,!Xn(g,i.memoizedState)&&(ln=!0,ee&&(l=El,l!==null)))throw l;i.memoizedState=g,i.baseState=b,i.baseQueue=k,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Sy(i){var a=Kt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);Xn(g,a.memoizedState)||(ln=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function KT(i,a,l){var c=Ne,m=Kt(),g=Ye;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var b=!Xn((st||m).memoizedState,l);b&&(m.memoizedState=l,ln=!0),m=m.queue;var S=WT.bind(null,c,m,i);if(zc(2048,8,S,[i]),m.getSnapshot!==a||b||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,Sl(9,zf(),YT.bind(null,c,m,l,a),null),ft===null)throw Error(r(349));g||(xs&124)!==0||QT(c,a,l)}return l}function QT(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ne.updateQueue,a===null?(a=Ty(),Ne.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function YT(i,a,l,c){a.value=l,a.getSnapshot=c,XT(a)&&JT(i)}function WT(i,a,l){return l(function(){XT(a)&&JT(i)})}function XT(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Xn(i,l)}catch{return!0}}function JT(i){var a=pl(i,2);a!==null&&rr(a,i,2)}function Ay(i){var a=Fn();if(typeof i=="function"){var l=i;if(i=l(),so){Yn(!0);try{l()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:i},a}function ZT(i,a,l,c){return i.baseState=l,wy(i,st,typeof c=="function"?c:ji)}function VD(i,a,l,c,m){if(jf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};J.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,eb(a,g)):(g.next=l.next,a.pending=l.next=g)}}function eb(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var g=J.T,b={};J.T=b;try{var S=l(m,c),k=J.S;k!==null&&k(b,S),tb(i,a,S)}catch(G){Iy(i,a,G)}finally{J.T=g}}else try{g=l(m,c),tb(i,a,g)}catch(G){Iy(i,a,G)}}function tb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){nb(i,a,c)},function(c){return Iy(i,a,c)}):nb(i,a,l)}function nb(i,a,l){a.status="fulfilled",a.value=l,rb(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,eb(i,l)))}function Iy(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,rb(a),a=a.next;while(a!==c)}i.action=null}function rb(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function ib(i,a){return a}function sb(i,a){if(Ye){var l=ft.formState;if(l!==null){e:{var c=Ne;if(Ye){if(Pt){t:{for(var m=Pt,g=Xr;m.nodeType!==8;){if(!g){m=null;break t}if(m=kr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Pt=kr(m.nextSibling),c=m.data==="F!";break e}}to(c)}c=!1}c&&(a=l[0])}}return l=Fn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ib,lastRenderedState:a},l.queue=c,l=Sb.bind(null,Ne,c),c.dispatch=l,c=Ay(!1),g=Dy.bind(null,Ne,!1,c.queue),c=Fn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=VD.bind(null,Ne,m,g,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function ab(i){var a=Kt();return ob(a,st,i)}function ob(i,a,l){if(a=wy(i,a,ib)[0],i=Bf(ji)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Bc(a)}catch(b){throw b===Oc?Of:b}else c=a;a=Kt();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(Ne.flags|=2048,Sl(9,zf(),MD.bind(null,m,l),null)),[c,g,i]}function MD(i,a){i.action=a}function lb(i){var a=Kt(),l=st;if(l!==null)return ob(a,l,i);Kt(),a=a.memoizedState,l=Kt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Sl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=Ty(),Ne.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function zf(){return{destroy:void 0,resource:void 0}}function ub(){return Kt().memoizedState}function Ff(i,a,l,c){var m=Fn();c=c===void 0?null:c,Ne.flags|=i,m.memoizedState=Sl(1|a,zf(),l,c)}function zc(i,a,l,c){var m=Kt();c=c===void 0?null:c;var g=m.memoizedState.inst;st!==null&&c!==null&&gy(c,st.memoizedState.deps)?m.memoizedState=Sl(a,g,l,c):(Ne.flags|=i,m.memoizedState=Sl(1|a,g,l,c))}function cb(i,a){Ff(8390656,8,i,a)}function hb(i,a){zc(2048,8,i,a)}function db(i,a){return zc(4,2,i,a)}function fb(i,a){return zc(4,4,i,a)}function mb(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function pb(i,a,l){l=l!=null?l.concat([i]):null,zc(4,4,mb.bind(null,a,i),l)}function Ry(){}function gb(i,a){var l=Kt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&gy(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function yb(i,a){var l=Kt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&gy(a,c[1]))return c[0];if(c=i(),so){Yn(!0);try{i()}finally{Yn(!1)}}return l.memoizedState=[c,a],c}function Cy(i,a,l){return l===void 0||(xs&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Ew(),Ne.lanes|=i,Ms|=i,l)}function _b(i,a,l,c){return Xn(l,a)?l:Tl.current!==null?(i=Cy(i,l,c),Xn(i,a)||(ln=!0),i):(xs&42)===0?(ln=!0,i.memoizedState=l):(i=Ew(),Ne.lanes|=i,Ms|=i,a)}function vb(i,a,l,c,m){var g=me.p;me.p=g!==0&&8>g?g:8;var b=J.T,S={};J.T=S,Dy(i,!1,a,l);try{var k=m(),G=J.S;if(G!==null&&G(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=ND(k,c);Fc(i,a,ee,nr(i))}else Fc(i,a,c,nr(i))}catch(se){Fc(i,a,{then:function(){},status:"rejected",reason:se},nr())}finally{me.p=g,J.T=b}}function LD(){}function xy(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=Eb(i).queue;vb(i,m,a,Te,l===null?LD:function(){return Tb(i),l(c)})}function Eb(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Tb(i){var a=Eb(i).next.queue;Fc(i,a,{},nr())}function Py(){return An(sh)}function bb(){return Kt().memoizedState}function wb(){return Kt().memoizedState}function UD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=nr();i=Rs(l);var c=Cs(a,i,l);c!==null&&(rr(c,a,l),Vc(c,a,l)),a={cache:ay()},i.payload=a;return}a=a.return}}function BD(i,a,l){var c=nr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jf(i)?Ab(a,l):(l=Wg(i,a,l,c),l!==null&&(rr(l,i,c),Ib(l,a,c)))}function Sb(i,a,l){var c=nr();Fc(i,a,l,c)}function Fc(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jf(i))Ab(a,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,S=g(b,l);if(m.hasEagerState=!0,m.eagerState=S,Xn(S,b))return Af(i,a,m,0),ft===null&&Sf(),!1}catch{}finally{}if(l=Wg(i,a,m,c),l!==null)return rr(l,i,c),Ib(l,a,c),!0}return!1}function Dy(i,a,l,c){if(c={lane:2,revertLane:u_(),action:c,hasEagerState:!1,eagerState:null,next:null},jf(i)){if(a)throw Error(r(479))}else a=Wg(i,l,c,2),a!==null&&rr(a,i,2)}function jf(i){var a=i.alternate;return i===Ne||a!==null&&a===Ne}function Ab(i,a){bl=Mf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Ib(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,uc(i,l)}}var qf={readContext:An,use:Uf,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Rb={readContext:An,use:Uf,useCallback:function(i,a){return Fn().memoizedState=[i,a===void 0?null:a],i},useContext:An,useEffect:cb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Ff(4194308,4,mb.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Ff(4194308,4,i,a)},useInsertionEffect:function(i,a){Ff(4,2,i,a)},useMemo:function(i,a){var l=Fn();a=a===void 0?null:a;var c=i();if(so){Yn(!0);try{i()}finally{Yn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Fn();if(l!==void 0){var m=l(a);if(so){Yn(!0);try{l(a)}finally{Yn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=BD.bind(null,Ne,i),[c.memoizedState,i]},useRef:function(i){var a=Fn();return i={current:i},a.memoizedState=i},useState:function(i){i=Ay(i);var a=i.queue,l=Sb.bind(null,Ne,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Ry,useDeferredValue:function(i,a){var l=Fn();return Cy(l,i,a)},useTransition:function(){var i=Ay(!1);return i=vb.bind(null,Ne,i.queue,!0,!1),Fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ne,m=Fn();if(Ye){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),ft===null)throw Error(r(349));(je&124)!==0||QT(c,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,cb(WT.bind(null,c,g,i),[i]),c.flags|=2048,Sl(9,zf(),YT.bind(null,c,g,l,a),null),l},useId:function(){var i=Fn(),a=ft.identifierPrefix;if(Ye){var l=Bi,c=Ui;l=(c&~(1<<32-Sn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Lf++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=OD++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Py,useFormState:sb,useActionState:sb,useOptimistic:function(i){var a=Fn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Dy.bind(null,Ne,!0,l),l.dispatch=a,[i,a]},useMemoCache:by,useCacheRefresh:function(){return Fn().memoizedState=UD.bind(null,Ne)}},Cb={readContext:An,use:Uf,useCallback:gb,useContext:An,useEffect:hb,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:fb,useMemo:yb,useReducer:Bf,useRef:ub,useState:function(){return Bf(ji)},useDebugValue:Ry,useDeferredValue:function(i,a){var l=Kt();return _b(l,st.memoizedState,i,a)},useTransition:function(){var i=Bf(ji)[0],a=Kt().memoizedState;return[typeof i=="boolean"?i:Bc(i),a]},useSyncExternalStore:KT,useId:bb,useHostTransitionStatus:Py,useFormState:ab,useActionState:ab,useOptimistic:function(i,a){var l=Kt();return ZT(l,st,i,a)},useMemoCache:by,useCacheRefresh:wb},zD={readContext:An,use:Uf,useCallback:gb,useContext:An,useEffect:hb,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:fb,useMemo:yb,useReducer:Sy,useRef:ub,useState:function(){return Sy(ji)},useDebugValue:Ry,useDeferredValue:function(i,a){var l=Kt();return st===null?Cy(l,i,a):_b(l,st.memoizedState,i,a)},useTransition:function(){var i=Sy(ji)[0],a=Kt().memoizedState;return[typeof i=="boolean"?i:Bc(i),a]},useSyncExternalStore:KT,useId:bb,useHostTransitionStatus:Py,useFormState:lb,useActionState:lb,useOptimistic:function(i,a){var l=Kt();return st!==null?ZT(l,st,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:by,useCacheRefresh:wb},Al=null,jc=0;function Hf(i){var a=jc;return jc+=1,Al===null&&(Al=[]),BT(Al,i,a)}function qc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Gf(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function xb(i){var a=i._init;return a(i._payload)}function Pb(i){function a(z,U){if(i){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function l(z,U){if(!i)return null;for(;U!==null;)a(z,U),U=U.sibling;return null}function c(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function m(z,U){return z=Li(z,U),z.index=0,z.sibling=null,z}function g(z,U,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=67108866,U):H):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,U,H,re){return U===null||U.tag!==6?(U=Jg(H,z.mode,re),U.return=z,U):(U=m(U,H),U.return=z,U)}function k(z,U,H,re){var _e=H.type;return _e===R?ee(z,U,H.props.children,re,H.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&xb(_e)===U.type)?(U=m(U,H.props),qc(U,H),U.return=z,U):(U=Rf(H.type,H.key,H.props,null,z.mode,re),qc(U,H),U.return=z,U)}function G(z,U,H,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Zg(H,z.mode,re),U.return=z,U):(U=m(U,H.children||[]),U.return=z,U)}function ee(z,U,H,re,_e){return U===null||U.tag!==7?(U=Xa(H,z.mode,re,_e),U.return=z,U):(U=m(U,H),U.return=z,U)}function se(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jg(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return H=Rf(U.type,U.key,U.props,null,z.mode,H),qc(H,U),H.return=z,H;case I:return U=Zg(U,z.mode,H),U.return=z,U;case x:var re=U._init;return U=re(U._payload),se(z,U,H)}if(Ge(U)||M(U))return U=Xa(U,z.mode,H,null),U.return=z,U;if(typeof U.then=="function")return se(z,Hf(U),H);if(U.$$typeof===F)return se(z,Df(z,U),H);Gf(z,U)}return null}function $(z,U,H,re){var _e=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:S(z,U,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return H.key===_e?k(z,U,H,re):null;case I:return H.key===_e?G(z,U,H,re):null;case x:return _e=H._init,H=_e(H._payload),$(z,U,H,re)}if(Ge(H)||M(H))return _e!==null?null:ee(z,U,H,re,null);if(typeof H.then=="function")return $(z,U,Hf(H),re);if(H.$$typeof===F)return $(z,U,Df(z,H),re);Gf(z,H)}return null}function K(z,U,H,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(H)||null,S(U,z,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return z=z.get(re.key===null?H:re.key)||null,k(U,z,re,_e);case I:return z=z.get(re.key===null?H:re.key)||null,G(U,z,re,_e);case x:var ke=re._init;return re=ke(re._payload),K(z,U,H,re,_e)}if(Ge(re)||M(re))return z=z.get(H)||null,ee(U,z,re,_e,null);if(typeof re.then=="function")return K(z,U,H,Hf(re),_e);if(re.$$typeof===F)return K(z,U,H,Df(U,re),_e);Gf(U,re)}return null}function Ce(z,U,H,re){for(var _e=null,ke=null,be=U,Ie=U=0,cn=null;be!==null&&Ie<H.length;Ie++){be.index>Ie?(cn=be,be=null):cn=be.sibling;var $e=$(z,be,H[Ie],re);if($e===null){be===null&&(be=cn);break}i&&be&&$e.alternate===null&&a(z,be),U=g($e,U,Ie),ke===null?_e=$e:ke.sibling=$e,ke=$e,be=cn}if(Ie===H.length)return l(z,be),Ye&&Za(z,Ie),_e;if(be===null){for(;Ie<H.length;Ie++)be=se(z,H[Ie],re),be!==null&&(U=g(be,U,Ie),ke===null?_e=be:ke.sibling=be,ke=be);return Ye&&Za(z,Ie),_e}for(be=c(be);Ie<H.length;Ie++)cn=K(be,z,Ie,H[Ie],re),cn!==null&&(i&&cn.alternate!==null&&be.delete(cn.key===null?Ie:cn.key),U=g(cn,U,Ie),ke===null?_e=cn:ke.sibling=cn,ke=cn);return i&&be.forEach(function(Gs){return a(z,Gs)}),Ye&&Za(z,Ie),_e}function Ae(z,U,H,re){if(H==null)throw Error(r(151));for(var _e=null,ke=null,be=U,Ie=U=0,cn=null,$e=H.next();be!==null&&!$e.done;Ie++,$e=H.next()){be.index>Ie?(cn=be,be=null):cn=be.sibling;var Gs=$(z,be,$e.value,re);if(Gs===null){be===null&&(be=cn);break}i&&be&&Gs.alternate===null&&a(z,be),U=g(Gs,U,Ie),ke===null?_e=Gs:ke.sibling=Gs,ke=Gs,be=cn}if($e.done)return l(z,be),Ye&&Za(z,Ie),_e;if(be===null){for(;!$e.done;Ie++,$e=H.next())$e=se(z,$e.value,re),$e!==null&&(U=g($e,U,Ie),ke===null?_e=$e:ke.sibling=$e,ke=$e);return Ye&&Za(z,Ie),_e}for(be=c(be);!$e.done;Ie++,$e=H.next())$e=K(be,z,Ie,$e.value,re),$e!==null&&(i&&$e.alternate!==null&&be.delete($e.key===null?Ie:$e.key),U=g($e,U,Ie),ke===null?_e=$e:ke.sibling=$e,ke=$e);return i&&be.forEach(function(F2){return a(z,F2)}),Ye&&Za(z,Ie),_e}function ot(z,U,H,re){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case E:e:{for(var _e=H.key;U!==null;){if(U.key===_e){if(_e=H.type,_e===R){if(U.tag===7){l(z,U.sibling),re=m(U,H.props.children),re.return=z,z=re;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&xb(_e)===U.type){l(z,U.sibling),re=m(U,H.props),qc(re,H),re.return=z,z=re;break e}l(z,U);break}else a(z,U);U=U.sibling}H.type===R?(re=Xa(H.props.children,z.mode,re,H.key),re.return=z,z=re):(re=Rf(H.type,H.key,H.props,null,z.mode,re),qc(re,H),re.return=z,z=re)}return b(z);case I:e:{for(_e=H.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(z,U.sibling),re=m(U,H.children||[]),re.return=z,z=re;break e}else{l(z,U);break}else a(z,U);U=U.sibling}re=Zg(H,z.mode,re),re.return=z,z=re}return b(z);case x:return _e=H._init,H=_e(H._payload),ot(z,U,H,re)}if(Ge(H))return Ce(z,U,H,re);if(M(H)){if(_e=M(H),typeof _e!="function")throw Error(r(150));return H=_e.call(H),Ae(z,U,H,re)}if(typeof H.then=="function")return ot(z,U,Hf(H),re);if(H.$$typeof===F)return ot(z,U,Df(z,H),re);Gf(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(l(z,U.sibling),re=m(U,H),re.return=z,z=re):(l(z,U),re=Jg(H,z.mode,re),re.return=z,z=re),b(z)):l(z,U)}return function(z,U,H,re){try{jc=0;var _e=ot(z,U,H,re);return Al=null,_e}catch(be){if(be===Oc||be===Of)throw be;var ke=Jn(29,be,null,z.mode);return ke.lanes=re,ke.return=z,ke}finally{}}}var Il=Pb(!0),Db=Pb(!1),Tr=ae(null),Jr=null;function Ps(i){var a=i.alternate;he(tn,tn.current&1),he(Tr,i),Jr===null&&(a===null||Tl.current!==null||a.memoizedState!==null)&&(Jr=i)}function Nb(i){if(i.tag===22){if(he(tn,tn.current),he(Tr,i),Jr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Jr=i)}}else Ds()}function Ds(){he(tn,tn.current),he(Tr,Tr.current)}function qi(i){ge(Tr),Jr===i&&(Jr=null),ge(tn)}var tn=ae(0);function $f(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||T_(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ny(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Oy={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=nr(),m=Rs(c);m.payload=a,l!=null&&(m.callback=l),a=Cs(i,m,c),a!==null&&(rr(a,i,c),Vc(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=nr(),m=Rs(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Cs(i,m,c),a!==null&&(rr(a,i,c),Vc(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=nr(),c=Rs(l);c.tag=2,a!=null&&(c.callback=a),a=Cs(i,c,l),a!==null&&(rr(a,i,l),Vc(a,i,l))}};function Ob(i,a,l,c,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):a.prototype&&a.prototype.isPureReactComponent?!Ac(l,c)||!Ac(m,g):!0}function kb(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Oy.enqueueReplaceState(a,a.state,null)}function ao(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Kf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Vb(i){Kf(i)}function Mb(i){console.error(i)}function Lb(i){Kf(i)}function Qf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Ub(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ky(i,a,l){return l=Rs(l),l.tag=3,l.payload={element:null},l.callback=function(){Qf(i,a)},l}function Bb(i){return i=Rs(i),i.tag=3,i}function zb(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){Ub(a,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Ub(a,l,c),typeof m!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function FD(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Pc(a,l,m,!0),l=Tr.current,l!==null){switch(l.tag){case 13:return Jr===null?i_():l.alternate===null&&Dt===0&&(Dt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===uy?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),a_(i,c,m)),!1;case 22:return l.flags|=65536,c===uy?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),a_(i,c,m)),!1}throw Error(r(435,l.tag))}return a_(i,c,m),i_(),!1}if(Ye)return a=Tr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==ny&&(i=Error(r(422),{cause:c}),xc(yr(i,l)))):(c!==ny&&(a=Error(r(423),{cause:c}),xc(yr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=yr(c,l),m=ky(i.stateNode,c,m),dy(i,m),Dt!==4&&(Dt=2)),!1;var g=Error(r(520),{cause:c});if(g=yr(g,l),Wc===null?Wc=[g]:Wc.push(g),Dt!==4&&(Dt=2),a===null)return!0;c=yr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=ky(l.stateNode,c,i),dy(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Bb(m),zb(m,i,l,c),dy(l,m),!1}l=l.return}while(l!==null);return!1}var Fb=Error(r(461)),ln=!1;function gn(i,a,l,c){a.child=i===null?Db(a,null,l,c):Il(a,i.child,l,c)}function jb(i,a,l,c,m){l=l.render;var g=a.ref;if("ref"in c){var b={};for(var S in c)S!=="ref"&&(b[S]=c[S])}else b=c;return ro(a),c=yy(i,a,l,b,g,m),S=_y(),i!==null&&!ln?(vy(i,a,m),Hi(i,a,m)):(Ye&&S&&ey(a),a.flags|=1,gn(i,a,c,m),a.child)}function qb(i,a,l,c,m){if(i===null){var g=l.type;return typeof g=="function"&&!Xg(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,Hb(i,a,g,c,m)):(i=Rf(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!jy(i,m)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ac,l(b,c)&&i.ref===a.ref)return Hi(i,a,m)}return a.flags|=1,i=Li(g,c),i.ref=a.ref,i.return=a,a.child=i}function Hb(i,a,l,c,m){if(i!==null){var g=i.memoizedProps;if(Ac(g,c)&&i.ref===a.ref)if(ln=!1,a.pendingProps=c=g,jy(i,m))(i.flags&131072)!==0&&(ln=!0);else return a.lanes=i.lanes,Hi(i,a,m)}return Vy(i,a,l,c,m)}function Gb(i,a,l){var c=a.pendingProps,m=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(m=a.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return $b(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nf(a,g!==null?g.cachePool:null),g!==null?HT(a,g):my(),Nb(a);else return a.lanes=a.childLanes=536870912,$b(i,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(Nf(a,g.cachePool),HT(a,g),Ds(),a.memoizedState=null):(i!==null&&Nf(a,null),my(),Ds());return gn(i,a,m,l),a.child}function $b(i,a,l,c){var m=ly();return m=m===null?null:{parent:en._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&Nf(a,null),my(),Nb(a),i!==null&&Pc(i,a,c,!0),null}function Yf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Vy(i,a,l,c,m){return ro(a),l=yy(i,a,l,c,void 0,m),c=_y(),i!==null&&!ln?(vy(i,a,m),Hi(i,a,m)):(Ye&&c&&ey(a),a.flags|=1,gn(i,a,l,m),a.child)}function Kb(i,a,l,c,m,g){return ro(a),a.updateQueue=null,l=$T(a,c,l,m),GT(i),c=_y(),i!==null&&!ln?(vy(i,a,g),Hi(i,a,g)):(Ye&&c&&ey(a),a.flags|=1,gn(i,a,l,g),a.child)}function Qb(i,a,l,c,m){if(ro(a),a.stateNode===null){var g=gl,b=l.contextType;typeof b=="object"&&b!==null&&(g=An(b)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Oy,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},cy(a),b=l.contextType,g.context=typeof b=="object"&&b!==null?An(b):gl,g.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Ny(a,l,b,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Oy.enqueueReplaceState(g,g.state,null),Lc(a,c,g,m),Mc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var S=a.memoizedProps,k=ao(l,S);g.props=k;var G=g.context,ee=l.contextType;b=gl,typeof ee=="object"&&ee!==null&&(b=An(ee));var se=l.getDerivedStateFromProps;ee=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||G!==b)&&kb(a,g,c,b),Is=!1;var $=a.memoizedState;g.state=$,Lc(a,c,g,m),Mc(),G=a.memoizedState,S||$!==G||Is?(typeof se=="function"&&(Ny(a,l,se,c),G=a.memoizedState),(k=Is||Ob(a,l,k,c,$,G,b))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=G),g.props=c,g.state=G,g.context=b,c=k):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,hy(i,a),b=a.memoizedProps,ee=ao(l,b),g.props=ee,se=a.pendingProps,$=g.context,G=l.contextType,k=gl,typeof G=="object"&&G!==null&&(k=An(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==se||$!==k)&&kb(a,g,c,k),Is=!1,$=a.memoizedState,g.state=$,Lc(a,c,g,m),Mc();var K=a.memoizedState;b!==se||$!==K||Is||i!==null&&i.dependencies!==null&&Pf(i.dependencies)?(typeof S=="function"&&(Ny(a,l,S,c),K=a.memoizedState),(ee=Is||Ob(a,l,ee,c,$,K,k)||i!==null&&i.dependencies!==null&&Pf(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,K,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,K,k)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=K),g.props=c,g.state=K,g.context=k,c=ee):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,Yf(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=Il(a,i.child,null,m),a.child=Il(a,null,l,m)):gn(i,a,l,m),a.memoizedState=g.state,i=a.child):i=Hi(i,a,m),i}function Yb(i,a,l,c){return Cc(),a.flags|=256,gn(i,a,l,c),a.child}var My={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ly(i){return{baseLanes:i,cachePool:MT()}}function Uy(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=br),i}function Wb(i,a,l){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ye){if(m?Ps(a):Ds(),Ye){var S=Pt,k;if(k=S){e:{for(k=S,S=Xr;k.nodeType!==8;){if(!S){S=null;break e}if(k=kr(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(a.memoizedState={dehydrated:S,treeContext:Ja!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},k=Jn(18,null,null,0),k.stateNode=S,k.return=a,a.child=k,Vn=a,Pt=null,k=!0):k=!1}k||to(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return T_(S)?a.lanes=32:a.lanes=536870912,null;qi(a)}return S=c.children,c=c.fallback,m?(Ds(),m=a.mode,S=Wf({mode:"hidden",children:S},m),c=Xa(c,m,l,null),S.return=a,c.return=a,S.sibling=c,a.child=S,m=a.child,m.memoizedState=Ly(l),m.childLanes=Uy(i,b,l),a.memoizedState=My,c):(Ps(a),By(a,S))}if(k=i.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(g)a.flags&256?(Ps(a),a.flags&=-257,a=zy(i,a,l)):a.memoizedState!==null?(Ds(),a.child=i.child,a.flags|=128,a=null):(Ds(),m=c.fallback,S=a.mode,c=Wf({mode:"visible",children:c.children},S),m=Xa(m,S,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Il(a,i.child,null,l),c=a.child,c.memoizedState=Ly(l),c.childLanes=Uy(i,b,l),a.memoizedState=My,a=m);else if(Ps(a),T_(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var G=b.dgst;b=G,c=Error(r(419)),c.stack="",c.digest=b,xc({value:c,source:null,stack:null}),a=zy(i,a,l)}else if(ln||Pc(i,a,l,!1),b=(l&i.childLanes)!==0,ln||b){if(b=ft,b!==null&&(c=l&-l,c=(c&42)!==0?1:_s(c),c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,pl(i,c),rr(b,i,c),Fb;S.data==="$?"||i_(),a=zy(i,a,l)}else S.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=k.treeContext,Pt=kr(S.nextSibling),Vn=a,Ye=!0,eo=null,Xr=!1,i!==null&&(vr[Er++]=Ui,vr[Er++]=Bi,vr[Er++]=Ja,Ui=i.id,Bi=i.overflow,Ja=a),a=By(a,c.children),a.flags|=4096);return a}return m?(Ds(),m=c.fallback,S=a.mode,k=i.child,G=k.sibling,c=Li(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,G!==null?m=Li(G,m):(m=Xa(m,S,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,S=i.child.memoizedState,S===null?S=Ly(l):(k=S.cachePool,k!==null?(G=en._currentValue,k=k.parent!==G?{parent:G,pool:G}:k):k=MT(),S={baseLanes:S.baseLanes|l,cachePool:k}),m.memoizedState=S,m.childLanes=Uy(i,b,l),a.memoizedState=My,c):(Ps(a),l=i.child,i=l.sibling,l=Li(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=l,a.memoizedState=null,l)}function By(i,a){return a=Wf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Wf(i,a){return i=Jn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function zy(i,a,l){return Il(a,i.child,null,l),i=By(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Xb(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),iy(i.return,a,l)}function Fy(i,a,l,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=m)}function Jb(i,a,l){var c=a.pendingProps,m=c.revealOrder,g=c.tail;if(gn(i,a,c.children,l),c=tn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xb(i,l,a);else if(i.tag===19)Xb(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(he(tn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&$f(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Fy(a,!1,m,l,g);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&$f(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Fy(a,!0,l,null,g);break;case"together":Fy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Ms|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Pc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Li(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Li(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function jy(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Pf(i)))}function jD(i,a,l){switch(a.tag){case 3:dt(a,a.stateNode.containerInfo),As(a,en,i.memoizedState.cache),Cc();break;case 27:case 5:ys(a);break;case 4:dt(a,a.stateNode.containerInfo);break;case 10:As(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Wb(i,a,l):(Ps(a),i=Hi(i,a,l),i!==null?i.sibling:null);Ps(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Pc(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return Jb(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(tn,tn.current),c)break;return null;case 22:case 23:return a.lanes=0,Gb(i,a,l);case 24:As(a,en,i.memoizedState.cache)}return Hi(i,a,l)}function Zb(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ln=!0;else{if(!jy(i,l)&&(a.flags&128)===0)return ln=!1,jD(i,a,l);ln=(i.flags&131072)!==0}else ln=!1,Ye&&(a.flags&1048576)!==0&&xT(a,xf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")Xg(c)?(i=ao(c,i),a.tag=1,a=Qb(null,a,c,i,l)):(a.tag=0,a=Vy(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===te){a.tag=11,a=jb(null,a,c,i,l);break e}else if(m===P){a.tag=14,a=qb(null,a,c,i,l);break e}}throw a=He(c)||c,Error(r(306,a,""))}}return a;case 0:return Vy(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=ao(c,a.pendingProps),Qb(i,a,c,m,l);case 3:e:{if(dt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var g=a.memoizedState;m=g.element,hy(i,a),Lc(a,c,null,l);var b=a.memoizedState;if(c=b.cache,As(a,en,c),c!==g.cache&&sy(a,[en],l,!0),Mc(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Yb(i,a,c,l);break e}else if(c!==m){m=yr(Error(r(424)),a),xc(m),a=Yb(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=kr(i.firstChild),Vn=a,Ye=!0,eo=null,Xr=!0,l=Db(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cc(),c===m){a=Hi(i,a,l);break e}gn(i,a,c,l)}a=a.child}return a;case 26:return Yf(i,a),i===null?(l=rS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ye||(l=a.type,i=a.pendingProps,c=cm(xe.current).createElement(l),c[Xt]=a,c[Ht]=i,_n(c,l,i),Lt(c),a.stateNode=c):a.memoizedState=rS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ys(a),i===null&&Ye&&(c=a.stateNode=eS(a.type,a.pendingProps,xe.current),Vn=a,Xr=!0,m=Pt,zs(a.type)?(b_=m,Pt=kr(c.firstChild)):Pt=m),gn(i,a,a.pendingProps.children,l),Yf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ye&&((m=c=Pt)&&(c=g2(c,a.type,a.pendingProps,Xr),c!==null?(a.stateNode=c,Vn=a,Pt=kr(c.firstChild),Xr=!1,m=!0):m=!1),m||to(a)),ys(a),m=a.type,g=a.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,__(m,g)?c=null:b!==null&&__(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=yy(i,a,kD,null,null,l),sh._currentValue=m),Yf(i,a),gn(i,a,c,l),a.child;case 6:return i===null&&Ye&&((i=l=Pt)&&(l=y2(l,a.pendingProps,Xr),l!==null?(a.stateNode=l,Vn=a,Pt=null,i=!0):i=!1),i||to(a)),null;case 13:return Wb(i,a,l);case 4:return dt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Il(a,null,c,l):gn(i,a,c,l),a.child;case 11:return jb(i,a,a.type,a.pendingProps,l);case 7:return gn(i,a,a.pendingProps,l),a.child;case 8:return gn(i,a,a.pendingProps.children,l),a.child;case 12:return gn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,As(a,a.type,c.value),gn(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,ro(a),m=An(m),c=c(m),a.flags|=1,gn(i,a,c,l),a.child;case 14:return qb(i,a,a.type,a.pendingProps,l);case 15:return Hb(i,a,a.type,a.pendingProps,l);case 19:return Jb(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Wf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Li(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Gb(i,a,l);case 24:return ro(a),c=An(en),i===null?(m=ly(),m===null&&(m=ft,g=ay(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:c,cache:m},cy(a),As(a,en,m)):((i.lanes&l)!==0&&(hy(i,a),Lc(a,null,null,l),Mc()),m=i.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),As(a,en,c)):(c=g.cache,As(a,en,c),c!==m.cache&&sy(a,[en],l,!0))),gn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Gi(i){i.flags|=4}function ew(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lS(a)){if(a=Tr.current,a!==null&&((je&4194048)===je?Jr!==null:(je&62914560)!==je&&(je&536870912)===0||a!==Jr))throw kc=uy,LT;i.flags|=8192}}function Xf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?oc():536870912,i.lanes|=a,Pl|=a)}function Hc(i,a){if(!Ye)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function St(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function qD(i,a,l){var c=a.pendingProps;switch(ty(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(a),null;case 1:return St(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Fi(en),Br(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Rc(a)?Gi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,NT())),St(a),null;case 26:return l=a.memoizedState,i===null?(Gi(a),l!==null?(St(a),ew(a,l)):(St(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Gi(a),St(a),ew(a,l)):(St(a),a.flags&=-16777217):(i.memoizedProps!==c&&Gi(a),St(a),a.flags&=-16777217),null;case 27:Si(a),l=xe.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Gi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return St(a),null}i=we.current,Rc(a)?PT(a):(i=eS(m,c,l),a.stateNode=i,Gi(a))}return St(a),null;case 5:if(Si(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Gi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return St(a),null}if(i=we.current,Rc(a))PT(a);else{switch(m=cm(xe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[Xt]=a,i[Ht]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(_n(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Gi(a)}}return St(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Gi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=xe.current,Rc(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=Vn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Xt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Kw(i.nodeValue,l)),i||to(a)}else i=cm(i).createTextNode(c),i[Xt]=a,a.stateNode=i}return St(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Rc(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Xt]=a}else Cc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),m=!1}else m=NT(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(qi(a),a):(qi(a),null)}if(qi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Xf(a,a.updateQueue),St(a),null;case 4:return Br(),i===null&&f_(a.stateNode.containerInfo),St(a),null;case 10:return Fi(a.type),St(a),null;case 19:if(ge(tn),m=a.memoizedState,m===null)return St(a),null;if(c=(a.flags&128)!==0,g=m.rendering,g===null)if(c)Hc(m,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=$f(i),g!==null){for(a.flags|=128,Hc(m,!1),i=g.updateQueue,a.updateQueue=i,Xf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)CT(l,i),l=l.sibling;return he(tn,tn.current&1|2),a.child}i=i.sibling}m.tail!==null&&hr()>em&&(a.flags|=128,c=!0,Hc(m,!1),a.lanes=4194304)}else{if(!c)if(i=$f(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Xf(a,i),Hc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Ye)return St(a),null}else 2*hr()-m.renderingStartTime>em&&l!==536870912&&(a.flags|=128,c=!0,Hc(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(i=m.last,i!==null?i.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=hr(),a.sibling=null,i=tn.current,he(tn,c?i&1|2:i&1),a):(St(a),null);case 22:case 23:return qi(a),py(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(St(a),a.subtreeFlags&6&&(a.flags|=8192)):St(a),l=a.updateQueue,l!==null&&Xf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&ge(io),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Fi(en),St(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function HD(i,a){switch(ty(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Fi(en),Br(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Si(a),null;case 13:if(qi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Cc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ge(tn),null;case 4:return Br(),null;case 10:return Fi(a.type),null;case 22:case 23:return qi(a),py(),i!==null&&ge(io),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Fi(en),null;case 25:return null;default:return null}}function tw(i,a){switch(ty(a),a.tag){case 3:Fi(en),Br();break;case 26:case 27:case 5:Si(a);break;case 4:Br();break;case 13:qi(a);break;case 19:ge(tn);break;case 10:Fi(a.type);break;case 22:case 23:qi(a),py(),i!==null&&ge(io);break;case 24:Fi(en)}}function Gc(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var g=l.create,b=l.inst;c=g(),b.destroy=c}l=l.next}while(l!==m)}}catch(S){ut(a,a.return,S)}}function Ns(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var b=c.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,m=a;var k=l,G=S;try{G()}catch(ee){ut(m,k,ee)}}}c=c.next}while(c!==g)}}catch(ee){ut(a,a.return,ee)}}function nw(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{qT(a,l)}catch(c){ut(i,i.return,c)}}}function rw(i,a,l){l.props=ao(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ut(i,a,c)}}function $c(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){ut(i,a,m)}}function Zr(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ut(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ut(i,a,m)}else l.current=null}function iw(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ut(i,i.return,m)}}function qy(i,a,l){try{var c=i.stateNode;h2(c,i.type,l,a),c[Ht]=a}catch(m){ut(i,i.return,m)}}function sw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function Hy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gy(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=um));else if(c!==4&&(c===27&&zs(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Gy(i,a,l),i=i.sibling;i!==null;)Gy(i,a,l),i=i.sibling}function Jf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&zs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Jf(i,a,l),i=i.sibling;i!==null;)Jf(i,a,l),i=i.sibling}function aw(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);_n(a,c,l),a[Xt]=i,a[Ht]=l}catch(g){ut(i,i.return,g)}}var $i=!1,Bt=!1,$y=!1,ow=typeof WeakSet=="function"?WeakSet:Set,un=null;function GD(i,a){if(i=i.containerInfo,g_=gm,i=_T(i),Hg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,S=-1,k=-1,G=0,ee=0,se=i,$=null;t:for(;;){for(var K;se!==l||m!==0&&se.nodeType!==3||(S=b+m),se!==g||c!==0&&se.nodeType!==3||(k=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(K=se.firstChild)!==null;)$=se,se=K;for(;;){if(se===i)break t;if($===l&&++G===m&&(S=b),$===g&&++ee===c&&(k=b),(K=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=K}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(y_={focusedElem:i,selectionRange:l},gm=!1,un=a;un!==null;)if(a=un,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,un=i;else for(;un!==null;){switch(a=un,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ce=ao(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ut(l,l.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)E_(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":E_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,un=i;break}un=a.return}}function lw(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Os(i,l),c&4&&Gc(5,l);break;case 1:if(Os(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(b){ut(l,l.return,b)}else{var m=ao(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(l,l.return,b)}}c&64&&nw(l),c&512&&$c(l,l.return);break;case 3:if(Os(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{qT(i,a)}catch(b){ut(l,l.return,b)}}break;case 27:a===null&&c&4&&aw(l);case 26:case 5:Os(i,l),a===null&&c&4&&iw(l),c&512&&$c(l,l.return);break;case 12:Os(i,l);break;case 13:Os(i,l),c&4&&hw(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=e2.bind(null,l),_2(i,l))));break;case 22:if(c=l.memoizedState!==null||$i,!c){a=a!==null&&a.memoizedState!==null||Bt,m=$i;var g=Bt;$i=c,(Bt=a)&&!g?ks(i,l,(l.subtreeFlags&8772)!==0):Os(i,l),$i=m,Bt=g}break;case 30:break;default:Os(i,l)}}function uw(i){var a=i.alternate;a!==null&&(i.alternate=null,uw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ts(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,jn=!1;function Ki(i,a,l){for(l=l.child;l!==null;)cw(i,a,l),l=l.sibling}function cw(i,a,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(xt,l)}catch{}switch(l.tag){case 26:Bt||Zr(l,a),Ki(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||Zr(l,a);var c=yt,m=jn;zs(l.type)&&(yt=l.stateNode,jn=!1),Ki(i,a,l),th(l.stateNode),yt=c,jn=m;break;case 5:Bt||Zr(l,a);case 6:if(c=yt,m=jn,yt=null,Ki(i,a,l),yt=c,jn=m,yt!==null)if(jn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(g){ut(l,a,g)}else try{yt.removeChild(l.stateNode)}catch(g){ut(l,a,g)}break;case 18:yt!==null&&(jn?(i=yt,Jw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),uh(i)):Jw(yt,l.stateNode));break;case 4:c=yt,m=jn,yt=l.stateNode.containerInfo,jn=!0,Ki(i,a,l),yt=c,jn=m;break;case 0:case 11:case 14:case 15:Bt||Ns(2,l,a),Bt||Ns(4,l,a),Ki(i,a,l);break;case 1:Bt||(Zr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&rw(l,a,c)),Ki(i,a,l);break;case 21:Ki(i,a,l);break;case 22:Bt=(c=Bt)||l.memoizedState!==null,Ki(i,a,l),Bt=c;break;default:Ki(i,a,l)}}function hw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uh(i)}catch(l){ut(a,a.return,l)}}function $D(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new ow),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new ow),a;default:throw Error(r(435,i.tag))}}function Ky(i,a){var l=$D(i);a.forEach(function(c){var m=t2.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function Zn(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=i,b=a,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(zs(S.type)){yt=S.stateNode,jn=!1;break e}break;case 5:yt=S.stateNode,jn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(yt===null)throw Error(r(160));cw(g,b,m),yt=null,jn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)dw(a,i),a=a.sibling}var Or=null;function dw(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zn(a,i),er(i),c&4&&(Ns(3,i,i.return),Gc(3,i),Ns(5,i,i.return));break;case 1:Zn(a,i),er(i),c&512&&(Bt||l===null||Zr(l,l.return)),c&64&&$i&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Or;if(Zn(a,i),er(i),c&512&&(Bt||l===null||Zr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Va]||g[Xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),_n(g,c,l),g[Xt]=i,Lt(g),c=g;break e;case"link":var b=aS("link","href",m).get(c+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break t}}g=m.createElement(c),_n(g,c,l),m.head.appendChild(g);break;case"meta":if(b=aS("meta","content",m).get(c+(l.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break t}}g=m.createElement(c),_n(g,c,l),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Xt]=i,Lt(g),c=g}i.stateNode=c}else oS(m,i.type,i.stateNode);else i.stateNode=sS(m,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?oS(m,i.type,i.stateNode):sS(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&qy(i,i.memoizedProps,l.memoizedProps)}break;case 27:Zn(a,i),er(i),c&512&&(Bt||l===null||Zr(l,l.return)),l!==null&&c&4&&qy(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Zn(a,i),er(i),c&512&&(Bt||l===null||Zr(l,l.return)),i.flags&32){m=i.stateNode;try{fr(m,"")}catch(K){ut(i,i.return,K)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,qy(i,m,l!==null?l.memoizedProps:m)),c&1024&&($y=!0);break;case 6:if(Zn(a,i),er(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(K){ut(i,i.return,K)}}break;case 3:if(fm=null,m=Or,Or=hm(a.containerInfo),Zn(a,i),Or=m,er(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{uh(a.containerInfo)}catch(K){ut(i,i.return,K)}$y&&($y=!1,fw(i));break;case 4:c=Or,Or=hm(i.stateNode.containerInfo),Zn(a,i),er(i),Or=c;break;case 12:Zn(a,i),er(i);break;case 13:Zn(a,i),er(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zy=hr()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Ky(i,c)));break;case 22:m=i.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,G=$i,ee=Bt;if($i=G||m,Bt=ee||k,Zn(a,i),Bt=ee,$i=G,er(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||k||$i||Bt||oo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(g=k.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var se=k.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){ut(k,k.return,K)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(K){ut(k,k.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ky(i,l))));break;case 19:Zn(a,i),er(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Ky(i,c)));break;case 30:break;case 21:break;default:Zn(a,i),er(i)}}function er(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(sw(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=Hy(i);Jf(i,g,m);break;case 5:var b=l.stateNode;l.flags&32&&(fr(b,""),l.flags&=-33);var S=Hy(i);Jf(i,S,b);break;case 3:case 4:var k=l.stateNode.containerInfo,G=Hy(i);Gy(i,G,k);break;default:throw Error(r(161))}}catch(ee){ut(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function fw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;fw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Os(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)lw(i,a.alternate,a),a=a.sibling}function oo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ns(4,a,a.return),oo(a);break;case 1:Zr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&rw(a,a.return,l),oo(a);break;case 27:th(a.stateNode);case 26:case 5:Zr(a,a.return),oo(a);break;case 22:a.memoizedState===null&&oo(a);break;case 30:oo(a);break;default:oo(a)}i=i.sibling}}function ks(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:ks(m,g,l),Gc(4,g);break;case 1:if(ks(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){ut(c,c.return,G)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)jT(k[m],S)}catch(G){ut(c,c.return,G)}}l&&b&64&&nw(g),$c(g,g.return);break;case 27:aw(g);case 26:case 5:ks(m,g,l),l&&c===null&&b&4&&iw(g),$c(g,g.return);break;case 12:ks(m,g,l);break;case 13:ks(m,g,l),l&&b&4&&hw(m,g);break;case 22:g.memoizedState===null&&ks(m,g,l),$c(g,g.return);break;case 30:break;default:ks(m,g,l)}a=a.sibling}}function Qy(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Dc(l))}function Yy(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Dc(i))}function ei(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mw(i,a,l,c),a=a.sibling}function mw(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ei(i,a,l,c),m&2048&&Gc(9,a);break;case 1:ei(i,a,l,c);break;case 3:ei(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Dc(i)));break;case 12:if(m&2048){ei(i,a,l,c),i=a.stateNode;try{var g=a.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){ut(a,a.return,k)}}else ei(i,a,l,c);break;case 13:ei(i,a,l,c);break;case 23:break;case 22:g=a.stateNode,b=a.alternate,a.memoizedState!==null?g._visibility&2?ei(i,a,l,c):Kc(i,a):g._visibility&2?ei(i,a,l,c):(g._visibility|=2,Rl(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Qy(b,a);break;case 24:ei(i,a,l,c),m&2048&&Yy(a.alternate,a);break;default:ei(i,a,l,c)}}function Rl(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,b=a,S=l,k=c,G=b.flags;switch(b.tag){case 0:case 11:case 15:Rl(g,b,S,k,m),Gc(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Rl(g,b,S,k,m):Kc(g,b):(ee._visibility|=2,Rl(g,b,S,k,m)),m&&G&2048&&Qy(b.alternate,b);break;case 24:Rl(g,b,S,k,m),m&&G&2048&&Yy(b.alternate,b);break;default:Rl(g,b,S,k,m)}a=a.sibling}}function Kc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:Kc(l,c),m&2048&&Qy(c.alternate,c);break;case 24:Kc(l,c),m&2048&&Yy(c.alternate,c);break;default:Kc(l,c)}a=a.sibling}}var Qc=8192;function Cl(i){if(i.subtreeFlags&Qc)for(i=i.child;i!==null;)pw(i),i=i.sibling}function pw(i){switch(i.tag){case 26:Cl(i),i.flags&Qc&&i.memoizedState!==null&&D2(Or,i.memoizedState,i.memoizedProps);break;case 5:Cl(i);break;case 3:case 4:var a=Or;Or=hm(i.stateNode.containerInfo),Cl(i),Or=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Qc,Qc=16777216,Cl(i),Qc=a):Cl(i));break;default:Cl(i)}}function gw(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Yc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,_w(c,i)}gw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yw(i),i=i.sibling}function yw(i){switch(i.tag){case 0:case 11:case 15:Yc(i),i.flags&2048&&Ns(9,i,i.return);break;case 3:Yc(i);break;case 12:Yc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Zf(i)):Yc(i);break;default:Yc(i)}}function Zf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,_w(c,i)}gw(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ns(8,a,a.return),Zf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Zf(a));break;default:Zf(a)}i=i.sibling}}function _w(i,a){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:Ns(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Dc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,un=c;else e:for(l=i;un!==null;){c=un;var m=c.sibling,g=c.return;if(uw(c),c===l){un=null;break e}if(m!==null){m.return=g,un=m;break e}un=g}}}var KD={getCacheForType:function(i){var a=An(en),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},QD=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Ve=null,je=0,tt=0,tr=null,Vs=!1,xl=!1,Wy=!1,Qi=0,Dt=0,Ms=0,lo=0,Xy=0,br=0,Pl=0,Wc=null,qn=null,Jy=!1,Zy=0,em=1/0,tm=null,Ls=null,yn=0,Us=null,Dl=null,Nl=0,e_=0,t_=null,vw=null,Xc=0,n_=null;function nr(){if((et&2)!==0&&je!==0)return je&-je;if(J.T!==null){var i=vl;return i!==0?i:u_()}return vs()}function Ew(){br===0&&(br=(je&536870912)===0||Ye?ac():536870912);var i=Tr.current;return i!==null&&(i.flags|=32),br}function rr(i,a,l){(i===ft&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(Ol(i,0),Bs(i,je,br,!1)),Ii(i,l),((et&2)===0||i!==ft)&&(i===ft&&((et&2)===0&&(lo|=l),Dt===4&&Bs(i,je,br,!1)),ti(i))}function Tw(i,a,l){if((et&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||ka(i,a),m=c?XD(i,a):s_(i,a,!0),g=c;do{if(m===0){xl&&!c&&Bs(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!YD(l)){m=s_(i,a,!1),g=!1;continue}if(m===2){if(g=a,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var S=i;m=Wc;var k=S.current.memoizedState.isDehydrated;if(k&&(Ol(S,b).flags|=256),b=s_(S,b,!1),b!==2){if(Wy&&!k){S.errorRecoveryDisabledLanes|=g,lo|=g,m=4;break e}g=qn,qn=m,g!==null&&(qn===null?qn=g:qn.push.apply(qn,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){Ol(i,0),Bs(i,a,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Bs(c,a,br,!Vs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Zy+300-hr(),10<m)){if(Bs(c,a,br,!Vs),Wo(c,0,!0)!==0)break e;c.timeoutHandle=Ww(bw.bind(null,c,l,qn,tm,Jy,a,br,lo,Pl,Vs,g,2,-0,0),m);break e}bw(c,l,qn,tm,Jy,a,br,lo,Pl,Vs,g,0,-0,0)}}break}while(!0);ti(i)}function bw(i,a,l,c,m,g,b,S,k,G,ee,se,$,K){if(i.timeoutHandle=-1,se=a.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(ih={stylesheets:null,count:0,unsuspend:P2},pw(a),se=N2(),se!==null)){i.cancelPendingCommit=se(xw.bind(null,i,a,g,l,c,m,b,S,k,ee,1,$,K)),Bs(i,g,b,!G);return}xw(i,a,g,l,c,m,b,S,k)}function YD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Xn(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bs(i,a,l,c){a&=~Xy,a&=~lo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var g=31-Sn(m),b=1<<g;c[g]=-1,m&=~b}l!==0&&zr(i,l,a)}function nm(){return(et&6)===0?(Jc(0),!1):!0}function r_(){if(Ve!==null){if(tt===0)var i=Ve.return;else i=Ve,zi=no=null,Ey(i),Al=null,jc=0,i=Ve;for(;i!==null;)tw(i.alternate,i),i=i.return;Ve=null}}function Ol(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,f2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),r_(),ft=i,Ve=l=Li(i.current,null),je=a,tt=0,tr=null,Vs=!1,xl=ka(i,a),Wy=!1,Pl=br=Xy=lo=Ms=Dt=0,qn=Wc=null,Jy=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-Sn(c),g=1<<m;a|=i[m],c&=~g}return Qi=a,Sf(),l}function ww(i,a){Ne=null,J.H=qf,a===Oc||a===Of?(a=zT(),tt=3):a===LT?(a=zT(),tt=4):tt=a===Fb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,tr=a,Ve===null&&(Dt=1,Qf(i,yr(a,i.current)))}function Sw(){var i=J.H;return J.H=qf,i===null?qf:i}function Aw(){var i=J.A;return J.A=KD,i}function i_(){Dt=4,Vs||(je&4194048)!==je&&Tr.current!==null||(xl=!0),(Ms&134217727)===0&&(lo&134217727)===0||ft===null||Bs(ft,je,br,!1)}function s_(i,a,l){var c=et;et|=2;var m=Sw(),g=Aw();(ft!==i||je!==a)&&(tm=null,Ol(i,a)),a=!1;var b=Dt;e:do try{if(tt!==0&&Ve!==null){var S=Ve,k=tr;switch(tt){case 8:r_(),b=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(a=!0);var G=tt;if(tt=0,tr=null,kl(i,S,k,G),l&&xl){b=0;break e}break;default:G=tt,tt=0,tr=null,kl(i,S,k,G)}}WD(),b=Dt;break}catch(ee){ww(i,ee)}while(!0);return a&&i.shellSuspendCounter++,zi=no=null,et=c,J.H=m,J.A=g,Ve===null&&(ft=null,je=0,Sf()),b}function WD(){for(;Ve!==null;)Iw(Ve)}function XD(i,a){var l=et;et|=2;var c=Sw(),m=Aw();ft!==i||je!==a?(tm=null,em=hr()+500,Ol(i,a)):xl=ka(i,a);e:do try{if(tt!==0&&Ve!==null){a=Ve;var g=tr;t:switch(tt){case 1:tt=0,tr=null,kl(i,a,g,1);break;case 2:case 9:if(UT(g)){tt=0,tr=null,Rw(a);break}a=function(){tt!==2&&tt!==9||ft!==i||(tt=7),ti(i)},g.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:UT(g)?(tt=0,tr=null,Rw(a)):(tt=0,tr=null,kl(i,a,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var S=Ve;if(!b||lS(b)){tt=0,tr=null;var k=S.sibling;if(k!==null)Ve=k;else{var G=S.return;G!==null?(Ve=G,rm(G)):Ve=null}break t}}tt=0,tr=null,kl(i,a,g,5);break;case 6:tt=0,tr=null,kl(i,a,g,6);break;case 8:r_(),Dt=6;break e;default:throw Error(r(462))}}JD();break}catch(ee){ww(i,ee)}while(!0);return zi=no=null,J.H=c,J.A=m,et=l,Ve!==null?0:(ft=null,je=0,Sf(),Dt)}function JD(){for(;Ve!==null&&!nc();)Iw(Ve)}function Iw(i){var a=Zb(i.alternate,i,Qi);i.memoizedProps=i.pendingProps,a===null?rm(i):Ve=a}function Rw(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Kb(l,a,a.pendingProps,a.type,void 0,je);break;case 11:a=Kb(l,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:Ey(a);default:tw(l,a),a=Ve=CT(a,Qi),a=Zb(l,a,Qi)}i.memoizedProps=i.pendingProps,a===null?rm(i):Ve=a}function kl(i,a,l,c){zi=no=null,Ey(a),Al=null,jc=0;var m=a.return;try{if(FD(i,m,a,l,je)){Dt=1,Qf(i,yr(l,i.current)),Ve=null;return}}catch(g){if(m!==null)throw Ve=m,g;Dt=1,Qf(i,yr(l,i.current)),Ve=null;return}a.flags&32768?(Ye||c===1?i=!0:xl||(je&536870912)!==0?i=!1:(Vs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Tr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Cw(a,i)):rm(a)}function rm(i){var a=i;do{if((a.flags&32768)!==0){Cw(a,Vs);return}i=a.return;var l=qD(a.alternate,a,Qi);if(l!==null){Ve=l;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=i}while(a!==null);Dt===0&&(Dt=5)}function Cw(i,a){do{var l=HD(i.alternate,i);if(l!==null){l.flags&=32767,Ve=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=l}while(i!==null);Dt=6,Ve=null}function xw(i,a,l,c,m,g,b,S,k){i.cancelPendingCommit=null;do im();while(yn!==0);if((et&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=Yg,lc(i,l,g,b,S,k),i===ft&&(Ve=ft=null,je=0),Dl=a,Us=i,Nl=l,e_=g,t_=m,vw=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n2(Pa,function(){return kw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=me.p,me.p=2,b=et,et|=4;try{GD(i,a,l)}finally{et=b,me.p=m,J.T=c}}yn=1,Pw(),Dw(),Nw()}}function Pw(){if(yn===1){yn=0;var i=Us,a=Dl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=me.p;me.p=2;var m=et;et|=4;try{dw(a,i);var g=y_,b=_T(i.containerInfo),S=g.focusedElem,k=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&yT(S.ownerDocument.documentElement,S)){if(k!==null&&Hg(S)){var G=k.start,ee=k.end;if(ee===void 0&&(ee=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(ee,S.value.length);else{var se=S.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var K=$.getSelection(),Ce=S.textContent.length,Ae=Math.min(k.start,Ce),ot=k.end===void 0?Ae:Math.min(k.end,Ce);!K.extend&&Ae>ot&&(b=ot,ot=Ae,Ae=b);var z=gT(S,Ae),U=gT(S,ot);if(z&&U&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var H=se.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),Ae>ot?(K.addRange(H),K.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),K.addRange(H))}}}}for(se=[],K=S;K=K.parentNode;)K.nodeType===1&&se.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}gm=!!g_,y_=g_=null}finally{et=m,me.p=c,J.T=l}}i.current=a,yn=2}}function Dw(){if(yn===2){yn=0;var i=Us,a=Dl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=me.p;me.p=2;var m=et;et|=4;try{lw(i,a.alternate,a)}finally{et=m,me.p=c,J.T=l}}yn=3}}function Nw(){if(yn===4||yn===3){yn=0,Jd();var i=Us,a=Dl,l=Nl,c=vw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?yn=5:(yn=0,Dl=Us=null,Ow(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ls=null),Xo(l),a=a.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(xt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=J.T,m=me.p,me.p=2,J.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var S=c[b];g(S.value,{componentStack:S.stack})}}finally{J.T=a,me.p=m}}(Nl&3)!==0&&im(),ti(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===n_?Xc++:(Xc=0,n_=i):Xc=0,Jc(0)}}function Ow(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Dc(a)))}function im(i){return Pw(),Dw(),Nw(),kw()}function kw(){if(yn!==5)return!1;var i=Us,a=e_;e_=0;var l=Xo(Nl),c=J.T,m=me.p;try{me.p=32>l?32:l,J.T=null,l=t_,t_=null;var g=Us,b=Nl;if(yn=0,Dl=Us=null,Nl=0,(et&6)!==0)throw Error(r(331));var S=et;if(et|=4,yw(g.current),mw(g,g.current,b,l),et=S,Jc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(xt,g)}catch{}return!0}finally{me.p=m,J.T=c,Ow(i,a)}}function Vw(i,a,l){a=yr(l,a),a=ky(i.stateNode,a,2),i=Cs(i,a,2),i!==null&&(Ii(i,2),ti(i))}function ut(i,a,l){if(i.tag===3)Vw(i,i,l);else for(;a!==null;){if(a.tag===3){Vw(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ls===null||!Ls.has(c))){i=yr(l,i),l=Bb(2),c=Cs(a,l,2),c!==null&&(zb(l,c,a,i),Ii(c,2),ti(c));break}}a=a.return}}function a_(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new QD;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Wy=!0,m.add(l),i=ZD.bind(null,i,a,l),a.then(i,i))}function ZD(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ft===i&&(je&l)===l&&(Dt===4||Dt===3&&(je&62914560)===je&&300>hr()-Zy?(et&2)===0&&Ol(i,0):Xy|=l,Pl===je&&(Pl=0)),ti(i)}function Mw(i,a){a===0&&(a=oc()),i=pl(i,a),i!==null&&(Ii(i,a),ti(i))}function e2(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Mw(i,l)}function t2(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),Mw(i,l)}function n2(i,a){return Ca(i,a)}var sm=null,Vl=null,o_=!1,am=!1,l_=!1,uo=0;function ti(i){i!==Vl&&i.next===null&&(Vl===null?sm=Vl=i:Vl=Vl.next=i),am=!0,o_||(o_=!0,i2())}function Jc(i,a){if(!l_&&am){l_=!0;do for(var l=!1,c=sm;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Sn(42|i)+1)-1,g&=m&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,zw(c,g))}else g=je,g=Wo(c,c===ft?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ka(c,g)||(l=!0,zw(c,g));c=c.next}while(l);l_=!1}}function r2(){Lw()}function Lw(){am=o_=!1;var i=0;uo!==0&&(d2()&&(i=uo),uo=0);for(var a=hr(),l=null,c=sm;c!==null;){var m=c.next,g=Uw(c,a);g===0?(c.next=null,l===null?sm=m:l.next=m,m===null&&(Vl=l)):(l=c,(i!==0||(g&3)!==0)&&(am=!0)),c=m}Jc(i)}function Uw(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Sn(g),S=1<<b,k=m[b];k===-1?((S&l)===0||(S&c)!==0)&&(m[b]=sc(S,a)):k<=a&&(i.expiredLanes|=S),g&=~S}if(a=ft,l=je,l=Wo(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&xa(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ka(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&xa(c),Xo(l)){case 2:case 8:l=Qo;break;case 32:l=Pa;break;case 268435456:l=Yo;break;default:l=Pa}return c=Bw.bind(null,i),l=Ca(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&xa(c),i.callbackPriority=2,i.callbackNode=null,2}function Bw(i,a){if(yn!==0&&yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(im()&&i.callbackNode!==l)return null;var c=je;return c=Wo(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Tw(i,c,a),Uw(i,hr()),i.callbackNode!=null&&i.callbackNode===l?Bw.bind(null,i):null)}function zw(i,a){if(im())return null;Tw(i,a,!0)}function i2(){m2(function(){(et&6)!==0?Ca(rc,r2):Lw()})}function u_(){return uo===0&&(uo=ac()),uo}function Fw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rl(""+i)}function jw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function s2(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var g=Fw((m[Ht]||null).action),b=c.submitter;b&&(a=(a=b[Ht]||null)?Fw(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var S=new il("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(uo!==0){var k=b?jw(m,b):new FormData(m);xy(l,{pending:!0,data:k,method:m.method,action:g},null,k)}}else typeof g=="function"&&(S.preventDefault(),k=b?jw(m,b):new FormData(m),xy(l,{pending:!0,data:k,method:m.method,action:g},g,k))},currentTarget:m}]})}}for(var c_=0;c_<Qg.length;c_++){var h_=Qg[c_],a2=h_.toLowerCase(),o2=h_[0].toUpperCase()+h_.slice(1);Nr(a2,"on"+o2)}Nr(TT,"onAnimationEnd"),Nr(bT,"onAnimationIteration"),Nr(wT,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(SD,"onTransitionRun"),Nr(AD,"onTransitionStart"),Nr(ID,"onTransitionCancel"),Nr(ST,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function qw(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var b=c.length-1;0<=b;b--){var S=c[b],k=S.instance,G=S.currentTarget;if(S=S.listener,k!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=G;try{g(m)}catch(ee){Kf(ee)}m.currentTarget=null,g=k}else for(b=0;b<c.length;b++){if(S=c[b],k=S.instance,G=S.currentTarget,S=S.listener,k!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=G;try{g(m)}catch(ee){Kf(ee)}m.currentTarget=null,g=k}}}}function Me(i,a){var l=a[cc];l===void 0&&(l=a[cc]=new Set);var c=i+"__bubble";l.has(c)||(Hw(a,i,2,!1),l.add(c))}function d_(i,a,l){var c=0;a&&(c|=4),Hw(l,i,c,a)}var om="_reactListening"+Math.random().toString(36).slice(2);function f_(i){if(!i[om]){i[om]=!0,hc.forEach(function(l){l!=="selectionchange"&&(l2.has(l)||d_(l,!1,i),d_(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[om]||(a[om]=!0,d_("selectionchange",!1,a))}}function Hw(i,a,l,c){switch(mS(a)){case 2:var m=V2;break;case 8:m=M2;break;default:m=R_}l=m.bind(null,a,l,i),m=void 0,!pr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function m_(i,a,l,c,m){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var S=c.stateNode.containerInfo;if(S===m)break;if(b===4)for(b=c.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;S!==null;){if(b=Ri(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){c=g=b;continue e}S=S.parentNode}}c=c.return}uf(function(){var G=g,ee=mr(l),se=[];e:{var $=AT.get(i);if($!==void 0){var K=il,Ce=i;switch(i){case"keypress":if($r(l)===0)break e;case"keydown":case"keyup":K=cl;break;case"focusin":Ce="focus",K=ol;break;case"focusout":Ce="blur",K=ol;break;case"beforeblur":case"afterblur":K=ol;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=yf;break;case TT:case bT:case wT:K=ll;break;case ST:K=vf;break;case"scroll":case"scrollend":K=cf;break;case"wheel":K=hl;break;case"copy":case"cut":case"paste":K=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=wc;break;case"toggle":case"beforetoggle":K=Tf}var Ae=(a&4)!==0,ot=!Ae&&(i==="scroll"||i==="scrollend"),z=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var U=G,H;U!==null;){var re=U;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||z===null||(re=ja(U,z),re!=null&&Ae.push(eh(U,re,H))),ot)break;U=U.return}0<Ae.length&&($=new K($,Ce,null,l,ee),se.push({event:$,listeners:Ae}))}}if((a&7)===0){e:{if($=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",$&&l!==Di&&(Ce=l.relatedTarget||l.fromElement)&&(Ri(Ce)||Ce[dr]))break e;if((K||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ce=l.relatedTarget||l.toElement,K=G,Ce=Ce?Ri(Ce):null,Ce!==null&&(ot=o(Ce),Ae=Ce.tag,Ce!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(Ce=null)):(K=null,Ce=G),K!==Ce)){if(Ae=gr,re="onMouseLeave",z="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=wc,re="onPointerLeave",z="onPointerEnter",U="pointer"),ot=K==null?$:jr(K),H=Ce==null?$:jr(Ce),$=new Ae(re,U+"leave",K,l,ee),$.target=ot,$.relatedTarget=H,re=null,Ri(ee)===G&&(Ae=new Ae(z,U+"enter",Ce,l,ee),Ae.target=H,Ae.relatedTarget=ot,re=Ae),ot=re,K&&Ce)t:{for(Ae=K,z=Ce,U=0,H=Ae;H;H=Ml(H))U++;for(H=0,re=z;re;re=Ml(re))H++;for(;0<U-H;)Ae=Ml(Ae),U--;for(;0<H-U;)z=Ml(z),H--;for(;U--;){if(Ae===z||z!==null&&Ae===z.alternate)break t;Ae=Ml(Ae),z=Ml(z)}Ae=null}else Ae=null;K!==null&&Gw(se,$,K,Ae,!1),Ce!==null&&ot!==null&&Gw(se,ot,Ce,Ae,!0)}}e:{if($=G?jr(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var _e=cT;else if(Zt($))if(hT)_e=TD;else{_e=vD;var ke=_D}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&gc(G.elementType)&&(_e=cT):_e=ED;if(_e&&(_e=_e(i,G))){Mi(se,_e,l,ee);break e}ke&&ke(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&ws($,"number",$.value)}switch(ke=G?jr(G):window,i){case"focusin":(Zt(ke)||ke.contentEditable==="true")&&(dl=ke,Gg=G,Ic=null);break;case"focusout":Ic=Gg=dl=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,vT(se,l,ee);break;case"selectionchange":if(wD)break;case"keydown":case"keyup":vT(se,l,ee)}var be;if(Yr)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ze?Y(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(T&&l.locale!=="ko"&&(ze||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ze&&(be=_c()):(Gr=ee,Ss="value"in Gr?Gr.value:Gr.textContent,ze=!0)),ke=lm(G,Ie),0<ke.length&&(Ie=new Tc(Ie,i,null,l,ee),se.push({event:Ie,listeners:ke}),be?Ie.data=be:(be=de(l),be!==null&&(Ie.data=be)))),(be=_?Jt(i,l):Fe(i,l))&&(Ie=lm(G,"onBeforeInput"),0<Ie.length&&(ke=new Tc("onBeforeInput","beforeinput",null,l,ee),se.push({event:ke,listeners:Ie}),ke.data=be)),s2(se,i,G,l,ee)}qw(se,a)})}function eh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function lm(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ja(i,l),m!=null&&c.unshift(eh(i,m,g)),m=ja(i,a),m!=null&&c.push(eh(i,m,g))),i.tag===3)return c;i=i.return}return[]}function Ml(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gw(i,a,l,c,m){for(var g=a._reactName,b=[];l!==null&&l!==c;){var S=l,k=S.alternate,G=S.stateNode;if(S=S.tag,k!==null&&k===c)break;S!==5&&S!==26&&S!==27||G===null||(k=G,m?(G=ja(l,g),G!=null&&b.unshift(eh(l,G,k))):m||(G=ja(l,g),G!=null&&b.push(eh(l,G,k)))),l=l.return}b.length!==0&&i.push({event:a,listeners:b})}var u2=/\r\n?/g,c2=/\u0000|\uFFFD/g;function $w(i){return(typeof i=="string"?i:""+i).replace(u2,`
`).replace(c2,"")}function Kw(i,a){return a=$w(a),$w(i)===a}function um(){}function at(i,a,l,c,m,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||fr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&fr(i,""+c);break;case"className":qr(i,"class",c);break;case"tabIndex":qr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(i,l,c);break;case"style":pc(i,c,g);break;case"data":if(a!=="object"){qr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=rl(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&at(i,a,"name",m.name,m,null),at(i,a,"formEncType",m.formEncType,m,null),at(i,a,"formMethod",m.formMethod,m,null),at(i,a,"formTarget",m.formTarget,m,null)):(at(i,a,"encType",m.encType,m,null),at(i,a,"method",m.method,m,null),at(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=rl(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=um);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=rl(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Me("beforetoggle",i),Me("toggle",i),bs(i,"popover",c);break;case"xlinkActuate":mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":mn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":mn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":mn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":mn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ug.get(l)||l,bs(i,l,c))}}function p_(i,a,l,c,m,g){switch(l){case"style":pc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?fr(i,c):(typeof c=="number"||typeof c=="bigint")&&fr(i,""+c);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"onClick":c!=null&&(i.onclick=um);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=i[Ht]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):bs(i,l,c)}}}function _n(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:at(i,a,g,b,l,null)}}m&&at(i,a,"srcSet",l.srcSet,l,null),c&&at(i,a,"src",l.src,l,null);return;case"input":Me("invalid",i);var S=g=b=m=null,k=null,G=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":b=ee;break;case"checked":k=ee;break;case"defaultChecked":G=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:at(i,a,c,ee,l,null)}}Ba(i,g,S,k,G,b,m,!1),nl(i);return;case"select":Me("invalid",i),c=b=g=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":c=S;default:at(i,a,m,S,l,null)}a=g,l=b,i.multiple=!!c,a!=null?Pi(i,!!c,a,!1):l!=null&&Pi(i,!!c,l,!0);return;case"textarea":Me("invalid",i),g=m=c=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:at(i,a,b,S,l,null)}za(i,c,m,g),nl(i);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(i,a,k,c,l,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(c=0;c<Zc.length;c++)Me(Zc[c],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:at(i,a,G,c,l,null)}return;default:if(gc(a)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&p_(i,a,ee,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&at(i,a,S,c,l,null))}function h2(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,S=null,k=null,G=null,ee=null;for(K in l){var se=l[K];if(l.hasOwnProperty(K)&&se!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=se;default:c.hasOwnProperty(K)||at(i,a,K,null,c,se)}}for(var $ in c){var K=c[$];if(se=l[$],c.hasOwnProperty($)&&(K!=null||se!=null))switch($){case"type":g=K;break;case"name":m=K;break;case"checked":G=K;break;case"defaultChecked":ee=K;break;case"value":b=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:K!==se&&at(i,a,$,K,c,se)}}Wn(i,b,S,k,G,ee,g,m);return;case"select":K=b=S=$=null;for(g in l)if(k=l[g],l.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":K=k;default:c.hasOwnProperty(g)||at(i,a,g,null,c,k)}for(m in c)if(g=c[m],k=l[m],c.hasOwnProperty(m)&&(g!=null||k!=null))switch(m){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==k&&at(i,a,m,g,c,k)}a=S,l=b,c=K,$!=null?Pi(i,!!l,$,!1):!!c!=!!l&&(a!=null?Pi(i,!!l,a,!0):Pi(i,!!l,l?[]:"",!1));return;case"textarea":K=$=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:at(i,a,S,null,c,m)}for(b in c)if(m=c[b],g=l[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":$=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&at(i,a,b,m,c,g)}it(i,$,K);return;case"option":for(var Ce in l)if($=l[Ce],l.hasOwnProperty(Ce)&&$!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":i.selected=!1;break;default:at(i,a,Ce,null,c,$)}for(k in c)if($=c[k],K=l[k],c.hasOwnProperty(k)&&$!==K&&($!=null||K!=null))switch(k){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(i,a,k,$,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)$=l[Ae],l.hasOwnProperty(Ae)&&$!=null&&!c.hasOwnProperty(Ae)&&at(i,a,Ae,null,c,$);for(G in c)if($=c[G],K=l[G],c.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,a));break;default:at(i,a,G,$,c,K)}return;default:if(gc(a)){for(var ot in l)$=l[ot],l.hasOwnProperty(ot)&&$!==void 0&&!c.hasOwnProperty(ot)&&p_(i,a,ot,void 0,c,$);for(ee in c)$=c[ee],K=l[ee],!c.hasOwnProperty(ee)||$===K||$===void 0&&K===void 0||p_(i,a,ee,$,c,K);return}}for(var z in l)$=l[z],l.hasOwnProperty(z)&&$!=null&&!c.hasOwnProperty(z)&&at(i,a,z,null,c,$);for(se in c)$=c[se],K=l[se],!c.hasOwnProperty(se)||$===K||$==null&&K==null||at(i,a,se,$,c,K)}var g_=null,y_=null;function cm(i){return i.nodeType===9?i:i.ownerDocument}function Qw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yw(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function __(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var v_=null;function d2(){var i=window.event;return i&&i.type==="popstate"?i===v_?!1:(v_=i,!0):(v_=null,!1)}var Ww=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,Xw=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof Xw<"u"?function(i){return Xw.resolve(null).then(i).catch(p2)}:Ww;function p2(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function Jw(i,a){var l=a,c=0,m=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var b=i.ownerDocument;if(l&1&&th(b.documentElement),l&2&&th(b.body),l&4)for(l=b.head,th(l),b=l.firstChild;b;){var S=b.nextSibling,k=b.nodeName;b[Va]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=S}}if(m===0){i.removeChild(g),uh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);uh(a)}function E_(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":E_(l),Ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function g2(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Va])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=kr(i.nextSibling),i===null)break}return null}function y2(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=kr(i.nextSibling),i===null))return null;return i}function T_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function _2(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function kr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var b_=null;function Zw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function eS(i,a,l){switch(a=cm(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function th(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ts(i)}var wr=new Map,tS=new Set;function hm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yi=me.d;me.d={f:v2,r:E2,D:T2,C:b2,L:w2,m:S2,X:I2,S:A2,M:R2};function v2(){var i=Yi.f(),a=nm();return i||a}function E2(i){var a=Fr(i);a!==null&&a.tag===5&&a.type==="form"?Tb(a):Yi.r(i)}var Ll=typeof document>"u"?null:document;function nS(i,a,l){var c=Ll;if(c&&typeof a=="string"&&a){var m=Gt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),tS.has(m)||(tS.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),_n(a,"link",i),Lt(a),c.head.appendChild(a)))}}function T2(i){Yi.D(i),nS("dns-prefetch",i,null)}function b2(i,a){Yi.C(i,a),nS("preconnect",i,a)}function w2(i,a,l){Yi.L(i,a,l);var c=Ll;if(c&&i&&a){var m='link[rel="preload"][as="'+Gt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Gt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Gt(l.imageSizes)+'"]')):m+='[href="'+Gt(i)+'"]';var g=m;switch(a){case"style":g=Ul(i);break;case"script":g=Bl(i)}wr.has(g)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),wr.set(g,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(nh(g))||a==="script"&&c.querySelector(rh(g))||(a=c.createElement("link"),_n(a,"link",i),Lt(a),c.head.appendChild(a)))}}function S2(i,a){Yi.m(i,a);var l=Ll;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bl(i)}if(!wr.has(g)&&(i=y({rel:"modulepreload",href:i},a),wr.set(g,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rh(g)))return}c=l.createElement("link"),_n(c,"link",i),Lt(c),l.head.appendChild(c)}}}function A2(i,a,l){Yi.S(i,a,l);var c=Ll;if(c&&i){var m=Nn(c).hoistableStyles,g=Ul(i);a=a||"default";var b=m.get(g);if(!b){var S={loading:0,preload:null};if(b=c.querySelector(nh(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=wr.get(g))&&w_(i,l);var k=b=c.createElement("link");Lt(k),_n(k,"link",i),k._p=new Promise(function(G,ee){k.onload=G,k.onerror=ee}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,dm(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:S},m.set(g,b)}}}function I2(i,a){Yi.X(i,a);var l=Ll;if(l&&i){var c=Nn(l).hoistableScripts,m=Bl(i),g=c.get(m);g||(g=l.querySelector(rh(m)),g||(i=y({src:i,async:!0},a),(a=wr.get(m))&&S_(i,a),g=l.createElement("script"),Lt(g),_n(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function R2(i,a){Yi.M(i,a);var l=Ll;if(l&&i){var c=Nn(l).hoistableScripts,m=Bl(i),g=c.get(m);g||(g=l.querySelector(rh(m)),g||(i=y({src:i,async:!0,type:"module"},a),(a=wr.get(m))&&S_(i,a),g=l.createElement("script"),Lt(g),_n(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function rS(i,a,l,c){var m=(m=xe.current)?hm(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ul(l.href),l=Nn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ul(l.href);var g=Nn(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(nh(i)))&&!g._p&&(b.instance=g,b.state.loading=5),wr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},wr.set(i,l),g||C2(m,i,l,b.state))),a&&c===null)throw Error(r(528,""));return b}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bl(l),l=Nn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ul(i){return'href="'+Gt(i)+'"'}function nh(i){return'link[rel="stylesheet"]['+i+"]"}function iS(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function C2(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),_n(a,"link",l),Lt(a),i.head.appendChild(a))}function Bl(i){return'[src="'+Gt(i)+'"]'}function rh(i){return"script[async]"+i}function sS(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Gt(l.href)+'"]');if(c)return a.instance=c,Lt(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Lt(c),_n(c,"style",m),dm(c,l.precedence,i),a.instance=c;case"stylesheet":m=Ul(l.href);var g=i.querySelector(nh(m));if(g)return a.state.loading|=4,a.instance=g,Lt(g),g;c=iS(l),(m=wr.get(m))&&w_(c,m),g=(i.ownerDocument||i).createElement("link"),Lt(g);var b=g;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),_n(g,"link",c),a.state.loading|=4,dm(g,l.precedence,i),a.instance=g;case"script":return g=Bl(l.src),(m=i.querySelector(rh(g)))?(a.instance=m,Lt(m),m):(c=l,(m=wr.get(g))&&(c=y({},l),S_(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Lt(m),_n(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,dm(c,l.precedence,i));return a.instance}function dm(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var S=c[b];if(S.dataset.precedence===a)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function w_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function S_(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var fm=null;function aS(i,a,l){if(fm===null){var c=new Map,m=fm=new Map;m.set(l,c)}else m=fm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[Va]||g[Xt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=i+b;var S=c.get(b);S?S.push(g):c.set(b,[g])}}return c}function oS(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function x2(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function lS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ih=null;function P2(){}function D2(i,a,l){if(ih===null)throw Error(r(475));var c=ih;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ul(l.href),g=i.querySelector(nh(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=mm.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,Lt(g);return}g=i.ownerDocument||i,l=iS(l),(m=wr.get(m))&&w_(l,m),g=g.createElement("link"),Lt(g);var b=g;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),_n(g,"link",l),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=mm.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function N2(){if(ih===null)throw Error(r(475));var i=ih;return i.stylesheets&&i.count===0&&A_(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&A_(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function mm(){if(this.count--,this.count===0){if(this.stylesheets)A_(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pm=null;function A_(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pm=new Map,a.forEach(O2,i),pm=null,mm.call(i))}function O2(i,a){if(!(a.state.loading&4)){var l=pm.get(i);if(l)var c=l.get(null);else{l=new Map,pm.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}m=a.instance,b=m.getAttribute("data-precedence"),g=l.get(b)||c,g===c&&l.set(null,m),l.set(b,m),this.count++,c=mm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var sh={$$typeof:F,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function k2(i,a,l,c,m,g,b,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function uS(i,a,l,c,m,g,b,S,k,G,ee,se){return i=new k2(i,a,l,b,S,k,G,se),a=1,g===!0&&(a|=24),g=Jn(3,null,null,a),i.current=g,g.stateNode=i,a=ay(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},cy(g),i}function cS(i){return i?(i=gl,i):gl}function hS(i,a,l,c,m,g){m=cS(m),c.context===null?c.context=m:c.pendingContext=m,c=Rs(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Cs(i,c,a),l!==null&&(rr(l,i,a),Vc(l,i,a))}function dS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function I_(i,a){dS(i,a),(i=i.alternate)&&dS(i,a)}function fS(i){if(i.tag===13){var a=pl(i,67108864);a!==null&&rr(a,i,67108864),I_(i,67108864)}}var gm=!0;function V2(i,a,l,c){var m=J.T;J.T=null;var g=me.p;try{me.p=2,R_(i,a,l,c)}finally{me.p=g,J.T=m}}function M2(i,a,l,c){var m=J.T;J.T=null;var g=me.p;try{me.p=8,R_(i,a,l,c)}finally{me.p=g,J.T=m}}function R_(i,a,l,c){if(gm){var m=C_(c);if(m===null)m_(i,a,c,ym,l),pS(i,c);else if(U2(m,i,a,l,c))c.stopPropagation();else if(pS(i,c),a&4&&-1<L2.indexOf(i)){for(;m!==null;){var g=Fr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=xr(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-Sn(b);S.entanglements[1]|=k,b&=~k}ti(g),(et&6)===0&&(em=hr()+500,Jc(0))}}break;case 13:S=pl(g,2),S!==null&&rr(S,g,2),nm(),I_(g,2)}if(g=C_(c),g===null&&m_(i,a,c,ym,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else m_(i,a,c,null,l)}}function C_(i){return i=mr(i),x_(i)}var ym=null;function x_(i){if(ym=null,i=Ri(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return ym=i,null}function mS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ng()){case rc:return 2;case Qo:return 8;case Pa:case Og:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var P_=!1,Fs=null,js=null,qs=null,ah=new Map,oh=new Map,Hs=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pS(i,a){switch(i){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ah.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(a.pointerId)}}function lh(i,a,l,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=Fr(a),a!==null&&fS(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function U2(i,a,l,c,m){switch(a){case"focusin":return Fs=lh(Fs,i,a,l,c,m),!0;case"dragenter":return js=lh(js,i,a,l,c,m),!0;case"mouseover":return qs=lh(qs,i,a,l,c,m),!0;case"pointerover":var g=m.pointerId;return ah.set(g,lh(ah.get(g)||null,i,a,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,oh.set(g,lh(oh.get(g)||null,i,a,l,c,m)),!0}return!1}function gS(i){var a=Ri(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,tf(i.priority,function(){if(l.tag===13){var c=nr();c=_s(c);var m=pl(l,c);m!==null&&rr(m,l,c),I_(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _m(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=C_(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Di=c,l.target.dispatchEvent(c),Di=null}else return a=Fr(l),a!==null&&fS(a),i.blockedOn=l,!1;a.shift()}return!0}function yS(i,a,l){_m(i)&&l.delete(a)}function B2(){P_=!1,Fs!==null&&_m(Fs)&&(Fs=null),js!==null&&_m(js)&&(js=null),qs!==null&&_m(qs)&&(qs=null),ah.forEach(yS),oh.forEach(yS)}function vm(i,a){i.blockedOn===a&&(i.blockedOn=null,P_||(P_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,B2)))}var Em=null;function _S(i){Em!==i&&(Em=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Em===i&&(Em=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(x_(c||l)===null)continue;break}var g=Fr(l);g!==null&&(i.splice(a,3),a-=3,xy(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function uh(i){function a(k){return vm(k,i)}Fs!==null&&vm(Fs,i),js!==null&&vm(js,i),qs!==null&&vm(qs,i),ah.forEach(a),oh.forEach(a);for(var l=0;l<Hs.length;l++){var c=Hs[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Hs.length&&(l=Hs[0],l.blockedOn===null);)gS(l),l.blockedOn===null&&Hs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],b=m[Ht]||null;if(typeof g=="function")b||_S(l);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[Ht]||null)S=b.formAction;else if(x_(m)!==null)continue}else S=b.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),_S(l)}}}function D_(i){this._internalRoot=i}Tm.prototype.render=D_.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=nr();hS(l,c,i,a,null,null)},Tm.prototype.unmount=D_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;hS(i.current,2,null,i,null,null),nm(),a[dr]=null}};function Tm(i){this._internalRoot=i}Tm.prototype.unstable_scheduleHydration=function(i){if(i){var a=vs();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Hs.length&&a!==0&&a<Hs[l].priority;l++);Hs.splice(l,0,i),l===0&&gS(i)}};var vS=e.version;if(vS!=="19.1.0")throw Error(r(527,vS,"19.1.0"));me.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var z2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bm.isDisabled&&bm.supportsFiber)try{xt=bm.inject(z2),Ze=bm}catch{}}return hh.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=Vb,g=Mb,b=Lb,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=uS(i,1,!1,null,null,l,c,m,g,b,S,null),i[dr]=a.current,f_(i),new D_(a)},hh.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",g=Vb,b=Mb,S=Lb,k=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),a=uS(i,1,!0,a,l??null,c,m,g,b,S,k,G),a.context=cS(null),l=a.current,c=nr(),c=_s(c),m=Rs(c),m.callback=null,Cs(l,m,c),l=c,a.current.lanes=l,Ii(a,l),ti(a),i[dr]=a.current,f_(i),new Tm(a)},hh.version="19.1.0",hh}var PS;function Z2(){if(PS)return k_.exports;PS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),k_.exports=J2(),k_.exports}var eN=Z2();const tN="/assets/loogo-B5zyZ3TK.jpg",DS=n=>n,nN=()=>{let n=DS;return{configure(e){n=e},generate(e){return n(e)},reset(){n=DS}}},rN=nN();function Ro(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function mu(n){if(typeof n!="string")throw new Error(Ro(7));return n.charAt(0).toUpperCase()+n.slice(1)}function yR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=yR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function iN(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=yR(n))&&(r&&(r+=" "),r+=e);return r}function sN(n,e,t=void 0){const r={};for(const s in n){const o=n[s];let u="",h=!0;for(let f=0;f<o.length;f+=1){const p=o[f];p&&(u+=(h===!0?"":" ")+e(p),h=!1,t&&t[p]&&(u+=" "+t[p]))}r[s]=u}return r}var U_={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function aN(){if(NS)return lt;NS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),I=Symbol.for("react.client.reference");function R(C){if(typeof C=="object"&&C!==null){var V=C.$$typeof;switch(V){case n:switch(C=C.type,C){case t:case s:case r:case f:case p:case E:return C;default:switch(C=C&&C.$$typeof,C){case u:case h:case v:case y:return C;case o:return C;default:return V}}case e:return V}}}return lt.ContextConsumer=o,lt.ContextProvider=u,lt.Element=n,lt.ForwardRef=h,lt.Fragment=t,lt.Lazy=v,lt.Memo=y,lt.Portal=e,lt.Profiler=s,lt.StrictMode=r,lt.Suspense=f,lt.SuspenseList=p,lt.isContextConsumer=function(C){return R(C)===o},lt.isContextProvider=function(C){return R(C)===u},lt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},lt.isForwardRef=function(C){return R(C)===h},lt.isFragment=function(C){return R(C)===t},lt.isLazy=function(C){return R(C)===v},lt.isMemo=function(C){return R(C)===y},lt.isPortal=function(C){return R(C)===e},lt.isProfiler=function(C){return R(C)===s},lt.isStrictMode=function(C){return R(C)===r},lt.isSuspense=function(C){return R(C)===f},lt.isSuspenseList=function(C){return R(C)===p},lt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===s||C===r||C===f||C===p||typeof C=="object"&&C!==null&&(C.$$typeof===v||C.$$typeof===y||C.$$typeof===u||C.$$typeof===o||C.$$typeof===h||C.$$typeof===I||C.getModuleId!==void 0)},lt.typeOf=R,lt}var OS;function oN(){return OS||(OS=1,U_.exports=aN()),U_.exports}var _R=oN();function Xi(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function vR(n){if(W.isValidElement(n)||_R.isValidElementType(n)||!Xi(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=vR(n[t])}),e}function lr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Xi(n)&&Xi(e)&&Object.keys(e).forEach(s=>{W.isValidElement(e[s])||_R.isValidElementType(e[s])?r[s]=e[s]:Xi(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Xi(n[s])?r[s]=lr(n[s],e[s],t):t.clone?r[s]=Xi(e[s])?vR(e[s]):e[s]:r[s]=e[s]}),r}function Oh(n,e){return e?lr(n,e,{clone:!1}):n}function lN(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=s.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,s)=>{const o=e[s];return delete r[s],r[s]=o,r},{...e}):e}function uN(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function cN(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(o)}function hN(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},s=o=>(t(r,o),r);return t(s),{...n,containerQueries:s}}const Op={xs:0,sm:600,md:900,lg:1200,xl:1536},kS={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Op[n]}px)`},dN={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Op[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function rs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||kS;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||kS;return Object.keys(e).reduce((u,h)=>{if(uN(o.keys,h)){const f=cN(r.containerQueries?r:dN,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||Op).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function fN(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,s)=>{const o=n.up(s);return r[o]={},r},{}))||{}}function mN(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function kp(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function rp(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=kp(n,t)||r,e&&(s=e(s,r,n)),s}function qt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,p=kp(f,r)||{};return rs(u,h,v=>{let E=rp(p,s,v);return v===E&&typeof v=="string"&&(E=rp(p,s,`${e}${v==="default"?"":mu(v)}`,v)),t===!1?E:{[t]:E}})};return o.propTypes={},o.filterProps=[e],o}function pN(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const gN={m:"margin",p:"padding"},yN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},VS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_N=pN(n=>{if(n.length>2)if(VS[n])n=VS[n];else return[n];const[e,t]=n.split(""),r=gN[e],s=yN[t]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),l0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...l0,...u0];function Sd(n,e,t,r){const s=kp(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=s[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function c0(n){return Sd(n,"spacing",8)}function Ad(n,e){return typeof e=="string"||e==null?e:n(e)}function vN(n,e){return t=>n.reduce((r,s)=>(r[s]=Ad(e,t),r),{})}function EN(n,e,t,r){if(!e.includes(t))return null;const s=_N(t),o=vN(s,r),u=n[t];return rs(n,u,o)}function ER(n,e){const t=c0(n.theme);return Object.keys(n).map(r=>EN(n,e,r,t)).reduce(Oh,{})}function Nt(n){return ER(n,l0)}Nt.propTypes={};Nt.filterProps=l0;function Ot(n){return ER(n,u0)}Ot.propTypes={};Ot.filterProps=u0;function Vp(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),t=r=>Object.keys(r).reduce((s,o)=>e[o]?Oh(s,e[o](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Sr(n){return typeof n!="number"?n:`${n}px solid`}function Cr(n,e){return qt({prop:n,themeKey:"borders",transform:e})}const TN=Cr("border",Sr),bN=Cr("borderTop",Sr),wN=Cr("borderRight",Sr),SN=Cr("borderBottom",Sr),AN=Cr("borderLeft",Sr),IN=Cr("borderColor"),RN=Cr("borderTopColor"),CN=Cr("borderRightColor"),xN=Cr("borderBottomColor"),PN=Cr("borderLeftColor"),DN=Cr("outline",Sr),NN=Cr("outlineColor"),Mp=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Sd(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ad(e,r)});return rs(n,n.borderRadius,t)}return null};Mp.propTypes={};Mp.filterProps=["borderRadius"];Vp(TN,bN,wN,SN,AN,IN,RN,CN,xN,PN,Mp,DN,NN);const Lp=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Sd(n.theme,"spacing",8),t=r=>({gap:Ad(e,r)});return rs(n,n.gap,t)}return null};Lp.propTypes={};Lp.filterProps=["gap"];const Up=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Sd(n.theme,"spacing",8),t=r=>({columnGap:Ad(e,r)});return rs(n,n.columnGap,t)}return null};Up.propTypes={};Up.filterProps=["columnGap"];const Bp=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Sd(n.theme,"spacing",8),t=r=>({rowGap:Ad(e,r)});return rs(n,n.rowGap,t)}return null};Bp.propTypes={};Bp.filterProps=["rowGap"];const ON=qt({prop:"gridColumn"}),kN=qt({prop:"gridRow"}),VN=qt({prop:"gridAutoFlow"}),MN=qt({prop:"gridAutoColumns"}),LN=qt({prop:"gridAutoRows"}),UN=qt({prop:"gridTemplateColumns"}),BN=qt({prop:"gridTemplateRows"}),zN=qt({prop:"gridTemplateAreas"}),FN=qt({prop:"gridArea"});Vp(Lp,Up,Bp,ON,kN,VN,MN,LN,UN,BN,zN,FN);function su(n,e){return e==="grey"?e:n}const jN=qt({prop:"color",themeKey:"palette",transform:su}),qN=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:su}),HN=qt({prop:"backgroundColor",themeKey:"palette",transform:su});Vp(jN,qN,HN);function ar(n){return n<=1&&n!==0?`${n*100}%`:n}const GN=qt({prop:"width",transform:ar}),h0=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var s,o,u,h,f;const r=((u=(o=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Op[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ar(t)}};return rs(n,n.maxWidth,e)}return null};h0.filterProps=["maxWidth"];const $N=qt({prop:"minWidth",transform:ar}),KN=qt({prop:"height",transform:ar}),QN=qt({prop:"maxHeight",transform:ar}),YN=qt({prop:"minHeight",transform:ar});qt({prop:"size",cssProperty:"width",transform:ar});qt({prop:"size",cssProperty:"height",transform:ar});const WN=qt({prop:"boxSizing"});Vp(GN,h0,$N,KN,QN,YN,WN);const zp={border:{themeKey:"borders",transform:Sr},borderTop:{themeKey:"borders",transform:Sr},borderRight:{themeKey:"borders",transform:Sr},borderBottom:{themeKey:"borders",transform:Sr},borderLeft:{themeKey:"borders",transform:Sr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mp},color:{themeKey:"palette",transform:su},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:su},backgroundColor:{themeKey:"palette",transform:su},p:{style:Ot},pt:{style:Ot},pr:{style:Ot},pb:{style:Ot},pl:{style:Ot},px:{style:Ot},py:{style:Ot},padding:{style:Ot},paddingTop:{style:Ot},paddingRight:{style:Ot},paddingBottom:{style:Ot},paddingLeft:{style:Ot},paddingX:{style:Ot},paddingY:{style:Ot},paddingInline:{style:Ot},paddingInlineStart:{style:Ot},paddingInlineEnd:{style:Ot},paddingBlock:{style:Ot},paddingBlockStart:{style:Ot},paddingBlockEnd:{style:Ot},m:{style:Nt},mt:{style:Nt},mr:{style:Nt},mb:{style:Nt},ml:{style:Nt},mx:{style:Nt},my:{style:Nt},margin:{style:Nt},marginTop:{style:Nt},marginRight:{style:Nt},marginBottom:{style:Nt},marginLeft:{style:Nt},marginX:{style:Nt},marginY:{style:Nt},marginInline:{style:Nt},marginInlineStart:{style:Nt},marginInlineEnd:{style:Nt},marginBlock:{style:Nt},marginBlockStart:{style:Nt},marginBlockEnd:{style:Nt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lp},rowGap:{style:Bp},columnGap:{style:Up},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ar},maxWidth:{style:h0},minWidth:{transform:ar},height:{transform:ar},maxHeight:{transform:ar},minHeight:{transform:ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function XN(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function JN(n,e){return typeof n=="function"?n(e):n}function ZN(){function n(t,r,s,o){const u={[t]:r,theme:s},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:p,transform:y,style:v}=h;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[t]:r};const E=kp(s,p)||{};return v?v(u):rs(u,r,R=>{let C=rp(E,y,R);return R===C&&typeof R=="string"&&(C=rp(E,y,`${t}${R==="default"?"":mu(R)}`,R)),f===!1?C:{[f]:C}})}function e(t){const{sx:r,theme:s={}}=t||{};if(!r)return null;const o=s.unstable_sxConfig??zp;function u(h){let f=h;if(typeof h=="function")f=h(s);else if(typeof h!="object")return h;if(!f)return null;const p=fN(s.breakpoints),y=Object.keys(p);let v=p;return Object.keys(f).forEach(E=>{const I=JN(f[E],s);if(I!=null)if(typeof I=="object")if(o[E])v=Oh(v,n(E,I,s,o));else{const R=rs({theme:s},I,C=>({[E]:C}));XN(R,I)?v[E]=e({sx:I,theme:s}):v=Oh(v,R)}else v=Oh(v,n(E,I,s,o))}),lN(s,mN(y,v))}return Array.isArray(r)?r.map(u):u(r)}return e}const pu=ZN();pu.filterProps=["sx"];function cv(){return cv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cv.apply(null,arguments)}function eO(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function tO(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var nO=function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tO(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=eO(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Cn="-ms-",ip="-moz-",We="-webkit-",TR="comm",d0="rule",f0="decl",rO="@import",bR="@keyframes",iO="@layer",sO=Math.abs,Fp=String.fromCharCode,aO=Object.assign;function oO(n,e){return En(n,0)^45?(((e<<2^En(n,0))<<2^En(n,1))<<2^En(n,2))<<2^En(n,3):0}function wR(n){return n.trim()}function lO(n,e){return(n=e.exec(n))?n[0]:n}function Xe(n,e,t){return n.replace(e,t)}function hv(n,e){return n.indexOf(e)}function En(n,e){return n.charCodeAt(e)|0}function Yh(n,e,t){return n.slice(e,t)}function ii(n){return n.length}function m0(n){return n.length}function wm(n,e){return e.push(n),n}function uO(n,e){return n.map(e).join("")}var jp=1,gu=1,SR=0,Qn=0,Wt=0,zu="";function qp(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:jp,column:gu,length:u,return:""}}function dh(n,e){return aO(qp("",null,null,"",null,null,0),n,{length:-n.length},e)}function cO(){return Wt}function hO(){return Wt=Qn>0?En(zu,--Qn):0,gu--,Wt===10&&(gu=1,jp--),Wt}function ur(){return Wt=Qn<SR?En(zu,Qn++):0,gu++,Wt===10&&(gu=1,jp++),Wt}function mi(){return En(zu,Qn)}function Vm(){return Qn}function Id(n,e){return Yh(zu,n,e)}function Wh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AR(n){return jp=gu=1,SR=ii(zu=n),Qn=0,[]}function IR(n){return zu="",n}function Mm(n){return wR(Id(Qn-1,dv(n===91?n+2:n===40?n+1:n)))}function dO(n){for(;(Wt=mi())&&Wt<33;)ur();return Wh(n)>2||Wh(Wt)>3?"":" "}function fO(n,e){for(;--e&&ur()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return Id(n,Vm()+(e<6&&mi()==32&&ur()==32))}function dv(n){for(;ur();)switch(Wt){case n:return Qn;case 34:case 39:n!==34&&n!==39&&dv(Wt);break;case 40:n===41&&dv(n);break;case 92:ur();break}return Qn}function mO(n,e){for(;ur()&&n+Wt!==57;)if(n+Wt===84&&mi()===47)break;return"/*"+Id(e,Qn-1)+"*"+Fp(n===47?n:ur())}function pO(n){for(;!Wh(mi());)ur();return Id(n,Qn)}function gO(n){return IR(Lm("",null,null,null,[""],n=AR(n),0,[0],n))}function Lm(n,e,t,r,s,o,u,h,f){for(var p=0,y=0,v=u,E=0,I=0,R=0,C=1,V=1,B=1,X=0,F="",te=s,ne=o,ce=r,P=F;V;)switch(R=X,X=ur()){case 40:if(R!=108&&En(P,v-1)==58){hv(P+=Xe(Mm(X),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:P+=Mm(X);break;case 9:case 10:case 13:case 32:P+=dO(R);break;case 92:P+=fO(Vm()-1,7);continue;case 47:switch(mi()){case 42:case 47:wm(yO(mO(ur(),Vm()),e,t),f);break;default:P+="/"}break;case 123*C:h[p++]=ii(P)*B;case 125*C:case 59:case 0:switch(X){case 0:case 125:V=0;case 59+y:B==-1&&(P=Xe(P,/\f/g,"")),I>0&&ii(P)-v&&wm(I>32?LS(P+";",r,t,v-1):LS(Xe(P," ","")+";",r,t,v-2),f);break;case 59:P+=";";default:if(wm(ce=MS(P,e,t,p,y,s,h,F,te=[],ne=[],v),o),X===123)if(y===0)Lm(P,e,ce,ce,te,o,v,h,ne);else switch(E===99&&En(P,3)===110?100:E){case 100:case 108:case 109:case 115:Lm(n,ce,ce,r&&wm(MS(n,ce,ce,0,0,s,h,F,s,te=[],v),ne),s,ne,v,h,r?te:ne);break;default:Lm(P,ce,ce,ce,[""],ne,0,h,ne)}}p=y=I=0,C=B=1,F=P="",v=u;break;case 58:v=1+ii(P),I=R;default:if(C<1){if(X==123)--C;else if(X==125&&C++==0&&hO()==125)continue}switch(P+=Fp(X),X*C){case 38:B=y>0?1:(P+="\f",-1);break;case 44:h[p++]=(ii(P)-1)*B,B=1;break;case 64:mi()===45&&(P+=Mm(ur())),E=mi(),y=v=ii(F=P+=pO(Vm())),X++;break;case 45:R===45&&ii(P)==2&&(C=0)}}return o}function MS(n,e,t,r,s,o,u,h,f,p,y){for(var v=s-1,E=s===0?o:[""],I=m0(E),R=0,C=0,V=0;R<r;++R)for(var B=0,X=Yh(n,v+1,v=sO(C=u[R])),F=n;B<I;++B)(F=wR(C>0?E[B]+" "+X:Xe(X,/&\f/g,E[B])))&&(f[V++]=F);return qp(n,e,t,s===0?d0:h,f,p,y)}function yO(n,e,t){return qp(n,e,t,TR,Fp(cO()),Yh(n,2,-2),0)}function LS(n,e,t,r){return qp(n,e,t,f0,Yh(n,0,r),Yh(n,r+1,-1),r)}function au(n,e){for(var t="",r=m0(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function _O(n,e,t,r){switch(n.type){case iO:if(n.children.length)break;case rO:case f0:return n.return=n.return||n.value;case TR:return"";case bR:return n.return=n.value+"{"+au(n.children,r)+"}";case d0:n.value=n.props.join(",")}return ii(t=au(n.children,r))?n.return=n.value+"{"+t+"}":""}function vO(n){var e=m0(n);return function(t,r,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,s,o)||"";return u}}function EO(n){return function(e){e.root||(e=e.return)&&n(e)}}function RR(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var TO=function(e,t,r){for(var s=0,o=0;s=o,o=mi(),s===38&&o===12&&(t[r]=1),!Wh(o);)ur();return Id(e,Qn)},bO=function(e,t){var r=-1,s=44;do switch(Wh(s)){case 0:s===38&&mi()===12&&(t[r]=1),e[r]+=TO(Qn-1,t,r);break;case 2:e[r]+=Mm(s);break;case 4:if(s===44){e[++r]=mi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Fp(s)}while(s=ur());return e},wO=function(e,t){return IR(bO(AR(e),t))},US=new WeakMap,SO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!US.get(r))&&!s){US.set(e,!0);for(var o=[],u=wO(t,o),h=r.props,f=0,p=0;f<u.length;f++)for(var y=0;y<h.length;y++,p++)e.props[p]=o[f]?u[f].replace(/&\f/g,h[y]):h[y]+" "+u[f]}}},AO=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function CR(n,e){switch(oO(n,e)){case 5103:return We+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return We+n+ip+n+Cn+n+n;case 6828:case 4268:return We+n+Cn+n+n;case 6165:return We+n+Cn+"flex-"+n+n;case 5187:return We+n+Xe(n,/(\w+).+(:[^]+)/,We+"box-$1$2"+Cn+"flex-$1$2")+n;case 5443:return We+n+Cn+"flex-item-"+Xe(n,/flex-|-self/,"")+n;case 4675:return We+n+Cn+"flex-line-pack"+Xe(n,/align-content|flex-|-self/,"")+n;case 5548:return We+n+Cn+Xe(n,"shrink","negative")+n;case 5292:return We+n+Cn+Xe(n,"basis","preferred-size")+n;case 6060:return We+"box-"+Xe(n,"-grow","")+We+n+Cn+Xe(n,"grow","positive")+n;case 4554:return We+Xe(n,/([^-])(transform)/g,"$1"+We+"$2")+n;case 6187:return Xe(Xe(Xe(n,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),n,"")+n;case 5495:case 3959:return Xe(n,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return Xe(Xe(n,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+Cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+n+n;case 4095:case 3583:case 4068:case 2532:return Xe(n,/(.+)-inline(.+)/,We+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ii(n)-1-e>6)switch(En(n,e+1)){case 109:if(En(n,e+4)!==45)break;case 102:return Xe(n,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+ip+(En(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~hv(n,"stretch")?CR(Xe(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(En(n,e+1)!==115)break;case 6444:switch(En(n,ii(n)-3-(~hv(n,"!important")&&10))){case 107:return Xe(n,":",":"+We)+n;case 101:return Xe(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+We+(En(n,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+Cn+"$2box$3")+n}break;case 5936:switch(En(n,e+11)){case 114:return We+n+Cn+Xe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return We+n+Cn+Xe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return We+n+Cn+Xe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return We+n+Cn+n+n}return n}var IO=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case f0:e.return=CR(e.value,e.length);break;case bR:return au([dh(e,{value:Xe(e.value,"@","@"+We)})],s);case d0:if(e.length)return uO(e.props,function(o){switch(lO(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return au([dh(e,{props:[Xe(o,/:(read-\w+)/,":"+ip+"$1")]})],s);case"::placeholder":return au([dh(e,{props:[Xe(o,/:(plac\w+)/,":"+We+"input-$1")]}),dh(e,{props:[Xe(o,/:(plac\w+)/,":"+ip+"$1")]}),dh(e,{props:[Xe(o,/:(plac\w+)/,Cn+"input-$1")]})],s)}return""})}},RO=[IO],CO=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var V=C.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var s=e.stylisPlugins||RO,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var V=C.getAttribute("data-emotion").split(" "),B=1;B<V.length;B++)o[V[B]]=!0;h.push(C)});var f,p=[SO,AO];{var y,v=[_O,EO(function(C){y.insert(C)})],E=vO(p.concat(s,v)),I=function(V){return au(gO(V),E)};f=function(V,B,X,F){y=X,I(V?V+"{"+B.styles+"}":B.styles),F&&(R.inserted[B.name]=!0)}}var R={key:t,sheet:new nO({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return R.sheet.hydrate(h),R},xO=!0;function PO(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var xR=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||xO===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},DO=function(e,t,r){xR(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function NO(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var OO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kO=/[A-Z]|^ms/g,VO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PR=function(e){return e.charCodeAt(1)===45},BS=function(e){return e!=null&&typeof e!="boolean"},B_=RR(function(n){return PR(n)?n:n.replace(kO,"-$&").toLowerCase()}),zS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(VO,function(r,s,o){return si={name:s,styles:o,next:si},s})}return OO[e]!==1&&!PR(e)&&typeof t=="number"&&t!==0?t+"px":t};function Xh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return si={name:s.name,styles:s.styles,next:si},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)si={name:u.name,styles:u.styles,next:si},u=u.next;var h=o.styles+";";return h}return MO(n,e,t)}case"function":{if(n!==void 0){var f=si,p=t(n);return si=f,Xh(n,e,p)}break}}var y=t;if(e==null)return y;var v=e[y];return v!==void 0?v:y}function MO(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Xh(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":BS(h)&&(r+=B_(o)+":"+zS(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)BS(u[f])&&(r+=B_(o)+":"+zS(o,u[f])+";");else{var p=Xh(n,e,u);switch(o){case"animation":case"animationName":{r+=B_(o)+":"+p+";";break}default:r+=o+"{"+p+"}"}}}return r}var FS=/label:\s*([^\s;{]+)\s*(;|$)/g,si;function DR(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";si=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=Xh(t,e,o);else{var u=o;s+=u[0]}for(var h=1;h<n.length;h++)if(s+=Xh(t,e,n[h]),r){var f=o;s+=f[h]}FS.lastIndex=0;for(var p="",y;(y=FS.exec(s))!==null;)p+="-"+y[1];var v=NO(s)+p;return{name:v,styles:s,next:si}}var LO=function(e){return e()},UO=SS.useInsertionEffect?SS.useInsertionEffect:!1,BO=UO||LO,NR=W.createContext(typeof HTMLElement<"u"?CO({key:"css"}):null);NR.Provider;var zO=function(e){return W.forwardRef(function(t,r){var s=W.useContext(NR);return e(t,s,r)})},FO=W.createContext({}),jO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qO=RR(function(n){return jO.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),HO=qO,GO=function(e){return e!=="theme"},jS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?HO:GO},qS=function(e,t,r){var s;if(t){var o=t.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},$O=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return xR(t,r,s),BO(function(){return DO(t,r,s)}),null},KO=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=qS(e,t,r),f=h||jS(s),p=!f("as");return function(){var y=arguments,v=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),y[0]==null||y[0].raw===void 0)v.push.apply(v,y);else{var E=y[0];v.push(E[0]);for(var I=y.length,R=1;R<I;R++)v.push(y[R],E[R])}var C=zO(function(V,B,X){var F=p&&V.as||s,te="",ne=[],ce=V;if(V.theme==null){ce={};for(var P in V)ce[P]=V[P];ce.theme=W.useContext(FO)}typeof V.className=="string"?te=PO(B.registered,ne,V.className):V.className!=null&&(te=V.className+" ");var x=DR(v.concat(ne),B.registered,ce);te+=B.key+"-"+x.name,u!==void 0&&(te+=" "+u);var D=p&&h===void 0?jS(F):f,w={};for(var O in V)p&&O==="as"||D(O)&&(w[O]=V[O]);return w.className=te,X&&(w.ref=X),W.createElement(W.Fragment,null,W.createElement($O,{cache:B,serialized:x,isStringTag:typeof F=="string"}),W.createElement(F,w))});return C.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=s,C.__emotion_styles=v,C.__emotion_forwardProp=h,Object.defineProperty(C,"toString",{value:function(){return"."+u}}),C.withComponent=function(V,B){var X=n(V,cv({},t,B,{shouldForwardProp:qS(C,B,!0)}));return X.apply(void 0,v)},C}},QO=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fv=KO.bind(null);QO.forEach(function(n){fv[n]=fv(n)});function YO(n,e){return fv(n,e)}function WO(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const HS=[];function GS(n){return HS[0]=n,DR(HS)}const XO=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function JO(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,o=XO(e),u=Object.keys(o);function h(E){return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t})`}function f(E){return`@media (max-width:${(typeof e[E]=="number"?e[E]:E)-r/100}${t})`}function p(E,I){const R=u.indexOf(I);return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t}) and (max-width:${(R!==-1&&typeof e[u[R]]=="number"?e[u[R]]:I)-r/100}${t})`}function y(E){return u.indexOf(E)+1<u.length?p(E,u[u.indexOf(E)+1]):h(E)}function v(E){const I=u.indexOf(E);return I===0?h(u[1]):I===u.length-1?f(u[I]):p(E,u[u.indexOf(E)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:p,only:y,not:v,unit:t,...s}}const ZO={borderRadius:4};function OR(n=8,e=c0({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function ek(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let s=t.getColorSchemeSelector(n);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return t.palette.mode===n?e:{}}function kR(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:o={},...u}=n,h=JO(t),f=OR(s);let p=lr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...ZO,...o}},u);return p=hN(p),p.applyStyles=ek,p=e.reduce((y,v)=>lr(y,v),p),p.unstable_sxConfig={...zp,...u==null?void 0:u.unstable_sxConfig},p.unstable_sx=function(v){return pu({sx:v,theme:this})},p}const tk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function VR(n,e,t="Mui"){const r=tk[e];return r?`${t}-${r}`:`${rN.generate(n)}-${e}`}function nk(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=VR(n,s,t)}),r}function MR(n){const{variants:e,...t}=n,r={variants:e,style:GS(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=GS(s.style))}),r}const rk=kR();function z_(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function ik(n){return n?(e,t)=>t[n]:null}function sk(n,e,t){n.theme=lk(n.theme)?t:n.theme[e]||n.theme}function Um(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Um(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:s,...o}=t;r=o}return LR(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function LR(n,e,t=[]){var s;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((s=n.ownerState)==null?void 0:s[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function ak(n={}){const{themeId:e,defaultTheme:t=rk,rootShouldForwardProp:r=z_,slotShouldForwardProp:s=z_}=n;function o(h){sk(h,e,t)}return(h,f={})=>{WO(h,ne=>ne.filter(ce=>ce!==pu));const{name:p,slot:y,skipVariantsResolver:v,skipSx:E,overridesResolver:I=ik(ck(y)),...R}=f,C=v!==void 0?v:y&&y!=="Root"&&y!=="root"||!1,V=E||!1;let B=z_;y==="Root"||y==="root"?B=r:y?B=s:uk(h)&&(B=void 0);const X=YO(h,{shouldForwardProp:B,label:ok(),...R}),F=ne=>{if(typeof ne=="function"&&ne.__emotion_real!==ne)return function(P){return Um(P,ne)};if(Xi(ne)){const ce=MR(ne);return ce.variants?function(x){return Um(x,ce)}:ce.style}return ne},te=(...ne)=>{const ce=[],P=ne.map(F),x=[];if(ce.push(o),p&&I&&x.push(function(M){var J,me;const He=(me=(J=M.theme.components)==null?void 0:J[p])==null?void 0:me.styleOverrides;if(!He)return null;const Ge={};for(const Te in He)Ge[Te]=Um(M,He[Te]);return I(M,Ge)}),p&&!C&&x.push(function(M){var Ge,J;const N=M.theme,He=(J=(Ge=N==null?void 0:N.components)==null?void 0:Ge[p])==null?void 0:J.variants;return He?LR(M,He):null}),V||x.push(pu),Array.isArray(P[0])){const O=P.shift(),M=new Array(ce.length).fill(""),N=new Array(x.length).fill("");let He;He=[...M,...O,...N],He.raw=[...M,...O.raw,...N],ce.unshift(He)}const D=[...ce,...P,...x],w=X(...D);return h.muiName&&(w.muiName=h.muiName),w};return X.withConfig&&(te.withConfig=X.withConfig),te}}function ok(n,e){return void 0}function lk(n){for(const e in n)return!1;return!0}function uk(n){return typeof n=="string"&&n.charCodeAt(0)>96}function ck(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function mv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")t[s]={...n[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const o=n[s],u=e[s];if(!u)t[s]=o||{};else if(!o)t[s]=u;else{t[s]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[s][f]=mv(o[f],u[f])}}}else t[s]===void 0&&(t[s]=n[s])}return t}function hk(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function p0(n,e=0,t=1){return hk(n,e,t)}function dk(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function aa(n){if(n.type)return n;if(n.charAt(0)==="#")return aa(dk(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ro(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ro(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:s}}const fk=n=>{const e=aa(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Ah=(n,e)=>{try{return fk(n)}catch{return n}};function Hp(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function UR(n){n=aa(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),u=(p,y=(p+t/30)%12)=>s-o*Math.max(Math.min(y-3,9-y,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),Hp({type:h,values:f})}function pv(n){n=aa(n);let e=n.type==="hsl"||n.type==="hsla"?aa(UR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function mk(n,e){const t=pv(n),r=pv(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function pk(n,e){return n=aa(n),e=p0(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Hp(n)}function Sm(n,e,t){try{return pk(n,e)}catch{return n}}function g0(n,e){if(n=aa(n),e=p0(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Hp(n)}function ct(n,e,t){try{return g0(n,e)}catch{return n}}function y0(n,e){if(n=aa(n),e=p0(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Hp(n)}function ht(n,e,t){try{return y0(n,e)}catch{return n}}function gk(n,e=.15){return pv(n)>.5?g0(n,e):y0(n,e)}function Am(n,e,t){try{return gk(n,e)}catch{return n}}const yk=W.createContext(void 0);function _k(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?mv(s.defaultProps,r):!s.styleOverrides&&!s.variants?mv(s,r):r}function vk({props:n,name:e}){const t=W.useContext(yk);return _k({props:n,name:e,theme:{components:t}})}const $S={theme:void 0};function Ek(n){let e,t;return function(s){let o=e;return(o===void 0||s.theme!==t)&&($S.theme=s.theme,o=MR(n($S)),e=o,t=s.theme),o}}function Tk(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const KS=(n,e,t,r=[])=>{let s=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(s)?s[Number(o)]=t:s&&typeof s=="object"&&(s[o]=t):s&&typeof s=="object"&&(s[o]||(s[o]=r.includes(o)?[]:{}),s=s[o])})},bk=(n,e,t)=>{function r(s,o=[],u=[]){Object.entries(s).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},wk=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function F_(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},o={},u={};return bk(n,(h,f,p)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const y=`--${t?`${t}-`:""}${h.join("-")}`,v=wk(h,f);Object.assign(s,{[y]:v}),KS(o,h,`var(${y})`,p),KS(u,h,`var(${y}, ${v})`,p)}},h=>h[0]==="vars"),{css:s,vars:o,varsWithDefaults:u}}function Sk(n,e={}){const{getSelector:t=V,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:p,css:y,varsWithDefaults:v}=F_(f,e);let E=v;const I={},{[h]:R,...C}=o;if(Object.entries(C||{}).forEach(([F,te])=>{const{vars:ne,css:ce,varsWithDefaults:P}=F_(te,e);E=lr(E,P),I[F]={css:ce,vars:ne}}),R){const{css:F,vars:te,varsWithDefaults:ne}=F_(R,e);E=lr(E,ne),I[h]={css:F,vars:te}}function V(F,te){var ce,P;let ne=s;if(s==="class"&&(ne=".%s"),s==="data"&&(ne="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(ne=`[${s}="%s"]`),F){if(ne==="media")return n.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${((P=(ce=o[F])==null?void 0:ce.palette)==null?void 0:P.mode)||F})`]:{":root":te}};if(ne)return n.defaultColorScheme===F?`:root, ${ne.replace("%s",String(F))}`:ne.replace("%s",String(F))}return":root"}return{vars:E,generateThemeVars:()=>{let F={...p};return Object.entries(I).forEach(([,{vars:te}])=>{F=lr(F,te)}),F},generateStyleSheets:()=>{var x,D;const F=[],te=n.defaultColorScheme||"light";function ne(w,O){Object.keys(O).length&&F.push(typeof w=="string"?{[w]:{...O}}:w)}ne(t(void 0,{...y}),y);const{[te]:ce,...P}=I;if(ce){const{css:w}=ce,O=(D=(x=o[te])==null?void 0:x.palette)==null?void 0:D.mode,M=!r&&O?{colorScheme:O,...w}:{...w};ne(t(te,{...M}),M)}return Object.entries(P).forEach(([w,{css:O}])=>{var He,Ge;const M=(Ge=(He=o[w])==null?void 0:He.palette)==null?void 0:Ge.mode,N=!r&&M?{colorScheme:M,...O}:{...O};ne(t(w,{...N}),N)}),F}}}function Ak(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Jh={black:"#000",white:"#fff"},Ik={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},zl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Fl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},fh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},jl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ql={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Hl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function BR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jh.white,default:Jh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Rk=BR();function zR(){return{text:{primary:Jh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const QS=zR();function YS(n,e,t,r){const s=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=y0(n.main,s):e==="dark"&&(n.dark=g0(n.main,o)))}function Ck(n="light"){return n==="dark"?{main:jl[200],light:jl[50],dark:jl[400]}:{main:jl[700],light:jl[400],dark:jl[800]}}function xk(n="light"){return n==="dark"?{main:zl[200],light:zl[50],dark:zl[400]}:{main:zl[500],light:zl[300],dark:zl[700]}}function Pk(n="light"){return n==="dark"?{main:Fl[500],light:Fl[300],dark:Fl[700]}:{main:Fl[700],light:Fl[400],dark:Fl[800]}}function Dk(n="light"){return n==="dark"?{main:ql[400],light:ql[300],dark:ql[700]}:{main:ql[700],light:ql[500],dark:ql[900]}}function Nk(n="light"){return n==="dark"?{main:Hl[400],light:Hl[300],dark:Hl[700]}:{main:Hl[800],light:Hl[500],dark:Hl[900]}}function Ok(n="light"){return n==="dark"?{main:fh[400],light:fh[300],dark:fh[700]}:{main:"#ed6c02",light:fh[500],dark:fh[900]}}function _0(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...s}=n,o=n.primary||Ck(e),u=n.secondary||xk(e),h=n.error||Pk(e),f=n.info||Dk(e),p=n.success||Nk(e),y=n.warning||Ok(e);function v(C){return mk(C,QS.text.primary)>=t?QS.text.primary:Rk.text.primary}const E=({color:C,name:V,mainShade:B=500,lightShade:X=300,darkShade:F=700})=>{if(C={...C},!C.main&&C[B]&&(C.main=C[B]),!C.hasOwnProperty("main"))throw new Error(Ro(11,V?` (${V})`:"",B));if(typeof C.main!="string")throw new Error(Ro(12,V?` (${V})`:"",JSON.stringify(C.main)));return YS(C,"light",X,r),YS(C,"dark",F,r),C.contrastText||(C.contrastText=v(C.main)),C};let I;return e==="light"?I=BR():e==="dark"&&(I=zR()),lr({common:{...Jh},mode:e,primary:E({color:o,name:"primary"}),secondary:E({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:E({color:h,name:"error"}),warning:E({color:y,name:"warning"}),info:E({color:f,name:"info"}),success:E({color:p,name:"success"}),grey:Ik,contrastThreshold:t,getContrastText:v,augmentColor:E,tonalOffset:r,...I},s)}function kk(n){const e={};return Object.entries(n).forEach(r=>{const[s,o]=r;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Vk(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Mk(n){return Math.round(n*1e5)/1e5}const WS={textTransform:"uppercase"},XS='"Roboto", "Helvetica", "Arial", sans-serif';function Lk(n,e){const{fontFamily:t=XS,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:p,pxToRem:y,...v}=typeof e=="function"?e(n):e,E=r/14,I=y||(V=>`${V/f*E}rem`),R=(V,B,X,F,te)=>({fontFamily:t,fontWeight:V,fontSize:I(B),lineHeight:X,...t===XS?{letterSpacing:`${Mk(F/B)}em`}:{},...te,...p}),C={h1:R(s,96,1.167,-1.5),h2:R(s,60,1.2,-.5),h3:R(o,48,1.167,0),h4:R(o,34,1.235,.25),h5:R(o,24,1.334,0),h6:R(u,20,1.6,.15),subtitle1:R(o,16,1.75,.15),subtitle2:R(u,14,1.57,.1),body1:R(o,16,1.5,.15),body2:R(o,14,1.43,.15),button:R(u,14,1.75,.4,WS),caption:R(o,12,1.66,.4),overline:R(o,12,2.66,1,WS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return lr({htmlFontSize:f,pxToRem:I,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...C},v,{clone:!1})}const Uk=.2,Bk=.14,zk=.12;function _t(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Uk})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Bk})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${zk})`].join(",")}const Fk=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],jk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qk={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function JS(n){return`${Math.round(n)}ms`}function Hk(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Gk(n){const e={...jk,...n.easing},t={...qk,...n.duration};return{getAutoHeightDuration:Hk,create:(s=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...p}=o;return(Array.isArray(s)?s:[s]).map(y=>`${y} ${typeof u=="string"?u:JS(u)} ${h} ${typeof f=="string"?f:JS(f)}`).join(",")},...n,easing:e,duration:t}}const $k={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Kk(n){return Xi(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function FR(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let o=0;o<s.length;o++){const[u,h]=s[o];!Kk(h)||u.startsWith("unstable_")?delete r[u]:Xi(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function gv(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:o={},transitions:u={},typography:h={},shape:f,...p}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Ro(20));const y=_0(o),v=kR(n);let E=lr(v,{mixins:Vk(v.breakpoints,r),palette:y,shadows:Fk.slice(),typography:Lk(y,h),transitions:Gk(u),zIndex:{...$k}});return E=lr(E,p),E=e.reduce((I,R)=>lr(I,R),E),E.unstable_sxConfig={...zp,...p==null?void 0:p.unstable_sxConfig},E.unstable_sx=function(R){return pu({sx:R,theme:this})},E.toRuntimeSource=FR,E}function Qk(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const Yk=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Qk(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function jR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function qR(n){return n==="dark"?Yk:[]}function Wk(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...s}=n,o=_0(e);return{palette:o,opacity:{...jR(o.mode),...t},overlays:r||qR(o.mode),...s}}function Xk(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Jk=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Zk=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return Jk(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function eV(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Z(n,e,t){!n[e]&&t&&(n[e]=t)}function Ih(n){return typeof n!="string"||!n.startsWith("hsl")?n:UR(n)}function Wi(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Ah(Ih(n[e])))}function tV(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const ni=n=>{try{return n()}catch{}},nV=(n="mui")=>Tk(n);function j_(n,e,t,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!t){n[r]=Wk({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:o,...u}=gv({...t,palette:{mode:s,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...jR(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||qR(s)},u}function rV(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=Xk,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...p}=n,y=Object.keys(t)[0],v=r||(t.light&&y!=="light"?"light":y),E=nV(o),{[v]:I,light:R,dark:C,...V}=t,B={...V};let X=I;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(X=!0),!X)throw new Error(Ro(21,v));const F=j_(B,X,p,v);R&&!B.light&&j_(B,R,void 0,"light"),C&&!B.dark&&j_(B,C,void 0,"dark");let te={defaultColorScheme:v,...F,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:E,colorSchemes:B,font:{...kk(F.typography),...F.font},spacing:tV(p.spacing)};Object.keys(te.colorSchemes).forEach(D=>{const w=te.colorSchemes[D].palette,O=M=>{const N=M.split("-"),He=N[1],Ge=N[2];return E(M,w[He][Ge])};if(w.mode==="light"&&(Z(w.common,"background","#fff"),Z(w.common,"onBackground","#000")),w.mode==="dark"&&(Z(w.common,"background","#000"),Z(w.common,"onBackground","#fff")),eV(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){Z(w.Alert,"errorColor",ct(w.error.light,.6)),Z(w.Alert,"infoColor",ct(w.info.light,.6)),Z(w.Alert,"successColor",ct(w.success.light,.6)),Z(w.Alert,"warningColor",ct(w.warning.light,.6)),Z(w.Alert,"errorFilledBg",O("palette-error-main")),Z(w.Alert,"infoFilledBg",O("palette-info-main")),Z(w.Alert,"successFilledBg",O("palette-success-main")),Z(w.Alert,"warningFilledBg",O("palette-warning-main")),Z(w.Alert,"errorFilledColor",ni(()=>w.getContrastText(w.error.main))),Z(w.Alert,"infoFilledColor",ni(()=>w.getContrastText(w.info.main))),Z(w.Alert,"successFilledColor",ni(()=>w.getContrastText(w.success.main))),Z(w.Alert,"warningFilledColor",ni(()=>w.getContrastText(w.warning.main))),Z(w.Alert,"errorStandardBg",ht(w.error.light,.9)),Z(w.Alert,"infoStandardBg",ht(w.info.light,.9)),Z(w.Alert,"successStandardBg",ht(w.success.light,.9)),Z(w.Alert,"warningStandardBg",ht(w.warning.light,.9)),Z(w.Alert,"errorIconColor",O("palette-error-main")),Z(w.Alert,"infoIconColor",O("palette-info-main")),Z(w.Alert,"successIconColor",O("palette-success-main")),Z(w.Alert,"warningIconColor",O("palette-warning-main")),Z(w.AppBar,"defaultBg",O("palette-grey-100")),Z(w.Avatar,"defaultBg",O("palette-grey-400")),Z(w.Button,"inheritContainedBg",O("palette-grey-300")),Z(w.Button,"inheritContainedHoverBg",O("palette-grey-A100")),Z(w.Chip,"defaultBorder",O("palette-grey-400")),Z(w.Chip,"defaultAvatarColor",O("palette-grey-700")),Z(w.Chip,"defaultIconColor",O("palette-grey-700")),Z(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(w.LinearProgress,"primaryBg",ht(w.primary.main,.62)),Z(w.LinearProgress,"secondaryBg",ht(w.secondary.main,.62)),Z(w.LinearProgress,"errorBg",ht(w.error.main,.62)),Z(w.LinearProgress,"infoBg",ht(w.info.main,.62)),Z(w.LinearProgress,"successBg",ht(w.success.main,.62)),Z(w.LinearProgress,"warningBg",ht(w.warning.main,.62)),Z(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),Z(w.Slider,"primaryTrack",ht(w.primary.main,.62)),Z(w.Slider,"secondaryTrack",ht(w.secondary.main,.62)),Z(w.Slider,"errorTrack",ht(w.error.main,.62)),Z(w.Slider,"infoTrack",ht(w.info.main,.62)),Z(w.Slider,"successTrack",ht(w.success.main,.62)),Z(w.Slider,"warningTrack",ht(w.warning.main,.62));const M=Am(w.background.default,.8);Z(w.SnackbarContent,"bg",M),Z(w.SnackbarContent,"color",ni(()=>w.getContrastText(M))),Z(w.SpeedDialAction,"fabHoverBg",Am(w.background.paper,.15)),Z(w.StepConnector,"border",O("palette-grey-400")),Z(w.StepContent,"border",O("palette-grey-400")),Z(w.Switch,"defaultColor",O("palette-common-white")),Z(w.Switch,"defaultDisabledColor",O("palette-grey-100")),Z(w.Switch,"primaryDisabledColor",ht(w.primary.main,.62)),Z(w.Switch,"secondaryDisabledColor",ht(w.secondary.main,.62)),Z(w.Switch,"errorDisabledColor",ht(w.error.main,.62)),Z(w.Switch,"infoDisabledColor",ht(w.info.main,.62)),Z(w.Switch,"successDisabledColor",ht(w.success.main,.62)),Z(w.Switch,"warningDisabledColor",ht(w.warning.main,.62)),Z(w.TableCell,"border",ht(Sm(w.divider,1),.88)),Z(w.Tooltip,"bg",Sm(w.grey[700],.92))}if(w.mode==="dark"){Z(w.Alert,"errorColor",ht(w.error.light,.6)),Z(w.Alert,"infoColor",ht(w.info.light,.6)),Z(w.Alert,"successColor",ht(w.success.light,.6)),Z(w.Alert,"warningColor",ht(w.warning.light,.6)),Z(w.Alert,"errorFilledBg",O("palette-error-dark")),Z(w.Alert,"infoFilledBg",O("palette-info-dark")),Z(w.Alert,"successFilledBg",O("palette-success-dark")),Z(w.Alert,"warningFilledBg",O("palette-warning-dark")),Z(w.Alert,"errorFilledColor",ni(()=>w.getContrastText(w.error.dark))),Z(w.Alert,"infoFilledColor",ni(()=>w.getContrastText(w.info.dark))),Z(w.Alert,"successFilledColor",ni(()=>w.getContrastText(w.success.dark))),Z(w.Alert,"warningFilledColor",ni(()=>w.getContrastText(w.warning.dark))),Z(w.Alert,"errorStandardBg",ct(w.error.light,.9)),Z(w.Alert,"infoStandardBg",ct(w.info.light,.9)),Z(w.Alert,"successStandardBg",ct(w.success.light,.9)),Z(w.Alert,"warningStandardBg",ct(w.warning.light,.9)),Z(w.Alert,"errorIconColor",O("palette-error-main")),Z(w.Alert,"infoIconColor",O("palette-info-main")),Z(w.Alert,"successIconColor",O("palette-success-main")),Z(w.Alert,"warningIconColor",O("palette-warning-main")),Z(w.AppBar,"defaultBg",O("palette-grey-900")),Z(w.AppBar,"darkBg",O("palette-background-paper")),Z(w.AppBar,"darkColor",O("palette-text-primary")),Z(w.Avatar,"defaultBg",O("palette-grey-600")),Z(w.Button,"inheritContainedBg",O("palette-grey-800")),Z(w.Button,"inheritContainedHoverBg",O("palette-grey-700")),Z(w.Chip,"defaultBorder",O("palette-grey-700")),Z(w.Chip,"defaultAvatarColor",O("palette-grey-300")),Z(w.Chip,"defaultIconColor",O("palette-grey-300")),Z(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(w.LinearProgress,"primaryBg",ct(w.primary.main,.5)),Z(w.LinearProgress,"secondaryBg",ct(w.secondary.main,.5)),Z(w.LinearProgress,"errorBg",ct(w.error.main,.5)),Z(w.LinearProgress,"infoBg",ct(w.info.main,.5)),Z(w.LinearProgress,"successBg",ct(w.success.main,.5)),Z(w.LinearProgress,"warningBg",ct(w.warning.main,.5)),Z(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),Z(w.Slider,"primaryTrack",ct(w.primary.main,.5)),Z(w.Slider,"secondaryTrack",ct(w.secondary.main,.5)),Z(w.Slider,"errorTrack",ct(w.error.main,.5)),Z(w.Slider,"infoTrack",ct(w.info.main,.5)),Z(w.Slider,"successTrack",ct(w.success.main,.5)),Z(w.Slider,"warningTrack",ct(w.warning.main,.5));const M=Am(w.background.default,.98);Z(w.SnackbarContent,"bg",M),Z(w.SnackbarContent,"color",ni(()=>w.getContrastText(M))),Z(w.SpeedDialAction,"fabHoverBg",Am(w.background.paper,.15)),Z(w.StepConnector,"border",O("palette-grey-600")),Z(w.StepContent,"border",O("palette-grey-600")),Z(w.Switch,"defaultColor",O("palette-grey-300")),Z(w.Switch,"defaultDisabledColor",O("palette-grey-600")),Z(w.Switch,"primaryDisabledColor",ct(w.primary.main,.55)),Z(w.Switch,"secondaryDisabledColor",ct(w.secondary.main,.55)),Z(w.Switch,"errorDisabledColor",ct(w.error.main,.55)),Z(w.Switch,"infoDisabledColor",ct(w.info.main,.55)),Z(w.Switch,"successDisabledColor",ct(w.success.main,.55)),Z(w.Switch,"warningDisabledColor",ct(w.warning.main,.55)),Z(w.TableCell,"border",ct(Sm(w.divider,1),.68)),Z(w.Tooltip,"bg",Sm(w.grey[700],.92))}Wi(w.background,"default"),Wi(w.background,"paper"),Wi(w.common,"background"),Wi(w.common,"onBackground"),Wi(w,"divider"),Object.keys(w).forEach(M=>{const N=w[M];M!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&Z(w[M],"mainChannel",Ah(Ih(N.main))),N.light&&Z(w[M],"lightChannel",Ah(Ih(N.light))),N.dark&&Z(w[M],"darkChannel",Ah(Ih(N.dark))),N.contrastText&&Z(w[M],"contrastTextChannel",Ah(Ih(N.contrastText))),M==="text"&&(Wi(w[M],"primary"),Wi(w[M],"secondary")),M==="action"&&(N.active&&Wi(w[M],"active"),N.selected&&Wi(w[M],"selected")))})}),te=e.reduce((D,w)=>lr(D,w),te);const ne={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:u,getSelector:Zk(te)},{vars:ce,generateThemeVars:P,generateStyleSheets:x}=Sk(te,ne);return te.vars=ce,Object.entries(te.colorSchemes[te.defaultColorScheme]).forEach(([D,w])=>{te[D]=w}),te.generateThemeVars=P,te.generateStyleSheets=x,te.generateSpacing=function(){return OR(p.spacing,c0(this))},te.getColorSchemeSelector=Ak(h),te.spacing=te.generateSpacing(),te.shouldSkipGeneratingVar=u,te.unstable_sxConfig={...zp,...p==null?void 0:p.unstable_sxConfig},te.unstable_sx=function(w){return pu({sx:w,theme:this})},te.toRuntimeSource=FR,te}function ZS(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:_0({...t===!0?{}:t.palette,mode:e})})}function iV(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=s==null?void 0:s[h],p={...s,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return gv(n,...e);let y=t;"palette"in n||p[h]&&(p[h]!==!0?y=p[h].palette:h==="dark"&&(y={mode:"dark"}));const v=gv({...n,palette:y},...e);return v.defaultColorScheme=h,v.colorSchemes=p,v.palette.mode==="light"&&(v.colorSchemes.light={...p.light!==!0&&p.light,palette:v.palette},ZS(v,"dark",p.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:v.palette},ZS(v,"light",p.light)),v}return!t&&!("light"in p)&&h==="light"&&(p.light=!0),rV({...u,colorSchemes:p,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const sV=iV(),aV="$$material";function oV(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const lV=n=>oV(n)&&n!=="classes",uV=ak({themeId:aV,defaultTheme:sV,rootShouldForwardProp:lV}),cV=Ek;function hV(n){return vk(n)}function dV(n){return VR("MuiSvgIcon",n)}nk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const fV=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${mu(e)}`,`fontSize${mu(t)}`]};return sN(s,dV,r)},mV=uV("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${mu(t.color)}`],e[`fontSize${mu(t.fontSize)}`]]}})(cV(({theme:n})=>{var e,t,r,s,o,u,h,f,p,y,v,E,I,R;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=n.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((y=(p=n.typography)==null?void 0:p.pxToRem)==null?void 0:y.call(p,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,C])=>C&&C.main).map(([C])=>{var V,B;return{props:{color:C},style:{color:(B=(V=(n.vars??n).palette)==null?void 0:V[C])==null?void 0:B.main}}}),{props:{color:"action"},style:{color:(E=(v=(n.vars??n).palette)==null?void 0:v.action)==null?void 0:E.active}},{props:{color:"disabled"},style:{color:(R=(I=(n.vars??n).palette)==null?void 0:I.action)==null?void 0:R.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),yv=W.forwardRef(function(e,t){const r=hV({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:p,inheritViewBox:y=!1,titleAccess:v,viewBox:E="0 0 24 24",...I}=r,R=W.isValidElement(s)&&s.type==="svg",C={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:E,hasSvgAsChild:R},V={};y||(V.viewBox=E);const B=fV(C);return ie.jsxs(mV,{as:h,className:iN(B.root,o),focusable:"false",color:p,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:t,...V,...I,...R&&s.props,ownerState:C,children:[R?s.props.children:s,v?ie.jsx("title",{children:v}):null]})});yv.muiName="SvgIcon";function HR(n,e){function t(r,s){return ie.jsx(yv,{"data-testid":void 0,ref:s,...r,children:n})}return t.muiName=yv.muiName,W.memo(W.forwardRef(t))}const pV=HR(ie.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),gV=HR(ie.jsx("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42s-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1zM9 9l3-4.4L15 9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}));var mh={},eA;function yV(){if(eA)return mh;eA=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.parse=u,mh.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,I){const R=new o,C=E.length;if(C<2)return R;const V=(I==null?void 0:I.decode)||y;let B=0;do{const X=E.indexOf("=",B);if(X===-1)break;const F=E.indexOf(";",B),te=F===-1?C:F;if(X>te){B=E.lastIndexOf(";",X-1)+1;continue}const ne=h(E,B,X),ce=f(E,X,ne),P=E.slice(ne,ce);if(R[P]===void 0){let x=h(E,X+1,te),D=f(E,te,x);const w=V(E.slice(x,D));R[P]=w}B=te+1}while(B<C);return R}function h(E,I,R){do{const C=E.charCodeAt(I);if(C!==32&&C!==9)return I}while(++I<R);return R}function f(E,I,R){for(;I>R;){const C=E.charCodeAt(--I);if(C!==32&&C!==9)return I+1}return R}function p(E,I,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=C(I);if(!e.test(V))throw new TypeError(`argument val is invalid: ${I}`);let B=E+"="+V;if(!R)return B;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);B+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);B+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);B+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);B+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(B+="; HttpOnly"),R.secure&&(B+="; Secure"),R.partitioned&&(B+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return B}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return s.call(E)==="[object Date]"}return mh}yV();var tA="popstate";function _V(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return _v("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Zh(s)}return EV(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vV(){return Math.random().toString(36).substring(2,10)}function nA(n,e){return{usr:n.state,key:n.key,idx:e}}function _v(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fu(e):e,state:t,key:e&&e.key||r||vV()}}function Zh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function EV(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let V=y(),B=V==null?null:V-p;p=V,f&&f({action:h,location:C.location,delta:B})}function E(V,B){h="PUSH";let X=_v(C.location,V,B);p=y()+1;let F=nA(X,p),te=C.createHref(X);try{u.pushState(F,"",te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(te)}o&&f&&f({action:h,location:C.location,delta:1})}function I(V,B){h="REPLACE";let X=_v(C.location,V,B);p=y();let F=nA(X,p),te=C.createHref(X);u.replaceState(F,"",te),o&&f&&f({action:h,location:C.location,delta:0})}function R(V){return TV(V)}let C={get action(){return h},get location(){return n(s,u)},listen(V){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(tA,v),f=V,()=>{s.removeEventListener(tA,v),f=null}},createHref(V){return e(s,V)},createURL:R,encodeLocation(V){let B=R(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:I,go(V){return u.go(V)}};return C}function TV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Zh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function GR(n,e,t="/"){return bV(n,e,t,!1)}function bV(n,e,t,r){let s=typeof e=="string"?Fu(e):e,o=is(s.pathname||"/",t);if(o==null)return null;let u=$R(n);wV(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=kV(o);h=NV(u[f],p,r)}return h}function $R(n,e=[],t=[],r=""){let s=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(At(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ts([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(At(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),$R(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:PV(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,u);else for(let f of KR(o.path))s(o,u,f)}),e}function KR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=KR(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function wV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SV=/^:[\w-]+$/,AV=3,IV=2,RV=1,CV=10,xV=-2,rA=n=>n==="*";function PV(n,e){let t=n.split("/"),r=t.length;return t.some(rA)&&(r+=xV),e&&(r+=IV),t.filter(s=>!rA(s)).reduce((s,o)=>s+(SV.test(o)?AV:o===""?RV:CV),r)}function DV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function NV(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=sp({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=sp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:ts([o,v.pathname]),pathnameBase:UV(ts([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=ts([o,v.pathnameBase]))}return u}function sp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OV(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let R=h[E]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const I=h[E];return v&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function OV(n,e=!1,t=!0){yi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function is(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function VV(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Fu(n):n;return{pathname:t?t.startsWith("/")?t:MV(t,e):e,search:BV(r),hash:zV(s)}}function MV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function q_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function QR(n){let e=LV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function YR(n,e,t,r=!1){let s;typeof n=="string"?s=Fu(n):(s={...n},At(!s.pathname||!s.pathname.includes("?"),q_("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),q_("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),q_("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}h=v>=0?e[v]:"/"}let f=VV(s,h),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var ts=n=>n.join("/").replace(/\/\/+/g,"/"),UV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var WR=["POST","PUT","PATCH","DELETE"];new Set(WR);var jV=["GET",...WR];new Set(jV);var ju=W.createContext(null);ju.displayName="DataRouter";var Gp=W.createContext(null);Gp.displayName="DataRouterState";var XR=W.createContext({isTransitioning:!1});XR.displayName="ViewTransition";var qV=W.createContext(new Map);qV.displayName="Fetchers";var HV=W.createContext(null);HV.displayName="Await";var wi=W.createContext(null);wi.displayName="Navigation";var Rd=W.createContext(null);Rd.displayName="Location";var cs=W.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var v0=W.createContext(null);v0.displayName="RouteError";function GV(n,{relative:e}={}){At(Cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(wi),{hash:s,pathname:o,search:u}=xd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ts([t,o])),r.createHref({pathname:h,search:u,hash:s})}function Cd(){return W.useContext(Rd)!=null}function zo(){return At(Cd(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Rd).location}var JR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZR(n){W.useContext(wi).static||W.useLayoutEffect(n)}function e1(){let{isDataRoute:n}=W.useContext(cs);return n?iM():$V()}function $V(){At(Cd(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(ju),{basename:e,navigator:t}=W.useContext(wi),{matches:r}=W.useContext(cs),{pathname:s}=zo(),o=JSON.stringify(QR(r)),u=W.useRef(!1);return ZR(()=>{u.current=!0}),W.useCallback((f,p={})=>{if(yi(u.current,JR),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=YR(f,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ts([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,s,n])}W.createContext(null);function xd(n,{relative:e}={}){let{matches:t}=W.useContext(cs),{pathname:r}=zo(),s=JSON.stringify(QR(t));return W.useMemo(()=>YR(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function KV(n,e){return t1(n,e)}function t1(n,e,t,r){var X;At(Cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=W.useContext(wi),{matches:u}=W.useContext(cs),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";n1(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=zo(),I;if(e){let F=typeof e=="string"?Fu(e):e;At(y==="/"||((X=F.pathname)==null?void 0:X.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),I=F}else I=E;let R=I.pathname||"/",C=R;if(y!=="/"){let F=y.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=!o&&t&&t.matches&&t.matches.length>0?t.matches:GR(n,{pathname:C});yi(v||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),yi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=JV(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:ts([y,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:ts([y,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,t,r);return e&&B?W.createElement(Rd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},B):B}function QV(){let n=rM(),e=FV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:s},t):null,u)}var YV=W.createElement(QV,null),WV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(cs.Provider,{value:this.props.routeContext},W.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XV({routeContext:n,match:e,children:t}){let r=W.useContext(ju);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(cs.Provider,{value:n},t)}function JV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);At(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:v}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,y)=>{let v,E=!1,I=null,R=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,I=p.route.errorElement||YV,u&&(h<0&&y===0?(n1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===y&&(E=!0,R=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,y+1)),V=()=>{let B;return v?B=I:E?B=R:p.route.Component?B=W.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=f,W.createElement(XV,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:B})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?W.createElement(WV,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:V(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):V()},null)}function E0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZV(n){let e=W.useContext(ju);return At(e,E0(n)),e}function eM(n){let e=W.useContext(Gp);return At(e,E0(n)),e}function tM(n){let e=W.useContext(cs);return At(e,E0(n)),e}function T0(n){let e=tM(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nM(){return T0("useRouteId")}function rM(){var r;let n=W.useContext(v0),e=eM("useRouteError"),t=T0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function iM(){let{router:n}=ZV("useNavigate"),e=T0("useNavigate"),t=W.useRef(!1);return ZR(()=>{t.current=!0}),W.useCallback(async(s,o={})=>{yi(t.current,JR),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var iA={};function n1(n,e,t){!e&&!iA[n]&&(iA[n]=!0,yi(!1,t))}W.memo(sM);function sM({routes:n,future:e,state:t}){return t1(n,void 0,t,e)}function Bm(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){At(!Cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Fu(t));let{pathname:f="/",search:p="",hash:y="",state:v=null,key:E="default"}=t,I=W.useMemo(()=>{let R=is(f,u);return R==null?null:{location:{pathname:R,search:p,hash:y,state:v,key:E},navigationType:r}},[u,f,p,y,v,E,r]);return yi(I!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:W.createElement(wi.Provider,{value:h},W.createElement(Rd.Provider,{children:e,value:I}))}function oM({children:n,location:e}){return KV(vv(n),e)}function vv(n,e=[]){let t=[];return W.Children.forEach(n,(r,s)=>{if(!W.isValidElement(r))return;let o=[...e,s];if(r.type===W.Fragment){t.push.apply(t,vv(r.props.children,o));return}At(r.type===Bm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vv(r.props.children,o)),t.push(u)}),t}var zm="get",Fm="application/x-www-form-urlencoded";function $p(n){return n!=null&&typeof n.tagName=="string"}function lM(n){return $p(n)&&n.tagName.toLowerCase()==="button"}function uM(n){return $p(n)&&n.tagName.toLowerCase()==="form"}function cM(n){return $p(n)&&n.tagName.toLowerCase()==="input"}function hM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dM(n,e){return n.button===0&&(!e||e==="_self")&&!hM(n)}var Im=null;function fM(){if(Im===null)try{new FormData(document.createElement("form"),0),Im=!1}catch{Im=!0}return Im}var mM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function H_(n){return n!=null&&!mM.has(n)?(yi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):n}function pM(n,e){let t,r,s,o,u;if(uM(n)){let h=n.getAttribute("action");r=h?is(h,e):null,t=n.getAttribute("method")||zm,s=H_(n.getAttribute("enctype"))||Fm,o=new FormData(n)}else if(lM(n)||cM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?is(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||zm,s=H_(n.getAttribute("formenctype"))||H_(h.getAttribute("enctype"))||Fm,o=new FormData(h,n),!fM()){let{name:p,type:y,value:v}=n;if(y==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,v)}}else{if($p(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zm,r=null,s=Fm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function b0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function gM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _M(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await gM(o,t);return u.links?u.links():[]}return[]}));return bM(r.flat(1).filter(yM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sA(n,e,t,r,s,o){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var v;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function vM(n,e,{includeHydrateFallback:t}={}){return EM(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function EM(n){return[...new Set(n)]}function TM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bM(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(TM(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wM=new Set([100,101,204,205]);function SM(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&is(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function r1(){let n=W.useContext(ju);return b0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function AM(){let n=W.useContext(Gp);return b0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var w0=W.createContext(void 0);w0.displayName="FrameworkContext";function i1(){let n=W.useContext(w0);return b0(n,"You must render this element inside a <HydratedRouter> element"),n}function IM(n,e){let t=W.useContext(w0),[r,s]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=B=>{B.forEach(X=>{u(X.isIntersecting)})},V=new IntersectionObserver(C,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[n]),W.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let I=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:ph(h,I),onBlur:ph(f,R),onMouseEnter:ph(p,I),onMouseLeave:ph(y,R),onTouchStart:ph(v,I)}]:[!1,E,{}]}function ph(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RM({page:n,...e}){let{router:t}=r1(),r=W.useMemo(()=>GR(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(xM,{page:n,matches:r,...e}):null}function CM(n){let{manifest:e,routeModules:t}=i1(),[r,s]=W.useState([]);return W.useEffect(()=>{let o=!1;return _M(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function xM({page:n,matches:e,...t}){let r=zo(),{manifest:s,routeModules:o}=i1(),{basename:u}=r1(),{loaderData:h,matches:f}=AM(),p=W.useMemo(()=>sA(n,e,f,s,r,"data"),[n,e,f,s,r]),y=W.useMemo(()=>sA(n,e,f,s,r,"assets"),[n,e,f,s,r]),v=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,C=!1;if(e.forEach(B=>{var F;let X=s.routes[B.route.id];!X||!X.hasLoader||(!p.some(te=>te.route.id===B.route.id)&&B.route.id in h&&((F=o[B.route.id])!=null&&F.shouldRevalidate)||X.hasClientLoader?C=!0:R.add(B.route.id))}),R.size===0)return[];let V=SM(n,u);return C&&R.size>0&&V.searchParams.set("_routes",e.filter(B=>R.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[u,h,r,s,p,e,n,o]),E=W.useMemo(()=>vM(y,s),[y,s]),I=CM(y);return W.createElement(W.Fragment,null,v.map(R=>W.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>W.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),I.map(({key:R,link:C})=>W.createElement("link",{key:R,...C})))}function PM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var s1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s1&&(window.__reactRouterVersion="7.6.0")}catch{}function DM({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=_V({window:t,v5Compat:!0}));let s=r.current,[o,u]=W.useState({action:s.action,location:s.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>s.listen(h),[s,h]),W.createElement(aM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ou=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:v,...E},I){let{basename:R}=W.useContext(wi),C=typeof p=="string"&&a1.test(p),V,B=!1;if(typeof p=="string"&&C&&(V=p,s1))try{let D=new URL(window.location.href),w=p.startsWith("//")?new URL(D.protocol+p):new URL(p),O=is(w.pathname,R);w.origin===D.origin&&O!=null?p=O+w.search+w.hash:B=!0}catch{yi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=GV(p,{relative:s}),[F,te,ne]=IM(r,E),ce=VM(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:v});function P(D){e&&e(D),D.defaultPrevented||ce(D)}let x=W.createElement("a",{...E,...ne,href:V||X,onClick:B||o?e:P,ref:PM(I,te),target:f,"data-discover":!C&&t==="render"?"true":void 0});return F&&!C?W.createElement(W.Fragment,null,x,W.createElement(RM,{page:X})):x});ou.displayName="Link";var NM=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...p},y){let v=xd(u,{relative:p.relative}),E=zo(),I=W.useContext(Gp),{navigator:R,basename:C}=W.useContext(wi),V=I!=null&&zM(v)&&h===!0,B=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,X=E.pathname,F=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(X=X.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&C&&(F=is(F,C)||F);const te=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ne=X===B||!s&&X.startsWith(B)&&X.charAt(te)==="/",ce=F!=null&&(F===B||!s&&F.startsWith(B)&&F.charAt(B.length)==="/"),P={isActive:ne,isPending:ce,isTransitioning:V},x=ne?e:void 0,D;typeof r=="function"?D=r(P):D=[r,ne?"active":null,ce?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let w=typeof o=="function"?o(P):o;return W.createElement(ou,{...p,"aria-current":x,className:D,ref:y,style:w,to:u,viewTransition:h},typeof f=="function"?f(P):f)});NM.displayName="NavLink";var OM=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=zm,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:v,...E},I)=>{let R=UM(),C=BM(h,{relative:p}),V=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&a1.test(h),X=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let te=F.nativeEvent.submitter,ne=(te==null?void 0:te.getAttribute("formmethod"))||u;R(te||F.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:v})};return W.createElement("form",{ref:I,method:V,action:C,onSubmit:r?f:X,...E,"data-discover":!B&&n==="render"?"true":void 0})});OM.displayName="Form";function kM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(n){let e=W.useContext(ju);return At(e,kM(n)),e}function VM(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=e1(),f=zo(),p=xd(n,{relative:o});return W.useCallback(y=>{if(dM(y,e)){y.preventDefault();let v=t!==void 0?t:Zh(f)===Zh(p);h(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,p,t,r,e,n,s,o,u])}var MM=0,LM=()=>`__${String(++MM)}__`;function UM(){let{router:n}=o1("useSubmit"),{basename:e}=W.useContext(wi),t=nM();return W.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:f,body:p}=pM(r,e);if(s.navigate===!1){let y=s.fetcherKey||LM();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function BM(n,{relative:e}={}){let{basename:t}=W.useContext(wi),r=W.useContext(cs);At(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...xd(n||".",{relative:e})},u=zo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ts([t,o.pathname])),Zh(o)}function zM(n,e={}){let t=W.useContext(XR);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=o1("useViewTransitionState"),s=xd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=is(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=is(t.nextLocation.pathname,r)||t.nextLocation.pathname;return sp(s.pathname,u)!=null||sp(s.pathname,o)!=null}[...wM];const l1=W.createContext(),FM=({reducer:n,initialState:e,children:t})=>ie.jsx(l1.Provider,{value:W.useReducer(n,e),children:t}),qu=()=>W.useContext(l1),jM=()=>{};var aA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;f||(I=64,u||(E=64)),r.push(t[y],t[v],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(u1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||p==null||v==null)throw new HM;const E=o<<2|h>>4;if(r.push(E),p!==64){const I=h<<4&240|p>>2;if(r.push(I),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GM=function(n){const e=u1(n);return c1.encodeByteArray(e,!0)},ap=function(n){return GM(n).replace(/\./g,"")},S0=function(n){try{return c1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function op(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!$M(t)||(n[t]=op(n[t],e[t]));return n}function $M(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=()=>A0().__FIREBASE_DEFAULTS__,QM=()=>{if(typeof process>"u"||typeof aA>"u")return;const n=aA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S0(n[1]);return e&&JSON.parse(e)},I0=()=>{try{return jM()||KM()||QM()||YM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},h1=()=>{var n;return(n=I0())===null||n===void 0?void 0:n.config},WM=n=>{var e;return(e=I0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){return n.endsWith(".cloudworkstations.dev")}async function d1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ap(JSON.stringify(t)),ap(JSON.stringify(u)),""].join(".")}const kh={};function ZM(){const n={prod:[],emulator:[]};for(const e of Object.keys(kh))kh[e]?n.emulator.push(e):n.prod.push(e);return n}function e4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let oA=!1;function R0(n,e){if(typeof window>"u"||typeof document>"u"||!Pd(window.location.host)||kh[n]===e||kh[n]||oA)return;kh[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=ZM().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{oA=!0,u()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=e4(r),I=t("text"),R=document.getElementById(I)||document.createElement("span"),C=t("learnmore"),V=document.getElementById(C)||document.createElement("a"),B=t("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;h(F),y(V,C);const te=p();f(X,B),F.append(X,R,V,te),document.body.appendChild(F)}o?(R.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Kp(){var n;const e=(n=I0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n4(){return typeof window<"u"||f1()}function f1(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function r4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function C0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function g1(){return!Kp()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){return!Kp()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ed(){try{return typeof indexedDB=="object"}catch{return!1}}function i4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="FirebaseError";class Un extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=s4,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?a4(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Un(s,h,r)}}function a4(n,e){return n.replace(o4,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const o4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function l4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(uA(o)&&uA(u)){if(!oa(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function uA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Rh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _1(n,e){const t=new u4(n,e);return t.subscribe.bind(t)}class u4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");c4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=G_),s.error===void 0&&(s.error=G_),s.complete===void 0&&(s.complete=G_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function G_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n){return n&&n._delegate?n._delegate:n}class _i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new XM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f4(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d4(n){return n===ho?void 0:n}function f4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new h4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=[];var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const E1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},m4=Le.INFO,p4={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},g4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=p4[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=m4,this._logHandler=g4,this._userLogHandler=null,x0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}function y4(n){x0.forEach(e=>{e.setLogLevel(n)})}function _4(n,e){for(const t of x0){let r=null;e&&e.level&&(r=E1[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??s.logLevel)&&n({level:Le[o].toLowerCase(),message:h,args:u,type:s.name})}}}const v4=(n,e)=>e.some(t=>n instanceof t);let cA,hA;function E4(){return cA||(cA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return hA||(hA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,Ev=new WeakMap,b1=new WeakMap,$_=new WeakMap,P0=new WeakMap;function b4(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(ta(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&T1.set(t,n)}).catch(()=>{}),P0.set(e,n),e}function w4(n){if(Ev.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Ev.set(n,e)}let Tv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ev.get(n);if(e==="objectStoreNames")return n.objectStoreNames||b1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function S4(n){Tv=n(Tv)}function A4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(K_(this),e,...t);return b1.set(r,e.sort?e.sort():[e]),ta(r)}:T4().includes(n)?function(...e){return n.apply(K_(this),e),ta(T1.get(this))}:function(...e){return ta(n.apply(K_(this),e))}}function I4(n){return typeof n=="function"?A4(n):(n instanceof IDBTransaction&&w4(n),v4(n,E4())?new Proxy(n,Tv):n)}function ta(n){if(n instanceof IDBRequest)return b4(n);if($_.has(n))return $_.get(n);const e=I4(n);return e!==n&&($_.set(n,e),P0.set(e,n)),e}const K_=n=>P0.get(n);function R4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=ta(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ta(u.result),f.oldVersion,f.newVersion,ta(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const C4=["get","getKey","getAll","getAllKeys","count"],x4=["put","add","delete","clear"],Q_=new Map;function dA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Q_.get(e))return Q_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=x4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||C4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return Q_.set(e,o),o}S4(n=>({...n,get:(e,t,r)=>dA(e,t)||n.get(e,t,r),has:(e,t)=>!!dA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function D4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",bv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Qp("@firebase/app"),N4="@firebase/app-compat",O4="@firebase/analytics-compat",k4="@firebase/analytics",V4="@firebase/app-check-compat",M4="@firebase/app-check",L4="@firebase/auth",U4="@firebase/auth-compat",B4="@firebase/database",z4="@firebase/data-connect",F4="@firebase/database-compat",j4="@firebase/functions",q4="@firebase/functions-compat",H4="@firebase/installations",G4="@firebase/installations-compat",$4="@firebase/messaging",K4="@firebase/messaging-compat",Q4="@firebase/performance",Y4="@firebase/performance-compat",W4="@firebase/remote-config",X4="@firebase/remote-config-compat",J4="@firebase/storage",Z4="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/ai",nL="@firebase/firestore-compat",rL="firebase",iL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]",sL={[lp]:"fire-core",[N4]:"fire-core-compat",[k4]:"fire-analytics",[O4]:"fire-analytics-compat",[M4]:"fire-app-check",[V4]:"fire-app-check-compat",[L4]:"fire-auth",[U4]:"fire-auth-compat",[B4]:"fire-rtdb",[z4]:"fire-data-connect",[F4]:"fire-rtdb-compat",[j4]:"fire-fn",[q4]:"fire-fn-compat",[H4]:"fire-iid",[G4]:"fire-iid-compat",[$4]:"fire-fcm",[K4]:"fire-fcm-compat",[Q4]:"fire-perf",[Y4]:"fire-perf-compat",[W4]:"fire-rc",[X4]:"fire-rc-compat",[J4]:"fire-gcs",[Z4]:"fire-gcs-compat",[eL]:"fire-fst",[nL]:"fire-fst-compat",[tL]:"fire-vertex","fire-js":"fire-js",[rL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Map,yu=new Map,_u=new Map;function td(n,e){try{n.container.addComponent(e)}catch(t){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function w1(n,e){n.container.addOrOverwriteComponent(e)}function ca(n){const e=n.name;if(_u.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;_u.set(e,n);for(const t of ua.values())td(t,n);for(const t of yu.values())td(t,n);return!0}function S1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function aL(n,e,t=la){S1(n,e).clearInstance(t)}function A1(n){return n.options!==void 0}function Et(n){return n==null?!1:n.settings!==void 0}function oL(){_u.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Fo("app","Firebase",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,e){const t=S0(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class uL extends I1{constructor(e,t,r,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&fA(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&fA(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Lr(lp,bv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){N0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ir.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=iL;function D0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:la,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ir.create("bad-app-name",{appName:String(s)});if(t||(t=h1()),!t)throw Ir.create("no-options");const o=ua.get(s);if(o){if(oa(t,o.options)&&oa(r,o.config))return o;throw Ir.create("duplicate-app",{appName:s})}const u=new v1(s);for(const f of _u.values())u.addComponent(f);const h=new I1(t,r,u);return ua.set(s,h),h}function cL(n,e){if(n4()&&!f1())throw Ir.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;A1(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const s=p=>[...p].reduce((y,v)=>Math.imul(31,y)+v.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ir.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(r)),u=yu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new v1(o);for(const p of _u.values())h.addComponent(p);const f=new uL(t,e,o,h);return yu.set(o,f),f}function hL(n=la){const e=ua.get(n);if(!e&&n===la&&h1())return D0();if(!e)throw Ir.create("no-app",{appName:n});return e}function dL(){return Array.from(ua.values())}async function N0(n){let e=!1;const t=n.name;ua.has(t)?(e=!0,ua.delete(t)):yu.has(t)&&n.decRefCount()<=0&&(yu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Lr(n,e,t){var r;let s=(r=sL[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(h.join(" "));return}ca(new _i(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function R1(n,e){if(n!==null&&typeof n!="function")throw Ir.create("invalid-log-argument");_4(n,e)}function C1(n){y4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="firebase-heartbeat-database",mL=1,nd="firebase-heartbeat-store";let Y_=null;function x1(){return Y_||(Y_=R4(fL,mL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),Y_}async function pL(n){try{const t=(await x1()).transaction(nd),r=await t.objectStore(nd).get(P1(n));return await t.done,r}catch(e){if(e instanceof Un)ss.warn(e.message);else{const t=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(t.message)}}}async function mA(n,e){try{const r=(await x1()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,P1(n)),await r.done}catch(t){if(t instanceof Un)ss.warn(t.message);else{const r=Ir.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ss.warn(r.message)}}}function P1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=1024,yL=30;class _L{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>yL){const u=TL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pA(),{heartbeatsToSend:r,unsentEntries:s}=vL(this._heartbeatsCache.heartbeats),o=ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ss.warn(t),""}}}function pA(){return new Date().toISOString().substring(0,10)}function vL(n,e=gL){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),gA(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),gA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class EL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ed()?i4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return mA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return mA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gA(n){return ap(JSON.stringify({version:2,heartbeats:n})).length}function TL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(n){ca(new _i("platform-logger",e=>new P4(e),"PRIVATE")),ca(new _i("heartbeat",e=>new _L(e),"PRIVATE")),Lr(lp,bv,n),Lr(lp,bv,"esm2017"),Lr("fire-js","")}bL("");const wL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Un,SDK_VERSION:Ea,_DEFAULT_ENTRY_NAME:la,_addComponent:td,_addOrOverwriteComponent:w1,_apps:ua,_clearComponents:oL,_components:_u,_getProvider:S1,_isFirebaseApp:A1,_isFirebaseServerApp:Et,_registerComponent:ca,_removeServiceInstance:aL,_serverApps:yu,deleteApp:N0,getApp:hL,getApps:dL,initializeApp:D0,initializeServerApp:cL,onLog:R1,registerVersion:Lr,setLogLevel:C1},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t){this._delegate=e,this.firebase=t,td(e,new _i("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),N0(this._delegate)))}_getService(e,t=la){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=la){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){td(this._delegate,e)}_addOrOverwriteComponent(e){w1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},yA=new Fo("app-compat","Firebase",AL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:Lr,setLogLevel:C1,onLog:R1,apps:null,SDK_VERSION:Ea,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:wL}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(p){delete e[p]}function s(p){if(p=p||la,!lA(e,p))throw yA.create("no-app",{appName:p});return e[p]}s.App=n;function o(p,y={}){const v=D0(p,y);if(lA(e,v.name))return e[v.name];const E=new n(v,t);return e[v.name]=E,E}function u(){return Object.keys(e).map(p=>e[p])}function h(p){const y=p.name,v=y.replace("-compat","");if(ca(p)&&p.type==="PUBLIC"){const E=(I=s())=>{if(typeof I[v]!="function")throw yA.create("invalid-app-argument",{appName:y});return I[v]()};p.serviceProps!==void 0&&op(E,p.serviceProps),t[v]=E,n.prototype[v]=function(...I){return this._getService.bind(this,y).apply(this,p.multipleInstances?I:[])}}return p.type==="PUBLIC"?t[v]:null}function f(p,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){const n=IL(SL);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:D1,extendNamespace:e,createSubscribe:_1,ErrorFactory:Fo,deepExtend:op});function e(t){op(n,t)}return n}const RL=D1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new Qp("@firebase/app-compat"),CL="@firebase/app-compat",xL="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n){Lr(CL,xL,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=A0();if(n.firebase!==void 0){_A.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&_A.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const jo=RL;PL();var DL="firebase",NL="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo.registerVersion(DL,NL,"app-compat");var vA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,N1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function D(){}D.prototype=x.prototype,P.D=x.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(w,O,M){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return x.prototype[O].apply(w,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,x,D){D||(D=0);var w=Array(16);if(typeof x=="string")for(var O=0;16>O;++O)w[O]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(O=0;16>O;++O)w[O]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=P.g[0],D=P.g[1],O=P.g[2];var M=P.g[3],N=x+(M^D&(O^M))+w[0]+3614090360&4294967295;x=D+(N<<7&4294967295|N>>>25),N=M+(O^x&(D^O))+w[1]+3905402710&4294967295,M=x+(N<<12&4294967295|N>>>20),N=O+(D^M&(x^D))+w[2]+606105819&4294967295,O=M+(N<<17&4294967295|N>>>15),N=D+(x^O&(M^x))+w[3]+3250441966&4294967295,D=O+(N<<22&4294967295|N>>>10),N=x+(M^D&(O^M))+w[4]+4118548399&4294967295,x=D+(N<<7&4294967295|N>>>25),N=M+(O^x&(D^O))+w[5]+1200080426&4294967295,M=x+(N<<12&4294967295|N>>>20),N=O+(D^M&(x^D))+w[6]+2821735955&4294967295,O=M+(N<<17&4294967295|N>>>15),N=D+(x^O&(M^x))+w[7]+4249261313&4294967295,D=O+(N<<22&4294967295|N>>>10),N=x+(M^D&(O^M))+w[8]+1770035416&4294967295,x=D+(N<<7&4294967295|N>>>25),N=M+(O^x&(D^O))+w[9]+2336552879&4294967295,M=x+(N<<12&4294967295|N>>>20),N=O+(D^M&(x^D))+w[10]+4294925233&4294967295,O=M+(N<<17&4294967295|N>>>15),N=D+(x^O&(M^x))+w[11]+2304563134&4294967295,D=O+(N<<22&4294967295|N>>>10),N=x+(M^D&(O^M))+w[12]+1804603682&4294967295,x=D+(N<<7&4294967295|N>>>25),N=M+(O^x&(D^O))+w[13]+4254626195&4294967295,M=x+(N<<12&4294967295|N>>>20),N=O+(D^M&(x^D))+w[14]+2792965006&4294967295,O=M+(N<<17&4294967295|N>>>15),N=D+(x^O&(M^x))+w[15]+1236535329&4294967295,D=O+(N<<22&4294967295|N>>>10),N=x+(O^M&(D^O))+w[1]+4129170786&4294967295,x=D+(N<<5&4294967295|N>>>27),N=M+(D^O&(x^D))+w[6]+3225465664&4294967295,M=x+(N<<9&4294967295|N>>>23),N=O+(x^D&(M^x))+w[11]+643717713&4294967295,O=M+(N<<14&4294967295|N>>>18),N=D+(M^x&(O^M))+w[0]+3921069994&4294967295,D=O+(N<<20&4294967295|N>>>12),N=x+(O^M&(D^O))+w[5]+3593408605&4294967295,x=D+(N<<5&4294967295|N>>>27),N=M+(D^O&(x^D))+w[10]+38016083&4294967295,M=x+(N<<9&4294967295|N>>>23),N=O+(x^D&(M^x))+w[15]+3634488961&4294967295,O=M+(N<<14&4294967295|N>>>18),N=D+(M^x&(O^M))+w[4]+3889429448&4294967295,D=O+(N<<20&4294967295|N>>>12),N=x+(O^M&(D^O))+w[9]+568446438&4294967295,x=D+(N<<5&4294967295|N>>>27),N=M+(D^O&(x^D))+w[14]+3275163606&4294967295,M=x+(N<<9&4294967295|N>>>23),N=O+(x^D&(M^x))+w[3]+4107603335&4294967295,O=M+(N<<14&4294967295|N>>>18),N=D+(M^x&(O^M))+w[8]+1163531501&4294967295,D=O+(N<<20&4294967295|N>>>12),N=x+(O^M&(D^O))+w[13]+2850285829&4294967295,x=D+(N<<5&4294967295|N>>>27),N=M+(D^O&(x^D))+w[2]+4243563512&4294967295,M=x+(N<<9&4294967295|N>>>23),N=O+(x^D&(M^x))+w[7]+1735328473&4294967295,O=M+(N<<14&4294967295|N>>>18),N=D+(M^x&(O^M))+w[12]+2368359562&4294967295,D=O+(N<<20&4294967295|N>>>12),N=x+(D^O^M)+w[5]+4294588738&4294967295,x=D+(N<<4&4294967295|N>>>28),N=M+(x^D^O)+w[8]+2272392833&4294967295,M=x+(N<<11&4294967295|N>>>21),N=O+(M^x^D)+w[11]+1839030562&4294967295,O=M+(N<<16&4294967295|N>>>16),N=D+(O^M^x)+w[14]+4259657740&4294967295,D=O+(N<<23&4294967295|N>>>9),N=x+(D^O^M)+w[1]+2763975236&4294967295,x=D+(N<<4&4294967295|N>>>28),N=M+(x^D^O)+w[4]+1272893353&4294967295,M=x+(N<<11&4294967295|N>>>21),N=O+(M^x^D)+w[7]+4139469664&4294967295,O=M+(N<<16&4294967295|N>>>16),N=D+(O^M^x)+w[10]+3200236656&4294967295,D=O+(N<<23&4294967295|N>>>9),N=x+(D^O^M)+w[13]+681279174&4294967295,x=D+(N<<4&4294967295|N>>>28),N=M+(x^D^O)+w[0]+3936430074&4294967295,M=x+(N<<11&4294967295|N>>>21),N=O+(M^x^D)+w[3]+3572445317&4294967295,O=M+(N<<16&4294967295|N>>>16),N=D+(O^M^x)+w[6]+76029189&4294967295,D=O+(N<<23&4294967295|N>>>9),N=x+(D^O^M)+w[9]+3654602809&4294967295,x=D+(N<<4&4294967295|N>>>28),N=M+(x^D^O)+w[12]+3873151461&4294967295,M=x+(N<<11&4294967295|N>>>21),N=O+(M^x^D)+w[15]+530742520&4294967295,O=M+(N<<16&4294967295|N>>>16),N=D+(O^M^x)+w[2]+3299628645&4294967295,D=O+(N<<23&4294967295|N>>>9),N=x+(O^(D|~M))+w[0]+4096336452&4294967295,x=D+(N<<6&4294967295|N>>>26),N=M+(D^(x|~O))+w[7]+1126891415&4294967295,M=x+(N<<10&4294967295|N>>>22),N=O+(x^(M|~D))+w[14]+2878612391&4294967295,O=M+(N<<15&4294967295|N>>>17),N=D+(M^(O|~x))+w[5]+4237533241&4294967295,D=O+(N<<21&4294967295|N>>>11),N=x+(O^(D|~M))+w[12]+1700485571&4294967295,x=D+(N<<6&4294967295|N>>>26),N=M+(D^(x|~O))+w[3]+2399980690&4294967295,M=x+(N<<10&4294967295|N>>>22),N=O+(x^(M|~D))+w[10]+4293915773&4294967295,O=M+(N<<15&4294967295|N>>>17),N=D+(M^(O|~x))+w[1]+2240044497&4294967295,D=O+(N<<21&4294967295|N>>>11),N=x+(O^(D|~M))+w[8]+1873313359&4294967295,x=D+(N<<6&4294967295|N>>>26),N=M+(D^(x|~O))+w[15]+4264355552&4294967295,M=x+(N<<10&4294967295|N>>>22),N=O+(x^(M|~D))+w[6]+2734768916&4294967295,O=M+(N<<15&4294967295|N>>>17),N=D+(M^(O|~x))+w[13]+1309151649&4294967295,D=O+(N<<21&4294967295|N>>>11),N=x+(O^(D|~M))+w[4]+4149444226&4294967295,x=D+(N<<6&4294967295|N>>>26),N=M+(D^(x|~O))+w[11]+3174756917&4294967295,M=x+(N<<10&4294967295|N>>>22),N=O+(x^(M|~D))+w[2]+718787259&4294967295,O=M+(N<<15&4294967295|N>>>17),N=D+(M^(O|~x))+w[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+O&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var D=x-this.blockSize,w=this.B,O=this.h,M=0;M<x;){if(O==0)for(;M<=D;)s(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<x;)if(w[O++]=P.charCodeAt(M++),O==this.blockSize){s(this,w),O=0;break}}else for(;M<x;)if(w[O++]=P[M++],O==this.blockSize){s(this,w),O=0;break}}this.h=O,this.o+=x},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var D=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=D&255,D/=256;for(this.u(P),P=Array(16),x=D=0;4>x;++x)for(var w=0;32>w;w+=8)P[D++]=this.g[x]>>>w&255;return P};function o(P,x){var D=h;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=x(P)}function u(P,x){this.h=x;for(var D=[],w=!0,O=P.length-1;0<=O;O--){var M=P[O]|0;w&&M==x||(D[O]=M,w=!1)}this.g=D}var h={};function f(P){return-128<=P&&128>P?o(P,function(x){return new u([x|0],0>x?-1:0)}):new u([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return V(p(-P));for(var x=[],D=1,w=0;P>=D;w++)x[w]=P/D|0,D*=4294967296;return new u(x,0)}function y(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return V(y(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(x,8)),w=v,O=0;O<P.length;O+=8){var M=Math.min(8,P.length-O),N=parseInt(P.substring(O,O+M),x);8>M?(M=p(Math.pow(x,M)),w=w.j(M).add(p(N))):(w=w.j(D),w=w.add(p(N)))}return w}var v=f(0),E=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-V(this).m();for(var P=0,x=1,D=0;D<this.g.length;D++){var w=this.i(D);P+=(0<=w?w:4294967296+w)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(C(this))return"-"+V(this).toString(P);for(var x=p(Math.pow(P,6)),D=this,w="";;){var O=te(D,x).g;D=B(D,O.j(x));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=O,R(D))return M+w;for(;6>M.length;)M="0"+M;w=M+w}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function C(P){return P.h==-1}n.l=function(P){return P=B(this,P),C(P)?-1:R(P)?0:1};function V(P){for(var x=P.g.length,D=[],w=0;w<x;w++)D[w]=~P.g[w];return new u(D,~P.h).add(E)}n.abs=function(){return C(this)?V(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],w=0,O=0;O<=x;O++){var M=w+(this.i(O)&65535)+(P.i(O)&65535),N=(M>>>16)+(this.i(O)>>>16)+(P.i(O)>>>16);w=N>>>16,M&=65535,N&=65535,D[O]=N<<16|M}return new u(D,D[D.length-1]&-2147483648?-1:0)};function B(P,x){return P.add(V(x))}n.j=function(P){if(R(this)||R(P))return v;if(C(this))return C(P)?V(this).j(V(P)):V(V(this).j(P));if(C(P))return V(this.j(V(P)));if(0>this.l(I)&&0>P.l(I))return p(this.m()*P.m());for(var x=this.g.length+P.g.length,D=[],w=0;w<2*x;w++)D[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<P.g.length;O++){var M=this.i(w)>>>16,N=this.i(w)&65535,He=P.i(O)>>>16,Ge=P.i(O)&65535;D[2*w+2*O]+=N*Ge,X(D,2*w+2*O),D[2*w+2*O+1]+=M*Ge,X(D,2*w+2*O+1),D[2*w+2*O+1]+=N*He,X(D,2*w+2*O+1),D[2*w+2*O+2]+=M*He,X(D,2*w+2*O+2)}for(w=0;w<x;w++)D[w]=D[2*w+1]<<16|D[2*w];for(w=x;w<2*x;w++)D[w]=0;return new u(D,0)};function X(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function F(P,x){this.g=P,this.h=x}function te(P,x){if(R(x))throw Error("division by zero");if(R(P))return new F(v,v);if(C(P))return x=te(V(P),x),new F(V(x.g),V(x.h));if(C(x))return x=te(P,V(x)),new F(V(x.g),x.h);if(30<P.g.length){if(C(P)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var D=E,w=x;0>=w.l(P);)D=ne(D),w=ne(w);var O=ce(D,1),M=ce(w,1);for(w=ce(w,2),D=ce(D,2);!R(w);){var N=M.add(w);0>=N.l(P)&&(O=O.add(D),M=N),w=ce(w,1),D=ce(D,1)}return x=B(P,O.j(x)),new F(O,x)}for(O=v;0<=P.l(x);){for(D=Math.max(1,Math.floor(P.m()/x.m())),w=Math.ceil(Math.log(D)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),M=p(D),N=M.j(x);C(N)||0<N.l(P);)D-=w,M=p(D),N=M.j(x);R(M)&&(M=E),O=O.add(M),P=B(P,N)}return new F(O,P)}n.A=function(P){return te(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],w=0;w<x;w++)D[w]=this.i(w)&P.i(w);return new u(D,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],w=0;w<x;w++)D[w]=this.i(w)|P.i(w);return new u(D,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],w=0;w<x;w++)D[w]=this.i(w)^P.i(w);return new u(D,this.h^P.h)};function ne(P){for(var x=P.g.length+1,D=[],w=0;w<x;w++)D[w]=P.i(w)<<1|P.i(w-1)>>>31;return new u(D,P.h)}function ce(P,x){var D=x>>5;x%=32;for(var w=P.g.length-D,O=[],M=0;M<w;M++)O[M]=0<x?P.i(M+D)>>>x|P.i(M+D+1)<<32-x:P.i(M+D);return new u(O,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,na=u}).apply(typeof vA<"u"?vA:typeof self<"u"?self:typeof window<"u"?window:{});var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O1,Ch,k1,jm,wv,V1,M1,L1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rm=="object"&&Rm];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var j=d[A];if(!(j in T))break e;T=T[j]}d=d[d.length-1],A=T[d],_=_(A),_!=A&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,A=!1,j={next:function(){if(!A&&T<d.length){var Y=T++;return{value:_(Y,d[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,T){return d.call.apply(d.bind,arguments)}function v(d,_,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),d.apply(_,j)}}return function(){return d.apply(_,arguments)}}function E(d,_,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,E.apply(null,arguments)}function I(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function R(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,j,Y){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return _.prototype[j].apply(A,de)}}function C(d){const _=d.length;if(0<_){const T=Array(_);for(let A=0;A<_;A++)T[A]=d[A];return T}return[]}function V(d,_){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(f(A)){const j=d.length||0,Y=A.length||0;d.length=j+Y;for(let de=0;de<Y;de++)d[j+de]=A[de]}else d.push(A)}}class B{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function X(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var ne=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ce(d,_,T){for(const A in d)_.call(T,d[A],A,d)}function P(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function x(d){const _={};for(const T in d)_[T]=d[T];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(d,_){let T,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(T in A)d[T]=A[T];for(let Y=0;Y<D.length;Y++)T=D[Y],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function O(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function M(d){h.setTimeout(()=>{throw d},0)}function N(){var d=Qe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class He{constructor(){this.h=this.g=null}add(_,T){const A=Ge.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Ge=new B(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Te=!1,Qe=new He,L=()=>{const d=h.Promise.resolve(void 0);me=()=>{d.then(ae)}};var ae=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(T){M(T)}var _=Ge;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Te=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return d}();function Oe(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ne){e:{try{te(_.nodeName);var j=!0;break e}catch{}j=!1}j||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Oe.aa.h.call(this)}}R(Oe,he);var xe={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var sn="closure_listenable_"+(1e6*Math.random()|0),dt=0;function Br(d,_,T,A,j){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=j,this.key=++dt,this.da=this.fa=!1}function ys(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Si(d){this.src=d,this.g={},this.h=0}Si.prototype.add=function(d,_,T,A,j){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var de=Ca(d,_,A,j);return-1<de?(_=d[de],T||(_.fa=!1)):(_=new Br(_,this.src,Y,!!A,j),_.fa=T,d.push(_)),_};function Ra(d,_){var T=_.type;if(T in d.g){var A=d.g[T],j=Array.prototype.indexOf.call(A,_,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(A,j,1),Y&&(ys(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ca(d,_,T,A){for(var j=0;j<d.length;++j){var Y=d[j];if(!Y.da&&Y.listener==_&&Y.capture==!!T&&Y.ha==A)return j}return-1}var xa="closure_lm_"+(1e6*Math.random()|0),nc={};function Jd(d,_,T,A,j){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)Jd(d,_[Y],T,A,j);return null}return T=Zd(T),d&&d[sn]?d.K(_,T,p(A)?!!A.capture:!1,j):hr(d,_,T,!1,A,j)}function hr(d,_,T,A,j,Y){if(!_)throw Error("Invalid event type");var de=p(j)?!!j.capture:!!j,ze=Yo(d);if(ze||(d[xa]=ze=new Si(d)),T=ze.add(_,T,A,de,Y),T.proxy)return T;if(A=Ng(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)we||(j=de),j===void 0&&(j=!1),d.addEventListener(_.toString(),A,j);else if(d.attachEvent)d.attachEvent(Pa(_.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ng(){function d(T){return _.call(d.src,d.listener,T)}const _=Og;return d}function rc(d,_,T,A,j){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)rc(d,_[Y],T,A,j);else A=p(A)?!!A.capture:!!A,T=Zd(T),d&&d[sn]?(d=d.i,_=String(_).toString(),_ in d.g&&(Y=d.g[_],T=Ca(Y,T,A,j),-1<T&&(ys(Y[T]),Array.prototype.splice.call(Y,T,1),Y.length==0&&(delete d.g[_],d.h--)))):d&&(d=Yo(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ca(_,T,A,j)),(T=-1<d?_[d]:null)&&Qo(T))}function Qo(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[sn])Ra(_.i,d);else{var T=d.type,A=d.proxy;_.removeEventListener?_.removeEventListener(T,A,d.capture):_.detachEvent?_.detachEvent(Pa(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=Yo(_))?(Ra(T,d),T.h==0&&(T.src=null,_[xa]=null)):ys(d)}}}function Pa(d){return d in nc?nc[d]:nc[d]="on"+d}function Og(d,_){if(d.da)d=!0;else{_=new Oe(_,this);var T=d.listener,A=d.ha||d.src;d.fa&&Qo(d),d=T.call(A,_)}return d}function Yo(d){return d=d[xa],d instanceof Si?d:null}var ic="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zd(d){return typeof d=="function"?d:(d[ic]||(d[ic]=function(_){return d.handleEvent(_)}),d[ic])}function xt(){ge.call(this),this.i=new Si(this),this.M=this,this.F=null}R(xt,ge),xt.prototype[sn]=!0,xt.prototype.removeEventListener=function(d,_,T,A){rc(this,d,_,T,A)};function Ze(d,_){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var j=_;_=new he(A,d),w(_,j)}if(j=!0,T)for(var Y=T.length-1;0<=Y;Y--){var de=_.g=T[Y];j=Yn(de,A,!0,_)&&j}if(de=_.g=d,j=Yn(de,A,!0,_)&&j,j=Yn(de,A,!1,_)&&j,T)for(Y=0;Y<T.length;Y++)de=_.g=T[Y],j=Yn(de,A,!1,_)&&j}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],A=0;A<T.length;A++)ys(T[A]);delete d.g[_],d.h--}}this.F=null},xt.prototype.K=function(d,_,T,A){return this.i.add(String(d),_,!1,T,A)},xt.prototype.L=function(d,_,T,A){return this.i.add(String(d),_,!0,T,A)};function Yn(d,_,T,A){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var j=!0,Y=0;Y<_.length;++Y){var de=_[Y];if(de&&!de.da&&de.capture==T){var ze=de.listener,Jt=de.ha||de.src;de.fa&&Ra(d.i,de),j=ze.call(Jt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Sn(d,_,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function ef(d){d.g=Sn(()=>{d.g=null,d.i&&(d.i=!1,ef(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class kg extends ge{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ef(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(d){ge.call(this),this.h=d,this.g={}}R(Da,ge);var Na=[];function Oa(d){ce(d.g,function(_,T){this.g.hasOwnProperty(T)&&Qo(_)},d),d.g={}}Da.prototype.N=function(){Da.aa.N.call(this),Oa(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,Wo=h.JSON.parse,ka=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function sc(){}sc.prototype.h=null;function ac(d){return d.h||(d.h=d.i())}function oc(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){he.call(this,"d")}R(Ii,he);function lc(){he.call(this,"c")}R(lc,he);var zr={},uc=null;function _s(){return uc=uc||new xt}zr.La="serverreachability";function Xo(d){he.call(this,zr.La,d)}R(Xo,he);function vs(d){const _=_s();Ze(_,new Xo(_))}zr.STAT_EVENT="statevent";function tf(d,_){he.call(this,zr.STAT_EVENT,d),this.stat=_}R(tf,he);function gt(d){const _=_s();Ze(_,new tf(_,d))}zr.Ma="timingevent";function Xt(d,_){he.call(this,zr.Ma,d),this.size=_}R(Xt,he);function Ht(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function cc(d,_,T,A,j,Y){d.info(function(){if(d.g)if(Y)for(var de="",ze=Y.split("&"),Jt=0;Jt<ze.length;Jt++){var Fe=ze[Jt].split("=");if(1<Fe.length){var on=Fe[0];Fe=Fe[1];var Zt=on.split("_");de=2<=Zt.length&&Zt[1]=="type"?de+(on+"="+Fe+"&"):de+(on+"=redacted&")}}else de=null;else de=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+_+`
`+T+`
`+de})}function Vg(d,_,T,A,j,Y,de){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+_+`
`+T+`
`+Y+" "+de})}function Es(d,_,T,A){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Va(d,T)+(A?" "+A:"")})}function nf(d,_){d.info(function(){return"TIMEOUT: "+_})}dr.prototype.info=function(){};function Va(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var de=1;de<j.length;de++)j[de]=""}}}}return xr(T)}catch{return _}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function jr(){}R(jr,sc),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Fr=new jr;function Nn(d,_,T,A){this.j=d,this.i=_,this.l=T,this.R=A||1,this.U=new Da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var hc={},Jo={};function Pr(d,_,T){d.L=1,d.v=za(Wn(_)),d.m=T,d.P=!0,Ci(d,null)}function Ci(d,_){d.F=Date.now(),Ma(d),d.A=Wn(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),yc(T.i,"t",A),d.C=0,T=d.j.J,d.h=new Lt,d.g=vf(d.j,T?_:null,!d.m),0<d.O&&(d.M=new kg(E(d.Y,d,d.g),d.O)),_=d.U,T=d.g,A=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(Na[0]=j.toString()),j=Na);for(var Y=0;Y<j.length;Y++){var de=Jd(T,j[Y],A||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),vs(),cc(d.i,d.u,d.A,d.l,d.R,d.m)}Nn.prototype.ca=function(d){d=d.target;const _=this.M;_&&gr(d)==3?_.j():this.Y(d)},Nn.prototype.Y=function(d){try{if(d==this.g)e:{const Zt=gr(this.g);var _=this.g.Ba();const Mi=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||hf(this.g)))){this.J||Zt!=4||_==7||(_==8||0>=Mi?vs(3):vs(2)),bs(this);var T=this.g.Z();this.X=T;t:if(rf(this)){var A=hf(this.g);d="";var j=A.length,Y=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),qr(this);var de="";break t}this.h.i=new h.TextDecoder}for(_=0;_<j;_++)this.h.h=!0,d+=this.h.i.decode(A[_],{stream:!(Y&&_==j-1)});A.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,Vg(this.i,this.u,this.A,this.l,this.R,Zt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Jt=this.g;if((ze=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ze)){var Fe=ze;break t}}Fe=null}if(T=Fe)Es(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,T);else{this.o=!1,this.s=3,gt(12),mn(this),qr(this);break e}}if(this.P){T=!0;let pn;for(;!this.J&&this.C<de.length;)if(pn=sf(this,de),pn==Jo){Zt==4&&(this.s=4,gt(14),T=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==hc){this.s=4,gt(15),Es(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else Es(this.i,this.l,pn,null),La(this,pn);if(rf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||de.length!=0||this.h.h||(this.s=1,gt(16),T=!1),this.o=this.o&&T,!T)Es(this.i,this.l,de,"[Invalid Chunked Response]"),mn(this),qr(this);else if(0<de.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Qa(on),on.M=!0,gt(11))}}else Es(this.i,this.l,de,null),La(this,de);Zt==4&&mn(this),this.o&&!this.J&&(Zt==4?gf(this.j,this):(this.o=!1,Ma(this)))}else zg(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),mn(this),qr(this)}}}catch{}finally{}};function rf(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function sf(d,_){var T=d.C,A=_.indexOf(`
`,T);return A==-1?Jo:(T=Number(_.substring(T,A)),isNaN(T)?hc:(A+=1,A+T>_.length?Jo:(_=_.slice(A,A+T),d.C=A+T,_)))}Nn.prototype.cancel=function(){this.J=!0,mn(this)};function Ma(d){d.S=Date.now()+d.I,af(d,d.I)}function af(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ht(E(d.ba,d),_)}function bs(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Nn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(nf(this.i,this.A),this.L!=2&&(vs(),gt(17)),mn(this),this.s=2,qr(this)):af(this,this.S-d)};function qr(d){d.j.G==0||d.J||gf(d.j,d)}function mn(d){bs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Oa(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function La(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||dc(T.h,d))){if(!d.K&&dc(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)cl(T),ll(T);else break e;bc(T),gt(18)}}else T.za=j[1],0<T.za-T.T&&37500>j[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ht(E(T.Za,T),6e3));if(1>=el(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Vi(T,11)}else if((d.K||T.g==d)&&cl(T),!X(_))for(j=T.Da.g.parse(_),_=0;_<j.length;_++){let Fe=j[_];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const on=Fe[3];on!=null&&(T.la=on,T.j.info("VER="+T.la));const Zt=Fe[4];Zt!=null&&(T.Aa=Zt,T.j.info("SVER="+T.Aa));const Mi=Fe[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(A=1.5*Mi,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const pn=d.g;if(pn){const Wr=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var Y=A.h;Y.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(tl(Y,Y.h),Y.h=null))}if(A.D){const Sc=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sc&&(A.ya=Sc,it(A.I,A.D,Sc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var de=d;if(A.qa=_f(A,A.J?A.ia:null,A.W),de.K){On(A.h,de);var ze=de,Jt=A.L;Jt&&(ze.I=Jt),ze.B&&(bs(ze),Ma(ze)),A.g=de}else mf(A);0<T.i.length&&ul(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Vi(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Vi(T,7):Ec(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}vs(4)}catch{}}var of=class{constructor(d,_){this.g=d,this.map=_}};function xi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function el(d){return d.h?1:d.g?d.g.size:0}function dc(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function tl(d,_){d.g?d.g.add(_):d.h=_}function On(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}xi.prototype.cancel=function(){if(this.i=fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function fc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return C(d.i)}function Mg(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],T=d.length,A=0;A<T;A++)_.push(d[A]);return _}_=[],T=0;for(A in d)_[T++]=d[A];return _}function nl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const A in d)_[T++]=A;return _}}}function mc(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=nl(d),A=Mg(d),j=A.length,Y=0;Y<j;Y++)_.call(void 0,A[Y],T&&T[Y],d)}var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lg(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),j=null;if(0<=A){var Y=d[T].substring(0,A);j=d[T].substring(A+1)}else Y=d[T];_(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Gt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Gt){this.h=d.h,Ba(this,d.j),this.o=d.o,this.g=d.g,ws(this,d.s),this.l=d.l;var _=d.i,T=new Di;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Pi(this,T),this.m=d.m}else d&&(_=String(d).match(Ua))?(this.h=!1,Ba(this,_[1]||"",!0),this.o=fr(_[2]||""),this.g=fr(_[3]||"",!0),ws(this,_[4]),this.l=fr(_[5]||"",!0),Pi(this,_[6]||"",!0),this.m=fr(_[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}Gt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Fa(_,pc,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Fa(_,pc,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Fa(T,T.charAt(0)=="/"?Ug:gc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Fa(T,rl)),d.join("")};function Wn(d){return new Gt(d)}function Ba(d,_,T){d.j=T?fr(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ws(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Pi(d,_,T){_ instanceof Di?(d.i=_,uf(d.i,d.h)):(T||(_=Fa(_,Bg)),d.i=new Di(_,d.h))}function it(d,_,T){d.i.set(_,T)}function za(d){return it(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function fr(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Fa(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,lf),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function lf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var pc=/[#\/\?@]/g,gc=/[#\?:]/g,Ug=/[#\?]/g,Bg=/[#\?@]/g,rl=/#/g;function Di(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function mr(d){d.g||(d.g=new Map,d.h=0,d.i&&Lg(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Di.prototype,n.add=function(d,_){mr(this),this.i=null,d=Hr(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Ni(d,_){mr(d),_=Hr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Oi(d,_){return mr(d),_=Hr(d,_),d.g.has(_)}n.forEach=function(d,_){mr(this),this.g.forEach(function(T,A){T.forEach(function(j){d.call(_,j,A,this)},this)},this)},n.na=function(){mr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let A=0;A<_.length;A++){const j=d[A];for(let Y=0;Y<j.length;Y++)T.push(_[A])}return T},n.V=function(d){mr(this);let _=[];if(typeof d=="string")Oi(this,d)&&(_=_.concat(this.g.get(Hr(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},n.set=function(d,_){return mr(this),this.i=null,d=Hr(this,d),Oi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function yc(d,_,T){Ni(d,_),0<T.length&&(d.i=null,d.g.set(Hr(d,_),C(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var A=_[T];const Y=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var j=Y;de[A]!==""&&(j+="="+encodeURIComponent(String(de[A]))),d.push(j)}}return this.i=d.join("&")};function Hr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function uf(d,_){_&&!d.j&&(mr(d),d.i=null,d.g.forEach(function(T,A){var j=A.toLowerCase();A!=j&&(Ni(this,A),yc(this,j,T))},d)),d.j=_}function ja(d,_){const T=new dr;if(h.Image){const A=new Image;A.onload=I(pr,T,"TestLoadImage: loaded",!0,_,A),A.onerror=I(pr,T,"TestLoadImage: error",!1,_,A),A.onabort=I(pr,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=I(pr,T,"TestLoadImage: timeout",!1,_,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else _(!1)}function Dr(d,_){const T=new dr,A=new AbortController,j=setTimeout(()=>{A.abort(),pr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?pr(T,"TestPingServer: ok",!0,_):pr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),pr(T,"TestPingServer: error",!1,_)})}function pr(d,_,T,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(T)}catch{}}function qa(){this.g=new ka}function Gr(d,_,T){const A=T||"";try{mc(d,function(j,Y){let de=j;p(j)&&(de=xr(j)),_.push(A+Y+"="+encodeURIComponent(de))})}catch(j){throw _.push(A+"type="+encodeURIComponent("_badmap")),j}}function Ss(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Ss,sc),Ss.prototype.g=function(){return new ki(this.l,this.j)},Ss.prototype.i=function(d){return function(){return d}}({});function ki(d,_){xt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ki,xt),n=ki.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_c(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function _c(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?$r(this):Kr(this),this.readyState==3&&_c(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,$r(this))},n.Qa=function(d){this.g&&(this.response=d,$r(this))},n.ga=function(){this.g&&$r(this)};function $r(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Kr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function vc(d){let _="";return ce(d,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function an(d,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=vc(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):it(d,_,T))}function Je(d){xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Je,xt);var il=/^https?$/i,Ha=["POST","PUT"];n=Je.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?ac(this.o):ac(Fr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Y){cf(this,Y);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)T.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())T.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ha,_,void 0))||A||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of T)this.g.setRequestHeader(Y,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){cf(this,Y)}};function cf(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,sl(d),Qr(d)}function sl(d){d.A||(d.A=!0,Ze(d,"complete"),Ze(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ze(this,"complete"),Ze(this,"abort"),Qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},n.bb=function(){al(this)};function al(d){if(d.h&&typeof u<"u"&&(!d.v[1]||gr(d)!=4||d.Z()!=2)){if(d.u&&gr(d)==4)Sn(d.Ea,0,d);else if(Ze(d,"readystatechange"),gr(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=de===0){var j=String(d.D).match(Ua)[1]||null;!j&&h.self&&h.self.location&&(j=h.self.location.protocol.slice(0,-1)),A=!il.test(j?j.toLowerCase():"")}T=A}if(T)Ze(d,"complete"),Ze(d,"success");else{d.m=6;try{var Y=2<gr(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",sl(d)}}finally{Qr(d)}}}}function Qr(d,_){if(d.g){Ga(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Ze(d,"ready");try{T.onreadystatechange=A}catch{}}}function Ga(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function gr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Wo(_)}};function hf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zg(d){const _={};d=(d.g&&2<=gr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(X(d[A]))continue;var T=O(d[A]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=_[j]||[];_[j]=Y,Y.push(T)}P(_,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function ol(d){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,d),this.cb=$a("retryDelaySeedMs",1e4,d),this.Wa=$a("forwardChannelMaxRetries",2,d),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(d&&d.concurrentRequestLimit),this.Da=new qa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ol.prototype,n.la=8,n.G=1,n.connect=function(d,_,T,A){gt(0),this.W=d,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=_f(this,null,this.W),ul(this)};function Ec(d){if(df(d),d.G==3){var _=d.U++,T=Wn(d.I);if(it(T,"SID",d.K),it(T,"RID",_),it(T,"TYPE","terminate"),Ka(d,T),_=new Nn(d,d.j,_),_.L=2,_.v=za(Wn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.v,T=!0),T||(_.g=vf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ma(_)}yf(d)}function ll(d){d.g&&(Qa(d),d.g.cancel(),d.g=null)}function df(d){ll(d),d.u&&(h.clearTimeout(d.u),d.u=null),cl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function ul(d){if(!Zo(d.h)&&!d.s){d.s=!0;var _=d.Ga;me||L(),Te||(me(),Te=!0),Qe.add(_,d),d.B=0}}function Fg(d,_){return el(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ht(E(d.Ga,d,_),wc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new Nn(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=x(Y),w(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=ff(this,j,_),T=Wn(this.I),it(T,"RID",d),it(T,"CVER",22),this.D&&it(T,"X-HTTP-Session-Id",this.D),Ka(this,T),Y&&(this.O?_="headers="+encodeURIComponent(String(vc(Y)))+"&"+_:this.m&&an(T,this.m,Y)),tl(this.h,j),this.Ua&&it(T,"TYPE","init"),this.P?(it(T,"$req",_),it(T,"SID","null"),j.T=!0,Pr(j,T,null)):Pr(j,T,_),this.G=2}}else this.G==3&&(d?Tc(this,d):this.i.length==0||Zo(this.h)||Tc(this))};function Tc(d,_){var T;_?T=_.l:T=d.U++;const A=Wn(d.I);it(A,"SID",d.K),it(A,"RID",T),it(A,"AID",d.T),Ka(d,A),d.m&&d.o&&an(A,d.m,d.o),T=new Nn(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=ff(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),tl(d.h,T),Pr(T,A,_)}function Ka(d,_){d.H&&ce(d.H,function(T,A){it(_,A,T)}),d.l&&mc({},function(T,A){it(_,A,T)})}function ff(d,_,T){T=Math.min(d.i.length,T);var A=d.l?E(d.l.Na,d.l,d):null;e:{var j=d.i;let Y=-1;for(;;){const de=["count="+T];Y==-1?0<T?(Y=j[0].g,de.push("ofs="+Y)):Y=0:de.push("ofs="+Y);let ze=!0;for(let Jt=0;Jt<T;Jt++){let Fe=j[Jt].g;const on=j[Jt].map;if(Fe-=Y,0>Fe)Y=Math.max(0,j[Jt].g-100),ze=!1;else try{Gr(on,de,"req"+Fe+"_")}catch{A&&A(on)}}if(ze){A=de.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,A}function mf(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;me||L(),Te||(me(),Te=!0),Qe.add(_,d),d.v=0}}function bc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ht(E(d.Fa,d),wc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ht(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ll(this),pf(this))};function Qa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function pf(d){d.g=new Nn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Wn(d.qa);it(_,"RID","rpc"),it(_,"SID",d.K),it(_,"AID",d.T),it(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&it(_,"TO",d.ja),it(_,"TYPE","xmlhttp"),Ka(d,_),d.m&&d.o&&an(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=za(Wn(_)),T.m=null,T.P=!0,Ci(T,d)}n.Za=function(){this.C!=null&&(this.C=null,ll(this),bc(this),gt(19))};function cl(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function gf(d,_){var T=null;if(d.g==_){cl(d),Qa(d),d.g=null;var A=2}else if(dc(d.h,_))T=_.D,On(d.h,_),A=1;else return;if(d.G!=0){if(_.o)if(A==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var j=d.B;A=_s(),Ze(A,new Xt(A,T)),ul(d)}else mf(d);else if(j=_.s,j==3||j==0&&0<_.X||!(A==1&&Fg(d,_)||A==2&&bc(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),j){case 1:Vi(d,5);break;case 4:Vi(d,10);break;case 3:Vi(d,6);break;default:Vi(d,2)}}}function wc(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function Vi(d,_){if(d.j.info("Error code "+_),_==2){var T=E(d.fb,d),A=d.Xa;const j=!A;A=new Gt(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ba(A,"https"),za(A),j?ja(A.toString(),T):Dr(A.toString(),T)}else gt(2);d.G=0,d.l&&d.l.sa(_),yf(d),df(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function yf(d){if(d.G=0,d.ka=[],d.l){const _=fc(d.h);(_.length!=0||d.i.length!=0)&&(V(d.ka,_),V(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function _f(d,_,T){var A=T instanceof Gt?Wn(T):new Gt(T);if(A.g!="")_&&(A.g=_+"."+A.g),ws(A,A.s);else{var j=h.location;A=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;var Y=new Gt(null);A&&Ba(Y,A),_&&(Y.g=_),j&&ws(Y,j),T&&(Y.l=T),A=Y}return T=d.D,_=d.ya,T&&_&&it(A,T,_),it(A,"VER",d.la),Ka(d,A),A}function vf(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Je(new Ss({eb:T})):new Je(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ef(){}n=Ef.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hl(){}hl.prototype.g=function(d,_){return new kn(d,_)};function kn(d,_){xt.call(this),this.g=new ol(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!X(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!X(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Yr(this)}R(kn,xt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Ec(this.g)},kn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=xr(d),d=T);_.i.push(new of(_.Ya++,d)),_.G==3&&ul(_)},kn.prototype.N=function(){this.g.l=null,delete this.j,Ec(this.g),delete this.g,kn.aa.N.call(this)};function Tf(d){Ii.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(Tf,Ii);function bf(){lc.call(this),this.status=1}R(bf,lc);function Yr(d){this.g=d}R(Yr,Ef),Yr.prototype.ua=function(){Ze(this.g,"a")},Yr.prototype.ta=function(d){Ze(this.g,new Tf(d))},Yr.prototype.sa=function(d){Ze(this.g,new bf)},Yr.prototype.ra=function(){Ze(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,L1=function(){return new hl},M1=function(){return _s()},V1=zr,wv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,jm=Ts,Ri.COMPLETE="complete",k1=Ri,oc.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Ch=oc,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,O1=Je}).apply(typeof Rm<"u"?Rm:typeof self<"u"?self:typeof window<"u"?window:{});const EA="@firebase/firestore",TA="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Qp("@firebase/firestore");function Zl(){return ha.logLevel}function OL(n){ha.setLogLevel(n)}function le(n,...e){if(ha.logLevel<=Le.DEBUG){const t=e.map(O0);ha.debug(`Firestore (${Gu}): ${n}`,...t)}}function zt(n,...e){if(ha.logLevel<=Le.ERROR){const t=e.map(O0);ha.error(`Firestore (${Gu}): ${n}`,...t)}}function vi(n,...e){if(ha.logLevel<=Le.WARN){const t=e.map(O0);ha.warn(`Firestore (${Gu}): ${n}`,...t)}}function O0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,U1(n,r,t)}function U1(n,e,t){let r=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zt(r),new Error(r)}function ve(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||U1(e,s,r)}function kL(n,e){n||ye(57014,e)}function pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class ML{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LL{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bn,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new B1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class UL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Et(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=FL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Re(n,e){return n<e?-1:n>e?1:0}function Sv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Re(r,s);{const o=k0(),u=jL(o.encode(wA(n,t)),o.encode(wA(e,t)));return u!==0?u:Re(r,s)}}t+=r>65535?2:1}return Re(n.length,e.length)}function wA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function jL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function vu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function F1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=-62135596800,AA=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AA);return new wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SA)throw new oe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AA}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-SA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new wt(0,0))}static max(){return new Ee(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="__name__";class ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ye(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=ri.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Re(e.length,t.length)}static compareSegments(e,t){const r=ri.isNumericId(e),s=ri.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ri.extractNumericId(e).compare(ri.extractNumericId(t)):Sv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Ue extends ri{construct(e,t,r){return new Ue(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ue(t)}static emptyPath(){return new Ue([])}}const qL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends ri{construct(e,t,r){return new Tt(e,t,r)}static isValidIdentifier(e){return qL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IA}static keyField(){return new Tt([IA])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new oe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new oe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new oe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new oe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(t)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ue.fromString(e))}static fromName(e){return new fe(Ue.fromString(e).popFirst(5))}static empty(){return new fe(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;class up{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Av(n){return n.fields.find(e=>e.kind===2)}function fo(n){return n.fields.filter(e=>e.kind!==2)}up.UNKNOWN_ID=-1;class qm{constructor(e,t){this.fieldPath=e,this.kind=t}}class rd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rd(0,cr.min())}}function j1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new cr(s,fe.empty(),e)}function q1(n){return new cr(n.readTime,n.key,Eu)}class cr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cr(Ee.min(),fe.empty(),Eu)}static max(){return new cr(Ee.max(),fe.empty(),Eu)}}function V0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==H1)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let s=0,o=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(s=>s?q.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new q((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++h,h===o&&r(u)},y=>s(y))}})}static doWhile(e,t){return new q((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="SimpleDb";class Yp{static open(e,t,r,s){try{return new Yp(t,e.transaction(s,r))}catch(o){throw new Vh(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new bn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Vh(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=M0(r.target.error);this.S.reject(new Vh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(ir,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GL(t)}}class pi{static delete(e){return le(ir,"Removing database:",e),po(A0().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!ed())return!1;if(pi.F())return!0;const e=Rt(),t=pi.M(e),r=0<t&&t<10,s=$1(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,pi.M(Rt())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(le(ir,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new Vh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new oe(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new oe(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Vh(e,u))},s.onupgradeneeded=o=>{le(ir,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,s.transaction,o.oldVersion,this.version).next(()=>{le(ir,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=Yp.open(this.db,e,o?"readonly":"readwrite",r),f=s(h).next(p=>(h.v(),p)).catch(p=>(h.abort(p),q.reject(p))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,p=f.name!=="FirebaseError"&&u<3;if(le(ir,"Transaction failed with error:",f.message,"Retrying:",p),this.close(),!p)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function $1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class HL{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return po(this.K.delete())}}class Vh extends oe{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ba(n){return n.name==="IndexedDbTransactionError"}class GL{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(le(ir,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(le(ir,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),po(r)}add(e){return le(ir,"ADD",this.store.name,e,e),po(this.store.add(e))}get(e){return po(this.store.get(e)).next(t=>(t===void 0&&(t=null),le(ir,"GET",this.store.name,e,t),t))}delete(e){return le(ir,"DELETE",this.store.name,e),po(this.store.delete(e))}count(){return le(ir,"COUNT",this.store.name),po(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new q((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new q((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}X(e,t){le(ir,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const s=this.cursor(r);return this.Y(s,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Y(s,t)}ne(e){const t=this.cursor({});return new q((r,s)=>{t.onerror=o=>{const u=M0(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new q((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const f=new HL(h),p=t(h.primaryKey,h.value,f);if(p instanceof q){const y=p.catch(v=>(f.done(),q.reject(v)));r.push(y)}f.isDone?s():f.j===null?h.continue():h.continue(f.j)}}).next(()=>q.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function po(n){return new q((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=M0(r.target.error);t(s)}})}let RA=!1;function M0(n){const e=pi.M(Rt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RA||(RA=!0,setTimeout(()=>{throw r},0)),r}}return n}const Mh="IndexBackfiller";class $L{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){le(Mh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();le(Mh,`Documents written: ${t}`)}catch(t){ba(t)?le(Mh,"Ignoring IndexedDB error during index backfill: ",t):await Ta(t)}await this.ie(6e4)})}}class KL{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let s=t,o=!0;return q.doWhile(()=>o===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return le(Mh,`Processing collection: ${u}`),this._e(e,u,s).next(h=>{s-=h,r.add(u)});o=!1})).next(()=>t-s)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(s,o)).next(h=>(le(Mh,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((s,o)=>{const u=q1(o);V0(u,r)>0&&(r=u)}),new cr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Gn.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function Dd(n){return n==null}function id(n){return n===0&&1/n==-1/0}function K1(n){return typeof n=="number"&&Number.isInteger(n)&&!id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="";function Pn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=CA(e)),e=QL(n.get(t),e);return CA(e)}function QL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case cp:t+="";break;default:t+=o}}return t}function CA(n){return n+cp+""}function hi(n){const e=n.length;if(ve(e>=2,64408,{path:n}),e===2)return ve(n.charAt(0)===cp&&n.charAt(1)==="",56145,{path:n}),Ue.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(cp,o);switch((u<0||u>t)&&ye(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;s.length===0?f=h:(s+=h,f=s,s=""),r.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:ye(61167,{path:n})}o=u+2}return new Ue(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="remoteDocuments",Nd="owner",Gl="owner",sd="mutationQueues",YL="userId",Vr="mutations",xA="batchId",Eo="userMutationsIndex",PA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,e){return[n,Pn(e)]}function Q1(n,e,t){return[n,Pn(e),t]}const WL={},Tu="documentMutations",hp="remoteDocumentsV14",XL=["prefixPath","collectionGroup","readTime","documentId"],Gm="documentKeyIndex",JL=["prefixPath","collectionGroup","documentId"],Y1="collectionGroupIndex",ZL=["collectionGroup","readTime","prefixPath","documentId"],ad="remoteDocumentGlobal",Iv="remoteDocumentGlobalKey",bu="targets",W1="queryTargetsIndex",e6=["canonicalId","targetId"],wu="targetDocuments",t6=["targetId","path"],L0="documentTargetsIndex",n6=["path","targetId"],dp="targetGlobalKey",So="targetGlobal",od="collectionParents",r6=["collectionId","parent"],Su="clientMetadata",i6="clientId",Wp="bundles",s6="bundleId",Xp="namedQueries",a6="name",U0="indexConfiguration",o6="indexId",Rv="collectionGroupIndex",l6="collectionGroup",Lh="indexState",u6=["indexId","uid"],X1="sequenceNumberIndex",c6=["uid","sequenceNumber"],Uh="indexEntries",h6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],J1="documentKeyIndex",d6=["indexId","uid","orderedDocumentKey"],Jp="documentOverlays",f6=["userId","collectionPath","documentId"],Cv="collectionPathOverlayIndex",m6=["userId","collectionPath","largestBatchId"],Z1="collectionGroupOverlayIndex",p6=["userId","collectionGroup","largestBatchId"],B0="globals",g6="name",eC=[sd,Vr,Tu,mo,bu,Nd,So,wu,Su,ad,od,Wp,Xp],y6=[...eC,Jp],tC=[sd,Vr,Tu,hp,bu,Nd,So,wu,Su,ad,od,Wp,Xp,Jp],nC=tC,z0=[...nC,U0,Lh,Uh],_6=z0,rC=[...z0,B0],v6=rC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends G1{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function rn(n,e){const t=pe(n);return pi.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=o??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new vn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NA(this.data.getIterator())}getIteratorFrom(e){return new NA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rt(this.comparator);return t.data=e,t}}class NA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $l(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new rt(Tt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sC("Invalid base64 string: "+o):o}}(e);return new kt(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const T6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(n){if(ve(!!n,39018),typeof n=="string"){let e=0;const t=T6.exec(n);if(ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function os(n){return typeof n=="string"?kt.fromBase64String(n):kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="server_timestamp",oC="__type__",lC="__previous_value__",uC="__local_write_time__";function Zp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oC])===null||t===void 0?void 0:t.stringValue)===aC}function eg(n){const e=n.mapValue.fields[lC];return Zp(e)?eg(e):e}function ld(n){const e=as(n.mapValue.fields[uC].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,r,s,o,u,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Pv="(default)";class da{constructor(e,t){this.projectId=e,this.database=t||Pv}static empty(){return new da("","")}get isDefaultDatabase(){return this.database===Pv}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__type__",cC="__max__",Js={mapValue:{fields:{__type__:{stringValue:cC}}}},j0="__vector__",Au="value",$m={nullValue:"NULL_VALUE"};function fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zp(n)?4:hC(n)?9007199254740991:tg(n)?10:11:ye(28295,{value:n})}function Ei(n,e){if(n===e)return!0;const t=fa(n);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ld(n).isEqual(ld(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=as(s.timestampValue),h=as(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return os(s.bytesValue).isEqual(os(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return vt(s.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return vt(s.integerValue)===vt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=vt(s.doubleValue),h=vt(o.doubleValue);return u===h?id(u)===id(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return vu(n.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(DA(u)!==DA(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ei(u[f],h[f])))return!1;return!0}(n,e);default:return ye(52216,{left:n})}}function ud(n,e){return(n.values||[]).find(t=>Ei(t,e))!==void 0}function ma(n,e){if(n===e)return 0;const t=fa(n),r=fa(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=vt(o.integerValue||o.doubleValue),f=vt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return OA(n.timestampValue,e.timestampValue);case 4:return OA(ld(n),ld(e));case 5:return Sv(n.stringValue,e.stringValue);case 6:return function(o,u){const h=os(o),f=os(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=Re(h[p],f[p]);if(y!==0)return y}return Re(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Re(vt(o.latitude),vt(u.latitude));return h!==0?h:Re(vt(o.longitude),vt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return kA(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,p,y;const v=o.fields||{},E=u.fields||{},I=(h=v[Au])===null||h===void 0?void 0:h.arrayValue,R=(f=E[Au])===null||f===void 0?void 0:f.arrayValue,C=Re(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:kA(I,R)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Js.mapValue&&u===Js.mapValue)return 0;if(o===Js.mapValue)return 1;if(u===Js.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const E=Sv(f[v],y[v]);if(E!==0)return E;const I=ma(h[f[v]],p[y[v]]);if(I!==0)return I}return Re(f.length,y.length)}(n.mapValue,e.mapValue);default:throw ye(23264,{Pe:t})}}function OA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=as(n),r=as(e),s=Re(t.seconds,r.seconds);return s!==0?s:Re(t.nanos,r.nanos)}function kA(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=ma(t[s],r[s]);if(o)return o}return Re(t.length,r.length)}function Iu(n){return Dv(n)}function Dv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=as(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return os(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Dv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Dv(t.fields[u])}`;return s+"}"}(n.mapValue):ye(61005,{value:n})}function Km(n){switch(fa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(n);return e?16+Km(e):16;case 5:return 2*n.stringValue.length;case 6:return os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Km(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return wa(r.fields,(o,u)=>{s+=o.length+Km(u)}),s}(n.mapValue);default:throw ye(13486,{value:n})}}function Co(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nv(n){return!!n&&"integerValue"in n}function cd(n){return!!n&&"arrayValue"in n}function VA(n){return!!n&&"nullValue"in n}function MA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qm(n){return!!n&&"mapValue"in n}function tg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||t===void 0?void 0:t.stringValue)===j0}function Bh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cC}const dC={mapValue:{fields:{[F0]:{stringValue:j0},[Au]:{arrayValue:{}}}}};function w6(n){return"nullValue"in n?$m:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Co(da.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?tg(n)?dC:{mapValue:{}}:ye(35942,{value:n})}function S6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Co(da.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?dC:"mapValue"in n?tg(n)?{mapValue:{}}:Js:ye(61959,{value:n})}function LA(n,e){const t=ma(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function UA(n,e){const t=ma(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(t)}setAll(e){let t=Tt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Bh(u):s.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Qm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){wa(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Tn(Bh(this.value))}}function fC(n){const e=[];return wa(n.fields,(t,r)=>{const s=new Tt([t]);if(Qm(r)){const o=fC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new pt(e,0,Ee.min(),Ee.min(),Ee.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,s){return new pt(e,1,t,Ee.min(),r,s,0)}static newNoDocument(e,t){return new pt(e,2,t,Ee.min(),Ee.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new pt(e,3,t,Ee.min(),Ee.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.position=e,this.inclusive=t}}function BA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(u.referenceValue),t.key):r=ma(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t="asc"){this.field=e,this.dir=t}}function A6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class Be extends mC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new I6(e,t,r):t==="array-contains"?new x6(e,r):t==="in"?new EC(e,r):t==="not-in"?new P6(e,r):t==="array-contains-any"?new D6(e,r):new Be(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new R6(e,r):new C6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ma(t,this.value)):t!==null&&fa(this.value)===fa(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends mC{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new nt(e,t)}matches(e){return Ru(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ru(n){return n.op==="and"}function Ov(n){return n.op==="or"}function q0(n){return pC(n)&&Ru(n)}function pC(n){for(const e of n.filters)if(e instanceof nt)return!1;return!0}function kv(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+Iu(n.value);if(q0(n))return n.filters.map(e=>kv(e)).join(",");{const e=n.filters.map(t=>kv(t)).join(",");return`${n.op}(${e})`}}function gC(n,e){return n instanceof Be?function(r,s){return s instanceof Be&&r.op===s.op&&r.field.isEqual(s.field)&&Ei(r.value,s.value)}(n,e):n instanceof nt?function(r,s){return s instanceof nt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,h)=>o&&gC(u,s.filters[h]),!0):!1}(n,e):void ye(19439)}function yC(n,e){const t=n.filters.concat(e);return nt.create(t,n.op)}function _C(n){return n instanceof Be?function(t){return`${t.field.canonicalString()} ${t.op} ${Iu(t.value)}`}(n):n instanceof nt?function(t){return t.op.toString()+" {"+t.getFilters().map(_C).join(" ,")+"}"}(n):"Filter"}class I6 extends Be{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class R6 extends Be{constructor(e,t){super(e,"in",t),this.keys=vC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class C6 extends Be{constructor(e,t){super(e,"not-in",t),this.keys=vC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>fe.fromName(r.referenceValue))}class x6 extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cd(t)&&ud(t.arrayValue,this.value)}}class EC extends Be{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ud(this.value.arrayValue,t)}}class P6 extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ud(this.value.arrayValue,t)}}class D6 extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ud(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Vv(n,e=null,t=[],r=[],s=null,o=null,u=null){return new N6(n,e,t,r,s,o,u)}function xo(n){const e=pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>kv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Iu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Iu(r)).join(",")),e.Ie=t}return e.Ie}function Od(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!A6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zA(n.startAt,e.startAt)&&zA(n.endAt,e.endAt)}function fp(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function mp(n,e){return n.filters.filter(t=>t instanceof Be&&t.field.isEqual(e))}function FA(n,e,t){let r=$m,s=!0;for(const o of mp(n,e)){let u=$m,h=!0;switch(o.op){case"<":case"<=":u=w6(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=$m}LA({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];LA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function jA(n,e,t){let r=Js,s=!0;for(const o of mp(n,e)){let u=Js,h=!0;switch(o.op){case">=":case">":u=S6(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Js}UA({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];UA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TC(n,e,t,r,s,o,u,h){return new hs(n,e,t,r,s,o,u,h)}function $u(n){return new hs(n)}function qA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function H0(n){return n.collectionGroup!==null}function lu(n){const e=pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new rt(Tt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new hd(o,r))}),t.has(Tt.keyField().canonicalString())||e.Ee.push(new hd(Tt.keyField(),r))}return e.Ee}function Bn(n){const e=pe(n);return e.de||(e.de=O6(e,lu(n))),e.de}function O6(n,e){if(n.limitType==="F")return Vv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new hd(s.field,o)});const t=n.endAt?new pa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pa(n.startAt.position,n.startAt.inclusive):null;return Vv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mv(n,e){const t=n.filters.concat([e]);return new hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pp(n,e,t){return new hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kd(n,e){return Od(Bn(n),Bn(e))&&n.limitType===e.limitType}function bC(n){return`${xo(Bn(n))}|lt:${n.limitType}`}function eu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>_C(s)).join(", ")}]`),Dd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Iu(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Iu(s)).join(",")),`Target(${r})`}(Bn(n))}; limitType=${n.limitType})`}function Vd(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of lu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=BA(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,lu(r),s)||r.endAt&&!function(u,h,f){const p=BA(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,lu(r),s))}(n,e)}function wC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SC(n){return(e,t)=>{let r=!1;for(const s of lu(n)){const o=k6(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function k6(n,e,t){const r=n.field.isKeyField()?fe.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),p=h.data.field(o);return f!==null&&p!==null?ma(f,p):ye(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return iC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new mt(fe.comparator);function Kn(){return V6}const AC=new mt(fe.comparator);function xh(...n){let e=AC;for(const t of n)e=e.insert(t.key,t);return e}function IC(n){let e=AC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function di(){return zh()}function RC(){return zh()}function zh(){return new ds(n=>n.toString(),(n,e)=>n.isEqual(e))}const M6=new mt(fe.comparator),L6=new rt(fe.comparator);function Pe(...n){let e=L6;for(const t of n)e=e.add(t);return e}const U6=new rt(Re);function G0(){return U6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function CC(n){return{integerValue:""+n}}function xC(n,e){return K1(e)?CC(e):$0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this._=void 0}}function B6(n,e,t){return n instanceof Cu?function(s,o){const u={fields:{[oC]:{stringValue:aC},[uC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Zp(o)&&(o=eg(o)),o&&(u.fields[lC]=o),{mapValue:u}}(t,e):n instanceof Po?DC(n,e):n instanceof Do?NC(n,e):function(s,o){const u=PC(s,o),h=HA(u)+HA(s.Re);return Nv(u)&&Nv(s.Re)?CC(h):$0(s.serializer,h)}(n,e)}function z6(n,e,t){return n instanceof Po?DC(n,e):n instanceof Do?NC(n,e):t}function PC(n,e){return n instanceof xu?function(r){return Nv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Cu extends ng{}class Po extends ng{constructor(e){super(),this.elements=e}}function DC(n,e){const t=OC(e);for(const r of n.elements)t.some(s=>Ei(s,r))||t.push(r);return{arrayValue:{values:t}}}class Do extends ng{constructor(e){super(),this.elements=e}}function NC(n,e){let t=OC(e);for(const r of n.elements)t=t.filter(s=>!Ei(s,r));return{arrayValue:{values:t}}}class xu extends ng{constructor(e,t){super(),this.serializer=e,this.Re=t}}function HA(n){return vt(n.integerValue||n.doubleValue)}function OC(n){return cd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.field=e,this.transform=t}}function F6(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Po&&s instanceof Po||r instanceof Do&&s instanceof Do?vu(r.elements,s.elements,Ei):r instanceof xu&&s instanceof xu?Ei(r.Re,s.Re):r instanceof Cu&&s instanceof Cu}(n.transform,e.transform)}class j6{constructor(e,t){this.version=e,this.transformResults=t}}class bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ym(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rg{}function kC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qu(n.key,bt.none()):new Ku(n.key,n.data,bt.none());{const t=n.data,r=Tn.empty();let s=new rt(Tt.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new fs(n.key,r,new $n(s.toArray()),bt.none())}}function q6(n,e,t){n instanceof Ku?function(s,o,u){const h=s.value.clone(),f=$A(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof fs?function(s,o,u){if(!Ym(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=$A(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(VC(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fh(n,e,t,r){return n instanceof Ku?function(o,u,h,f){if(!Ym(o.precondition,u))return h;const p=o.value.clone(),y=KA(o.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof fs?function(o,u,h,f){if(!Ym(o.precondition,u))return h;const p=KA(o.fieldTransforms,f,u),y=u.data;return y.setAll(VC(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,h){return Ym(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function H6(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=PC(r.transform,s||null);o!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,o))}return t||null}function GA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vu(r,s,(o,u)=>F6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ku extends rg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends rg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $A(n,e,t){const r=new Map;ve(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,z6(u,h,t[s]))}return r}function KA(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,B6(o,u,e))}return r}class Qu extends rg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K0 extends rg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&q6(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RC();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=kC(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,(t,r)=>GA(t,r))&&vu(this.baseMutations,e.baseMutations,(t,r)=>GA(t,r))}}class Y0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return M6}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new Y0(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,qe;function MC(n){switch(n){case Q.OK:return ye(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function LC(n){if(n===void 0)return zt("GRPC error has no .code"),Q.UNKNOWN;switch(n){case Qt.OK:return Q.OK;case Qt.CANCELLED:return Q.CANCELLED;case Qt.UNKNOWN:return Q.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Q.INTERNAL;case Qt.UNAVAILABLE:return Q.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Q.NOT_FOUND;case Qt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Qt.ABORTED:return Q.ABORTED;case Qt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Qt.DATA_LOSS:return Q.DATA_LOSS;default:return ye(39323,{code:n})}}(qe=Qt||(Qt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new na([4294967295,4294967295],0);function QA(n){const e=k0().encode(n),t=new N1;return t.update(e),new Uint8Array(t.digest())}function YA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new na([t,r],0),new na([s,o],0)]}class X0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ph(`Invalid padding: ${t}`);if(r<0)throw new Ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ph(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ph(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=na.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(na.fromNumber(r)));return s.compare($6)===1&&(s=new na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=QA(e),[r,s]=YA(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new X0(o,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=QA(e),[r,s]=YA(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ld(Ee.min(),s,new mt(Re),Kn(),Pe())}}class Ud{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ud(r,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class UC{constructor(e,t){this.targetId=e,this.Ce=t}}class BC{constructor(e,t,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class WA{constructor(){this.Fe=0,this.Me=XA(),this.xe=kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),t=Pe(),r=Pe();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ye(38017,{changeType:o})}}),new Ud(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=XA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class K6{constructor(e){this.ze=e,this.je=new Map,this.He=Kn(),this.Je=xm(),this.Ye=xm(),this.Ze=new mt(Re)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(fp(o))if(r===0){const u=new fe(o.path);this.tt(t,u,pt.newNoDocument(u,Ee.min()))}else ve(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=os(r).toUint8Array()}catch(f){if(f instanceof sC)return vi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new X0(u,s,o)}catch(f){return vi(f instanceof Ph?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&fp(h.target)){const f=new fe(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,pt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Pe();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new Ld(e,t,this.Ze,this.He,r);return this.He=Kn(),this.Je=xm(),this.Ye=xm(),this.Ze=new mt(Re),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new WA,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new rt(Re),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new rt(Re),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new WA),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function xm(){return new mt(fe.comparator)}function XA(){return new mt(fe.comparator)}const Q6={asc:"ASCENDING",desc:"DESCENDING"},Y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W6={and:"AND",or:"OR"};class X6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lv(n,e){return n.useProto3Json||Dd(e)?e:{value:e}}function Pu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function J6(n,e){return Pu(n,e.toTimestamp())}function Ft(n){return ve(!!n,49232),Ee.fromTimestamp(function(t){const r=as(t);return new wt(r.seconds,r.nanos)}(n))}function J0(n,e){return Uv(n,e).canonicalString()}function Uv(n,e){const t=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function FC(n){const e=Ue.fromString(n);return ve(XC(e),10190,{key:e.toString()}),e}function dd(n,e){return J0(n.databaseId,e.path)}function gi(n,e){const t=FC(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(HC(t))}function jC(n,e){return J0(n.databaseId,e)}function qC(n){const e=FC(n);return e.length===4?Ue.emptyPath():HC(e)}function Bv(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HC(n){return ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function JA(n,e,t){return{name:dd(n,e),fields:t.value.mapValue.fields}}function GC(n,e,t){const r=gi(n,e.name),s=Ft(e.updateTime),o=e.createTime?Ft(e.createTime):Ee.min(),u=new Tn({mapValue:{fields:e.fields}}),h=pt.newFoundDocument(r,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Z6(n,e){return"found"in e?function(r,s){ve(!!s.found,43571),s.found.name,s.found.updateTime;const o=gi(r,s.found.name),u=Ft(s.found.updateTime),h=s.found.createTime?Ft(s.found.createTime):Ee.min(),f=new Tn({mapValue:{fields:s.found.fields}});return pt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,s){ve(!!s.missing,3894),ve(!!s.readTime,22933);const o=gi(r,s.missing),u=Ft(s.readTime);return pt.newNoDocument(o,u)}(n,e):ye(7234,{result:e})}function e3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(ve(y===void 0||typeof y=="string",58123),kt.fromBase64String(y||"")):(ve(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),kt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?Q.UNKNOWN:LC(p.code);return new oe(y,p.message||"")}(u);t=new BC(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gi(n,r.document.name),o=Ft(r.document.updateTime),u=r.document.createTime?Ft(r.document.createTime):Ee.min(),h=new Tn({mapValue:{fields:r.document.fields}}),f=pt.newFoundDocument(s,o,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Wm(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gi(n,r.document),o=r.readTime?Ft(r.readTime):Ee.min(),u=pt.newNoDocument(s,o),h=r.removedTargetIds||[];t=new Wm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gi(n,r.document),o=r.removedTargetIds||[];t=new Wm([],o,s,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new G6(s,o),h=r.targetId;t=new UC(h,u)}}return t}function fd(n,e){let t;if(e instanceof Ku)t={update:JA(n,e.key,e.value)};else if(e instanceof Qu)t={delete:dd(n,e.key)};else if(e instanceof fs)t={update:JA(n,e.key,e.data),updateMask:a3(e.fieldMask)};else{if(!(e instanceof K0))return ye(16599,{ft:e.type});t={verify:dd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Po)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Do)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xu)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw ye(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:J6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)}(n,e.precondition)),t}function zv(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?bt.updateTime(Ft(o.updateTime)):o.exists!==void 0?bt.exists(o.exists):bt.none()}(e.currentDocument):bt.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,h){let f=null;if("setToServerValue"in h)ve(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new Cu;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new Po(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new Do(y)}else"increment"in h?f=new xu(u,h.increment):ye(16584,{proto:h});const p=Tt.fromServerFormat(h.fieldPath);return new Md(p,f)}(n,s)):[];if(e.update){e.update.name;const s=gi(n,e.update.name),o=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const p=f.fieldPaths||[];return new $n(p.map(y=>Tt.fromServerFormat(y)))}(e.updateMask);return new fs(s,o,u,t,r)}return new Ku(s,o,t,r)}if(e.delete){const s=gi(n,e.delete);return new Qu(s,t)}if(e.verify){const s=gi(n,e.verify);return new K0(s,t)}return ye(1463,{proto:e})}function t3(n,e){return n&&n.length>0?(ve(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?Ft(s.updateTime):Ft(o);return u.isEqual(Ee.min())&&(u=Ft(o)),new j6(u,s.transformResults||[])}(t,e))):[]}function $C(n,e){return{documents:[jC(n,e.path)]}}function KC(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jC(n,s);const o=function(p){if(p.length!==0)return WC(nt.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:tu(E.field),direction:r3(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Lv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function QC(n){let e=qC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ve(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(v){const E=YC(v);return E instanceof nt&&q0(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(E=>function(R){return new hd(nu(R.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(v){let E;return E=typeof v=="object"?v.value:v,Dd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,I=v.values||[];return new pa(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,I=v.values||[];return new pa(I,E)}(t.endAt)),TC(e,s,u,o,h,"F",f,p)}function n3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nu(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=nu(t.unaryFilter.field);return Be.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nu(t.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nu(t.unaryFilter.field);return Be.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(n):n.fieldFilter!==void 0?function(t){return Be.create(nu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nt.create(t.compositeFilter.filters.map(r=>YC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(t.compositeFilter.op))}(n):ye(30097,{filter:n})}function r3(n){return Q6[n]}function i3(n){return Y6[n]}function s3(n){return W6[n]}function tu(n){return{fieldPath:n.canonicalString()}}function nu(n){return Tt.fromServerFormat(n.fieldPath)}function WC(n){return n instanceof Be?function(t){if(t.op==="=="){if(MA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NAN"}};if(VA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(MA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NAN"}};if(VA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(t.field),op:i3(t.op),value:t.value}}}(n):n instanceof nt?function(t){const r=t.getFilters().map(s=>WC(s));return r.length===1?r[0]:{compositeFilter:{op:s3(t.op),filters:r}}}(n):ye(54877,{filter:n})}function a3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,r,s,o=Ee.min(),u=Ee.min(),h=kt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.wt=e}}function o3(n,e){let t;if(e.document)t=GC(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=fe.fromSegments(e.noDocument.path),s=Oo(e.noDocument.readTime);t=pt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const r=fe.fromSegments(e.unknownDocument.path),s=Oo(e.unknownDocument.version);t=pt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const o=new wt(s[0],s[1]);return Ee.fromTimestamp(o)}(e.readTime)),t}function ZA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:dd(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Pu(o,u.version.toTimestamp()),createTime:Pu(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:No(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:No(e.version)}}return r}function gp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function No(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oo(n){const e=new wt(n.seconds,n.nanoseconds);return Ee.fromTimestamp(e)}function go(n,e){const t=(e.baseMutations||[]).map(o=>zv(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>zv(n.wt,o)),s=wt.fromMillis(e.localWriteTimeMs);return new Q0(e.batchId,s,t,r)}function Dh(n){const e=Oo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Oo(n.lastLimboFreeSnapshotVersion):Ee.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return ve(u===1,1966,{count:u}),Bn($u(qC(o.documents[0])))}(n.query):function(o){return Bn(QC(o))}(n.query),new Ji(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,kt.fromBase64String(n.resumeToken))}function ZC(n,e){const t=No(e.snapshotVersion),r=No(e.lastLimboFreeSnapshotVersion);let s;s=fp(e.target)?$C(n.wt,e.target):KC(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Z0(n){const e=QC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pp(e,e.limit,"L"):e}function W_(n,e){return new W0(e.largestBatchId,zv(n.wt,e.overlayMutation))}function eI(n,e){const t=e.path.lastSegment();return[n,Pn(e.path.popLast()),t]}function tI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:No(r.readTime),documentKey:Pn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{getBundleMetadata(e,t){return nI(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Oo(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return nI(e).put(function(s){return{bundleId:s.id,createTime:No(Ft(s.createTime)),version:s.version}}(t))}getNamedQuery(e,t){return rI(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Z0(o.bundledQuery),readTime:Oo(o.readTime)}}(r)})}saveNamedQuery(e,t){return rI(e).put(function(s){return{name:s.name,readTime:No(Ft(s.readTime)),bundledQuery:s.bundledQuery}}(t))}}function nI(n){return rn(n,Wp)}function rI(n){return rn(n,Xp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new ig(e,r)}getOverlay(e,t){return gh(e).get(eI(this.userId,t)).next(r=>r?W_(this.serializer,r):null)}getOverlays(e,t){const r=di();return q.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((o,u)=>{const h=new W0(t,u);s.push(this.bt(e,h))}),q.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(u=>s.add(Pn(u.getCollectionPath())));const o=[];return s.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(gh(e).X(Cv,h))}),q.waitFor(o)}getOverlaysForCollection(e,t,r){const s=di(),o=Pn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return gh(e).J(Cv,u).next(h=>{for(const f of h){const p=W_(this.serializer,f);s.set(p.getKey(),p)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const o=di();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gh(e).te({index:Z1,range:h},(f,p,y)=>{const v=W_(this.serializer,p);o.size()<s||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):y.done()}).next(()=>o)}bt(e,t){return gh(e).put(function(s,o,u){const[h,f,p]=eI(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:fd(s.wt,u.mutation)}}(this.serializer,this.userId,t))}}function gh(n){return rn(n,Jp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{Dt(e){return rn(e,B0)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?kt.fromUint8Array(r):kt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(vt(e.integerValue));else if("doubleValue"in e){const r=vt(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),id(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=as(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(os(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?hC(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):tg(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ye(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const s of Object.keys(r))this.Nt(s,t),this.Ct(r[s],t)}qt(e,t){var r,s;const o=e.fields||{};this.Mt(t,53);const u=Au,h=((s=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Mt(t,15),t.xt(vt(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const s of r)this.Ct(s,t)}kt(e,t){this.Mt(t,37),fe.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}yo.Wt=new yo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=255;function c3(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function iI(n){const e=64-function(r){let s=0;for(let o=0;o<8;++o){const u=c3(255&r[o]);if(s+=u,u!==8)break}return s}(n);return Math.ceil(e/8)}class h3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const s=t.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const t=this.tn(e),r=iI(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}rn(e){const t=this.tn(e),r=iI(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}sn(){this._n(Kl),this._n(255)}an(){this.un(Kl),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Kl?(this._n(Kl),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Kl?(this.un(Kl),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class d3{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class f3{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class yh{constructor(){this.ln=new h3,this.hn=new d3(this.ln),this.Pn=new f3(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,r,s){this.In=e,this.En=t,this.dn=r,this.An=s}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new _o(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Xm(this.dn),directionalValue:Xm(this.An),orderedDocumentKey:Xm(t),documentKey:r.path.toArray()}}mn(e,t,r){const s=this.Vn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function $s(n,e){let t=n.In-e.In;return t!==0?t:(t=sI(n.dn,e.dn),t!==0?t:(t=sI(n.An,e.An),t!==0?t:fe.comparator(n.En,e.En)))}function sI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Xm(n){return y1()?function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r}(n):n}function aI(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(n)}class oI{constructor(e){this.fn=new rt((t,r)=>Tt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(ve(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=Av(e);if(t!==void 0&&!this.Sn(t))return!1;const r=fo(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new rt(Tt.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new qm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new qm(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new qm(r.field,r.dir==="asc"?0:1)));return new up(up.UNKNOWN_ID,this.collectionId,t,rd.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n){var e,t;if(ve(n instanceof Be||n instanceof nt,20012),n instanceof Be){if(n instanceof EC){const s=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Be.create(n.field,"==",o)))||[];return nt.create(s,"or")}return n}const r=n.filters.map(s=>ex(s));return nt.create(r,n.op)}function m3(n){if(n.getFilters().length===0)return[];const e=qv(ex(n));return ve(tx(e),7391),Fv(e)||jv(e)?[e]:e.getFilters()}function Fv(n){return n instanceof Be}function jv(n){return n instanceof nt&&q0(n)}function tx(n){return Fv(n)||jv(n)||function(t){if(t instanceof nt&&Ov(t)){for(const r of t.getFilters())if(!Fv(r)&&!jv(r))return!1;return!0}return!1}(n)}function qv(n){if(ve(n instanceof Be||n instanceof nt,34018),n instanceof Be)return n;if(n.filters.length===1)return qv(n.filters[0]);const e=n.filters.map(r=>qv(r));let t=nt.create(e,n.op);return t=yp(t),tx(t)?t:(ve(t instanceof nt,64498),ve(Ru(t),40251),ve(t.filters.length>1,57927),t.filters.reduce((r,s)=>eE(r,s)))}function eE(n,e){let t;return ve(n instanceof Be||n instanceof nt,38388),ve(e instanceof Be||e instanceof nt,25473),t=n instanceof Be?e instanceof Be?function(s,o){return nt.create([s,o],"and")}(n,e):lI(n,e):e instanceof Be?lI(e,n):function(s,o){if(ve(s.filters.length>0&&o.filters.length>0,48005),Ru(s)&&Ru(o))return yC(s,o.getFilters());const u=Ov(s)?s:o,h=Ov(s)?o:s,f=u.filters.map(p=>eE(p,h));return nt.create(f,"or")}(n,e),yp(t)}function lI(n,e){if(Ru(e))return yC(e,n.getFilters());{const t=e.filters.map(r=>eE(n,r));return nt.create(t,"or")}}function yp(n){if(ve(n instanceof Be||n instanceof nt,11850),n instanceof Be)return n;const e=n.getFilters();if(e.length===1)return yp(e[0]);if(pC(n))return n;const t=e.map(s=>yp(s)),r=[];return t.forEach(s=>{s instanceof Be?r.push(s):s instanceof nt&&(s.op===n.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:nt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.Cn=new tE}addToCollectionParentIndex(e,t){return this.Cn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(cr.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class tE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new rt(Ue.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="IndexedDbIndexManager",Pm=new Uint8Array(0);class g3{constructor(e,t){this.databaseId=t,this.Fn=new tE,this.Mn=new ds(r=>xo(r),(r,s)=>Od(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:Pn(s)};return cI(e).put(o)}return q.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[F1(t),""],!1,!0);return cI(e).J(s).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(hi(u.parent))}return r})}addFieldIndex(e,t){const r=_h(e),s=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=Yl(e);return o.next(h=>{u.put(tI(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=_h(e),s=Yl(e),o=Ql(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=_h(e),r=Ql(e),s=Yl(e);return t.X().next(()=>r.X()).next(()=>s.X())}createTargetIndexes(e,t){return q.forEach(this.xn(t),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const o=new oI(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Ql(e);let s=!0;const o=new Map;return q.forEach(this.xn(t),u=>this.On(e,u).next(h=>{s&&(s=!!h),o.set(u,h)})).next(()=>{if(s){let u=Pe();const h=[];return q.forEach(o,(f,p)=>{le(uI,`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(te=>`${te.fieldPath}:${te.kind}`).join(",")}`}(f)} to execute ${xo(t)}`);const y=function(F,te){const ne=Av(te);if(ne===void 0)return null;for(const ce of mp(F,ne.fieldPath))switch(ce.op){case"array-contains-any":return ce.value.arrayValue.values||[];case"array-contains":return[ce.value]}return null}(p,f),v=function(F,te){const ne=new Map;for(const ce of fo(te))for(const P of mp(F,ce.fieldPath))switch(P.op){case"==":case"in":ne.set(ce.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return ne.set(ce.fieldPath.canonicalString(),P.value),Array.from(ne.values())}return null}(p,f),E=function(F,te){const ne=[];let ce=!0;for(const P of fo(te)){const x=P.kind===0?FA(F,P.fieldPath,F.startAt):jA(F,P.fieldPath,F.startAt);ne.push(x.value),ce&&(ce=x.inclusive)}return new pa(ne,ce)}(p,f),I=function(F,te){const ne=[];let ce=!0;for(const P of fo(te)){const x=P.kind===0?jA(F,P.fieldPath,F.endAt):FA(F,P.fieldPath,F.endAt);ne.push(x.value),ce&&(ce=x.inclusive)}return new pa(ne,ce)}(p,f),R=this.Nn(f,p,E),C=this.Nn(f,p,I),V=this.Bn(f,p,v),B=this.Ln(f.indexId,y,R,E.inclusive,C,I.inclusive,V);return q.forEach(B,X=>r.Z(X,t.limit).next(F=>{F.forEach(te=>{const ne=fe.fromSegments(te.documentKey);u.has(ne)||(u=u.add(ne),h.push(ne))})}))}).next(()=>h)}return q.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=m3(nt.create(e.filters,"and")).map(r=>Vv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,s,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),p=f/(t!=null?t.length:1),y=[];for(let v=0;v<f;++v){const E=t?this.kn(t[v/p]):Pm,I=this.qn(e,E,r[v%p],s),R=this.Qn(e,E,o[v%p],u),C=h.map(V=>this.qn(e,E,V,!0));y.push(...this.createRange(I,R,C))}return y}qn(e,t,r,s){const o=new _o(e,fe.empty(),t,r);return s?o:o.Rn()}Qn(e,t,r,s){const o=new _o(e,fe.empty(),t,r);return s?o.Rn():o}On(e,t){const r=new oI(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const s=this.xn(t);return q.forEach(s,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let p=new rt(Tt.comparator),y=!1;for(const v of f.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of f.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&s.length>1&&r===2?1:r)}$n(e,t){const r=new yh;for(const s of fo(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.Tn(s.kind);yo.Wt.vt(o,u)}return r.cn()}kn(e){const t=new yh;return yo.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new yh;return yo.Wt.vt(Co(this.databaseId,t),r.Tn(function(o){const u=fo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let s=[];s.push(new yh);let o=0;for(const u of fo(e)){const h=r[o++];for(const f of s)if(this.Kn(t,u.fieldPath)&&cd(h))s=this.Wn(s,u,h);else{const p=f.Tn(u.kind);yo.Wt.vt(h,p)}}return this.Gn(s)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of s){const f=new yh;f.seed(h.cn()),yo.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof Be&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=_h(e),s=Yl(e);return(t?r.J(Rv,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return q.forEach(o,h=>s.get([h.indexId,this.uid]).next(f=>{u.push(function(y,v){const E=v?new rd(v.sequenceNumber,new cr(Oo(v.readTime),new fe(hi(v.documentKey)),v.largestBatchId)):rd.empty(),I=y.fields.map(([R,C])=>new qm(Tt.fromServerFormat(R),C));return new up(y.indexId,y.collectionGroup,I,E)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Re(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=_h(e),o=Yl(e);return this.zn(e).next(u=>s.J(Rv,IDBKeyRange.bound(t,t)).next(h=>q.forEach(h,f=>o.put(tI(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return q.forEach(t,(s,o)=>{const u=r.get(s.collectionGroup);return(u?q.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(h=>(r.set(s.collectionGroup,h),q.forEach(h,f=>this.jn(e,s,f).next(p=>{const y=this.Hn(o,f);return p.isEqual(y)?q.resolve():this.Jn(e,o,f,p,y)}))))})}Yn(e,t,r,s){return Ql(e).put(s.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,s){return Ql(e).delete(s.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const s=Ql(e);let o=new rt($s);return s.te({index:J1,range:IDBKeyRange.only([r.indexId,this.uid,Xm(this.Un(r,t))])},(u,h)=>{o=o.add(new _o(r.indexId,t,aI(h.arrayValue),aI(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new rt($s);const s=this.$n(t,e);if(s==null)return r;const o=Av(t);if(o!=null){const u=e.data.field(o.fieldPath);if(cd(u))for(const h of u.arrayValue.values||[])r=r.add(new _o(t.indexId,e.key,this.kn(h),s))}else r=r.add(new _o(t.indexId,e.key,Pm,s));return r}Jn(e,t,r,s,o){le(uI,"Updating index entries for document '%s'",t.key);const u=[];return function(f,p,y,v,E){const I=f.getIterator(),R=p.getIterator();let C=$l(I),V=$l(R);for(;C||V;){let B=!1,X=!1;if(C&&V){const F=y(C,V);F<0?X=!0:F>0&&(B=!0)}else C!=null?X=!0:B=!0;B?(v(V),V=$l(R)):X?(E(C),C=$l(I)):(C=$l(I),V=$l(R))}}(s,o,$s,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),q.waitFor(u)}zn(e){let t=1;return Yl(e).te({index:X1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,o)=>{o.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>$s(u,h)).filter((u,h,f)=>!h||$s(u,f[h-1])!==0);const s=[];s.push(e);for(const u of r){const h=$s(u,e),f=$s(u,t);if(h===0)s[0]=e.Rn();else if(h>0&&f<0)s.push(u),s.push(u.Rn());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Xn(s[u],s[u+1]))return[];const h=s[u].mn(this.uid,Pm,fe.empty()),f=s[u+1].mn(this.uid,Pm,fe.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return $s(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hI)}getMinOffset(e,t){return q.mapArray(this.xn(t),r=>this.On(e,r).next(s=>s||ye(44426))).next(hI)}}function cI(n){return rn(n,od)}function Ql(n){return rn(n,Uh)}function _h(n){return rn(n,U0)}function Yl(n){return rn(n,Lh)}function hI(n){ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;V0(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new cr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nx=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n,e,t){const r=n.store(Vr),s=n.store(Tu),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(y,v,E)=>(h++,E.delete()));o.push(f.next(()=>{ve(h===1,47070,{batchId:t.batchId})}));const p=[];for(const y of t.mutations){const v=Q1(e,y.key.path,t.batchId);o.push(s.delete(v)),p.push(y.key)}return q.waitFor(o).next(()=>p)}function _p(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(nx,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class sg{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.er={}}static St(e,t,r,s){ve(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new sg(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ks(e).te({index:Eo,range:r},(s,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const o=ru(e),u=Ks(e);return u.add({}).next(h=>{ve(typeof h=="number",49019);const f=new Q0(h,t,r,s),p=function(I,R,C){const V=C.baseMutations.map(X=>fd(I.wt,X)),B=C.mutations.map(X=>fd(I.wt,X));return{userId:R,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:V,mutations:B}}(this.serializer,this.userId,f),y=[];let v=new rt((E,I)=>Re(E.canonicalString(),I.canonicalString()));for(const E of s){const I=Q1(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(o.put(I,WL))}return v.forEach(E=>{y.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),q.waitFor(y).next(()=>f)})}lookupMutationBatch(e,t){return Ks(e).get(t).next(r=>r?(ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),go(this.serializer,r)):null)}tr(e,t){return this.er[t]?q.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.er[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ks(e).te({index:Eo,range:s},(u,h,f)=>{h.userId===this.userId&&(ve(h.batchId>=r,47524,{nr:r}),o=go(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ra;return Ks(e).te({index:Eo,range:t,reverse:!0},(s,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ra],[this.userId,Number.POSITIVE_INFINITY]);return Ks(e).J(Eo,t).next(r=>r.map(s=>go(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hm(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return ru(e).te({range:s},(u,h,f)=>{const[p,y,v]=u,E=hi(y);if(p===this.userId&&t.path.isEqual(E))return Ks(e).get(v).next(I=>{if(!I)throw ye(61480,{rr:u,batchId:v});ve(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),o.push(go(this.serializer,I))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(Re);const s=[];return t.forEach(o=>{const u=Hm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=ru(e).te({range:h},(p,y,v)=>{const[E,I,R]=p,C=hi(I);E===this.userId&&o.path.isEqual(C)?r=r.add(R):v.done()});s.push(f)}),q.waitFor(s).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=Hm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new rt(Re);return ru(e).te({range:u},(f,p,y)=>{const[v,E,I]=f,R=hi(E);v===this.userId&&r.isPrefixOf(R)?R.length===s&&(h=h.add(I)):y.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],s=[];return t.forEach(o=>{s.push(Ks(e).get(o).next(u=>{if(u===null)throw ye(35274,{batchId:o});ve(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(go(this.serializer,u))}))}),q.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return rx(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),q.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return q.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),s=[];return ru(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=hi(o[1]);s.push(f)}else h.done()}).next(()=>{ve(s.length===0,56720,{_r:s.map(o=>o.canonicalString())})})})}containsKey(e,t){return ix(e,this.userId,t)}ar(e){return sx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:ra,lastStreamToken:""})}}function ix(n,e,t){const r=Hm(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return ru(n).te({range:o,ee:!0},(h,f,p)=>{const[y,v,E]=h;y===e&&v===s&&(u=!0),p.done()}).next(()=>u)}function Ks(n){return rn(n,Vr)}function ru(n){return rn(n,Tu)}function sx(n){return rn(n,sd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ko(0)}static lr(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new ko(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>Ee.fromTimestamp(new wt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Pr(e,s)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wl(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(ve(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let s=0;const o=[];return Wl(e).te((u,h)=>{const f=Dh(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))}).next(()=>q.waitFor(o)).next(()=>s)}forEachTarget(e,t){return Wl(e).te((r,s)=>{const o=Dh(s);t(o)})}hr(e){return fI(e).get(dp).next(t=>(ve(t!==null,2888),t))}Pr(e,t){return fI(e).put(dp,t)}Tr(e,t){return Wl(e).put(ZC(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=xo(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Wl(e).te({range:s,index:W1},(u,h,f)=>{const p=Dh(h);Od(t,p.target)&&(o=p,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const s=[],o=Xs(e);return t.forEach(u=>{const h=Pn(u.path);s.push(o.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))}),q.waitFor(s)}removeMatchingKeys(e,t,r){const s=Xs(e);return q.forEach(t,o=>{const u=Pn(o.path);return q.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Xs(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Xs(e);let o=Pe();return s.te({range:r,ee:!0},(u,h,f)=>{const p=hi(u[1]),y=new fe(p);o=o.add(y)}).next(()=>o)}containsKey(e,t){const r=Pn(t.path),s=IDBKeyRange.bound([r],[F1(r)],!1,!0);let o=0;return Xs(e).te({index:L0,ee:!0,range:s},([u,h],f,p)=>{u!==0&&(o++,p.done())}).next(()=>o>0)}Rt(e,t){return Wl(e).get(t).next(r=>r?Dh(r):null)}}function Wl(n){return rn(n,bu)}function fI(n){return rn(n,So)}function Xs(n){return rn(n,wu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="LruGarbageCollector",_3=1048576;function pI([n,e],[t,r]){const s=Re(n,t);return s===0?Re(e,r):s}class v3{constructor(e){this.Er=e,this.buffer=new rt(pI),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ax{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(mI,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ba(t)?le(mI,"Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.mr(3e5)})}}class E3{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return q.resolve(Gn.le);const r=new v3(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(dI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dI):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Zl()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function ox(n,e){return new E3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t){this.db=e,this.garbageCollector=ox(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,s)=>t(s))}addReference(e,t,r){return Dm(e,r)}removeReference(e,t,r){return Dm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Dm(e,t)}Dr(e,t){return function(s,o){let u=!1;return sx(s).ne(h=>ix(s,h,o).next(f=>(f&&(u=!0),q.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(p=>{if(!p)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ee.min()),Xs(e).delete(function(v){return[0,Pn(v.path)]}(u))))});s.push(f)}}).next(()=>q.waitFor(s)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Dm(e,t)}br(e,t){const r=Xs(e);let s,o=Gn.le;return r.te({index:L0},([u,h],{path:f,sequenceNumber:p})=>{u===0?(o!==Gn.le&&t(new fe(hi(s)),o),o=p,s=f):o=Gn.le}).next(()=>{o!==Gn.le&&t(new fe(hi(s)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dm(n,e){return Xs(n).put(function(r,s){return{targetId:0,path:Pn(r.path),sequenceNumber:s}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.changes=new ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return co(e).put(r)}removeEntry(e,t,r){return co(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],gp(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=pt.newInvalidDocument(t);return co(e).te({index:Gm,range:IDBKeyRange.only(vh(t))},(s,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:pt.newInvalidDocument(t)};return co(e).te({index:Gm,range:IDBKeyRange.only(vh(t))},(s,o)=>{r={document:this.Cr(t,o),size:_p(o)}}).next(()=>r)}getEntries(e,t){let r=Kn();return this.Mr(e,t,(s,o)=>{const u=this.Cr(s,o);r=r.insert(s,u)}).next(()=>r)}Or(e,t){let r=Kn(),s=new mt(fe.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),s=s.insert(o,_p(u))}).next(()=>({documents:r,Nr:s}))}Mr(e,t,r){if(t.isEmpty())return q.resolve();let s=new rt(_I);t.forEach(f=>s=s.add(f));const o=IDBKeyRange.bound(vh(s.first()),vh(s.last())),u=s.getIterator();let h=u.getNext();return co(e).te({index:Gm,range:o},(f,p,y)=>{const v=fe.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&_I(h,v)<0;)r(h,null),h=u.getNext();h&&h.isEqual(v)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?y.H(vh(h)):y.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),gp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return co(e).J(IDBKeyRange.bound(h,f,!0)).next(p=>{o==null||o.incrementDocumentReadCount(p.length);let y=Kn();for(const v of p){const E=this.Cr(fe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Vd(t,E)||s.has(E.key))&&(y=y.insert(E.key,E))}return y})}getAllFromCollectionGroup(e,t,r,s){let o=Kn();const u=yI(t,r),h=yI(t,cr.max());return co(e).te({index:Y1,range:IDBKeyRange.bound(u,h,!0)},(f,p,y)=>{const v=this.Cr(fe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(v.key,v),o.size===s&&y.done()}).next(()=>o)}newChangeBuffer(e){return new w3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gI(e).get(Iv).next(t=>(ve(!!t,20021),t))}vr(e,t){return gI(e).put(Iv,t)}Cr(e,t){if(t){const r=o3(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ee.min())))return r}return pt.newInvalidDocument(e)}}function ux(n){return new b3(n)}class w3 extends lx{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new ds(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new rt((o,u)=>Re(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=ZA(this.Br.serializer,u);s=s.add(o.path.popLast());const p=_p(f);r+=p-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=ZA(this.Br.serializer,u.convertToNoDocument(Ee.min()));t.push(this.Br.addEntry(e,o,f))}}),s.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),q.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:s})=>(s.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function gI(n){return rn(n,ad)}function co(n){return rn(n,hp)}function vh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yI(n,e){const t=e.documentKey.path.toArray();return[n,gp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _I(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=Re(t[o],r[o]),s)return s;return s=Re(t.length,r.length),s||(s=Re(t[t.length-2],r[r.length-2]),s||Re(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Fh(r.mutation,s,$n.empty(),wt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){const s=di();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=xh();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=di();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let o=Kn();const u=zh(),h=function(){return zh()}();return t.forEach((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof fs)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Fh(y.mutation,p,y.mutation.getFieldMask(),wt.now())):u.set(p.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var v;return h.set(p,new S3(y,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=zh();let s=new mt((u,h)=>u-h),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||$n.empty();y=h.applyToLocalView(p,y),r.set(f,y);const v=(s.get(h.batchId)||Pe()).add(f);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,v=RC();y.forEach(E=>{if(!o.has(E)){const I=kC(t.get(E),r.get(E));I!==null&&v.set(E,I),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return fe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):q.resolve(di());let h=Eu,f=o;return u.next(p=>q.forEach(p,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?q.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,Pe())).next(y=>({batchId:h,changes:IC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(r=>{let s=xh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=xh();return this.indexManager.getCollectionParents(e,o).next(h=>q.forEach(h,f=>{const p=function(v,E){return new hs(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pt.newInvalidDocument(y)))});let h=xh();return u.forEach((f,p)=>{const y=o.get(f);y!==void 0&&Fh(y.mutation,p,$n.empty(),wt.now()),Vd(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return q.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ft(s.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:Z0(s.bundledQuery),readTime:Ft(s.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.overlays=new mt(fe.comparator),this.Qr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=di();return q.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.bt(e,t,o)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const s=di(),o=t.length+1,u=new fe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return q.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new mt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=di(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=di(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=s)););return q.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new W0(t,r));let o=this.Qr.get(t);o===void 0&&(o=Pe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.$r=new rt(hn.Ur),this.Kr=new rt(hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new hn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new hn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new fe(new Ue([])),r=new hn(t,e),s=new hn(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new fe(new Ue([])),r=new hn(t,e),s=new hn(t,e+1);let o=Pe();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new hn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return fe.comparator(e.key,t.key)||Re(e.Zr,t.Zr)}static Wr(e,t){return Re(e.Zr,t.Zr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new rt(hn.Ur)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Q0(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Xr=this.Xr.add(new hn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return q.resolve(u)}lookupMutationBatch(e,t){return q.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?ra:this.nr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hn(t,0),s=new hn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const h=this.ei(u.Zr);o.push(h)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(Re);return t.forEach(s=>{const o=new hn(s,0),u=new hn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),q.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const u=new hn(new fe(o),0);let h=new rt(Re);return this.Xr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Zr)),!0)},u),q.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ve(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return q.forEach(t.mutations,s=>{const o=new hn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new hn(t,0),s=this.Xr.firstAfterOrEqual(r);return q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.ii=e,this.docs=function(){return new mt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(t))}getEntries(e,t){let r=Kn();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():pt.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Kn();const u=t.path,h=new fe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||V0(q1(y),r)<=0||(s.has(y.key)||Vd(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ye(9500)}si(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new P3(this)}getSize(e){return q.resolve(this.size)}}class P3 extends lx{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.persistence=e,this.oi=new ds(t=>xo(t),Od),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this._i=0,this.ai=new nE,this.targetCount=0,this.ui=ko.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),q.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ko(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Tr(t),q.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),q.waitFor(o).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t){this.ci={},this.overlays={},this.li=new Gn(0),this.hi=!1,this.hi=!0,this.Pi=new R3,this.referenceDelegate=e(this),this.Ti=new D3(this),this.indexManager=new p3,this.remoteDocumentCache=function(s){return new x3(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new JC(t),this.Ei=new A3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new C3(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const s=new N3(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return q.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class N3 extends G1{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Vi=new nE,this.mi=null}static fi(e){return new ag(e)}get gi(){if(this.mi)return this.mi;throw ye(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.gi,r=>{const s=fe.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,Ee.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return q.or([()=>q.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class vp{constructor(e,t){this.persistence=e,this.yi=new ds(r=>Pn(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ox(this,t)}static fi(e,t){return new vp(e,t)}di(){}Ai(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return q.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?q.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),q.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Km(e.data.value)),t}Dr(e,t,r){return q.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.serializer=e}q(e,t,r,s){const o=new Yp("createOrUpgrade",t);r<1&&s>=1&&(function(f){f.createObjectStore(Nd)}(e),function(f){f.createObjectStore(sd,{keyPath:YL}),f.createObjectStore(Vr,{keyPath:xA,autoIncrement:!0}).createIndex(Eo,PA,{unique:!0}),f.createObjectStore(Tu)}(e),vI(e),function(f){f.createObjectStore(mo)}(e));let u=q.resolve();return r<3&&s>=3&&(r!==0&&(function(f){f.deleteObjectStore(wu),f.deleteObjectStore(bu),f.deleteObjectStore(So)}(e),vI(e)),u=u.next(()=>function(f){const p=f.store(So),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return p.put(dp,y)}(o))),r<4&&s>=4&&(r!==0&&(u=u.next(()=>function(f,p){return p.store(Vr).J().next(v=>{f.deleteObjectStore(Vr),f.createObjectStore(Vr,{keyPath:xA,autoIncrement:!0}).createIndex(Eo,PA,{unique:!0});const E=p.store(Vr),I=v.map(R=>E.put(R));return q.waitFor(I)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(Su,{keyPath:i6})})(e)})),r<5&&s>=5&&(u=u.next(()=>this.wi(o))),r<6&&s>=6&&(u=u.next(()=>(function(f){f.createObjectStore(ad)}(e),this.Si(o)))),r<7&&s>=7&&(u=u.next(()=>this.bi(o))),r<8&&s>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&s>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(u=u.next(()=>this.Ci(o))),r<11&&s>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(Wp,{keyPath:s6})})(e),function(f){f.createObjectStore(Xp,{keyPath:a6})}(e)})),r<12&&s>=12&&(u=u.next(()=>{(function(f){const p=f.createObjectStore(Jp,{keyPath:f6});p.createIndex(Cv,m6,{unique:!1}),p.createIndex(Z1,p6,{unique:!1})})(e)})),r<13&&s>=13&&(u=u.next(()=>function(f){const p=f.createObjectStore(hp,{keyPath:XL});p.createIndex(Gm,JL),p.createIndex(Y1,ZL)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(mo))),r<14&&s>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&s>=15&&(u=u.next(()=>function(f){f.createObjectStore(U0,{keyPath:o6,autoIncrement:!0}).createIndex(Rv,l6,{unique:!1}),f.createObjectStore(Lh,{keyPath:u6}).createIndex(X1,c6,{unique:!1}),f.createObjectStore(Uh,{keyPath:h6}).createIndex(J1,d6,{unique:!1})}(e))),r<16&&s>=16&&(u=u.next(()=>{t.objectStore(Lh).clear()}).next(()=>{t.objectStore(Uh).clear()})),r<17&&s>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(B0,{keyPath:g6})})(e)})),r<18&&s>=18&&y1()&&(u=u.next(()=>{t.objectStore(Lh).clear()}).next(()=>{t.objectStore(Uh).clear()})),u}Si(e){let t=0;return e.store(mo).te((r,s)=>{t+=_p(s)}).next(()=>{const r={byteSize:t};return e.store(ad).put(Iv,r)})}wi(e){const t=e.store(sd),r=e.store(Vr);return t.J().next(s=>q.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,ra],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Eo,u).next(h=>q.forEach(h,f=>{ve(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const p=go(this.serializer,f);return rx(e,o.userId,p).next(()=>{})}))}))}bi(e){const t=e.store(wu),r=e.store(mo);return e.store(So).get(dp).next(s=>{const o=[];return r.te((u,h)=>{const f=new Ue(u),p=function(v){return[0,Pn(v)]}(f);o.push(t.get(p).next(y=>y?q.resolve():(v=>t.put({targetId:0,path:Pn(v),sequenceNumber:s.highestListenSequenceNumber}))(f)))}).next(()=>q.waitFor(o))})}Di(e,t){e.createObjectStore(od,{keyPath:r6});const r=t.store(od),s=new tE,o=u=>{if(s.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Pn(f)})}};return t.store(mo).te({ee:!0},(u,h)=>{const f=new Ue(u);return o(f.popLast())}).next(()=>t.store(Tu).te({ee:!0},([u,h,f],p)=>{const y=hi(h);return o(y.popLast())}))}Ci(e){const t=e.store(bu);return t.te((r,s)=>{const o=Dh(s),u=ZC(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(mo),s=[];return r.te((o,u)=>{const h=t.store(hp),f=function(v){return v.document?new fe(Ue.fromString(v.document.name).popFirst(5)):v.noDocument?fe.fromSegments(v.noDocument.path):v.unknownDocument?fe.fromSegments(v.unknownDocument.path):ye(36783)}(u).path.toArray(),p={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(p))}).next(()=>q.waitFor(s))}Mi(e,t){const r=t.store(Vr),s=ux(this.serializer),o=new rE(ag.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var p;let y=(p=h.get(f.userId))!==null&&p!==void 0?p:Pe();go(this.serializer,f).keys().forEach(v=>y=y.add(v)),h.set(f.userId,y)}),q.forEach(h,(f,p)=>{const y=new dn(p),v=ig.St(this.serializer,y),E=o.getIndexManager(y),I=sg.St(y,this.serializer,E,o.referenceDelegate);return new cx(s,I,v,E).recalculateAndSaveOverlaysForDocumentKeys(new xv(t,Gn.le),f).next()})})}}function vI(n){n.createObjectStore(wu,{keyPath:t6}).createIndex(L0,n6,{unique:!0}),n.createObjectStore(bu,{keyPath:"targetId"}).createIndex(W1,e6,{unique:!0}),n.createObjectStore(So)}const Qs="IndexedDbPersistence",X_=18e5,J_=5e3,Z_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hx="main";class iE{constructor(e,t,r,s,o,u,h,f,p,y,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=p,this.Ni=y,this.Bi=v,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=E=>Promise.resolve(),!iE.C())throw new oe(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new T3(this,s),this.Ui=t+hx,this.serializer=new JC(f),this.Ki=new pi(this.Ui,this.Bi,new O3(this.serializer)),this.Pi=new u3,this.Ti=new y3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ux(this.serializer),this.Ei=new l3,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,y===!1&&zt(Qs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(Q.FAILED_PRECONDITION,Z_);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Gn(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Nm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(ba(e))return le(Qs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Qs,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Eh(e).get(Gl).next(t=>q.resolve(this.ts(t)))}ns(e){return Nm(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,X_)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=rn(t,Su);return r.J().next(s=>{const o=this._s(s,X_),u=s.filter(h=>o.indexOf(h)===-1);return q.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?q.resolve(!0):Eh(e).get(Gl).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,J_)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new oe(Q.FAILED_PRECONDITION,Z_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nm(e).J().next(r=>this._s(r,J_).find(s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&le(Qs,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Nd,Su],e=>{const t=new xv(e,Gn.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Nm(e).J().next(t=>this._s(t,X_).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return sg.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new g3(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return ig.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){le(Qs,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?v6:f===17?rC:f===16?_6:f===15?z0:f===14?nC:f===13?tC:f===12?y6:f===11?eC:void ye(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,s,o,h=>(u=new xv(h,this.li?this.li.next():Gn.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new oe(Q.FAILED_PRECONDITION,H1);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return Eh(e).get(Gl).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,J_)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(Q.FAILED_PRECONDITION,Z_)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eh(e).put(Gl,t)}static C(){return pi.C()}Xi(e){const t=Eh(e);return t.get(Gl).next(r=>this.ts(r)?(le(Qs,"Releasing primary lease."),t.delete(Gl)):q.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;g1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return le(Qs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zt(Qs,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Eh(n){return rn(n,Nd)}function Nm(n){return rn(n,Su)}function sE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=Pe(),s=Pe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new aE(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return g1()?8:$1(Rt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new k3;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(Zl()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),q.resolve()):(Zl()<=Le.DEBUG&&le("QueryEngine","Query:",eu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Zl()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(t))):q.resolve())}ws(e,t){if(qA(t))return q.resolve(null);let r=Bn(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=pp(t,null,"F"),r=Bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Pe(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.vs(t,h);return this.Cs(t,p,u,f.readTime)?this.ws(e,pp(t,null,"F")):this.Fs(e,p,t,f)}))})))}Ss(e,t,r,s){return qA(t)||s.isEqual(Ee.min())?q.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?q.resolve(null):(Zl()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),eu(t)),this.Fs(e,u,t,j1(s,Eu)).next(h=>h))})}vs(e,t){let r=new rt(SC(e));return t.forEach((s,o)=>{Vd(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,t,r){return Zl()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",eu(t)),this.ys.getDocumentsMatchingQuery(e,t,cr.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LocalStore",V3=3e8;class M3{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new mt(Re),this.Os=new ds(o=>xo(o),Od),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function fx(n,e,t,r){return new M3(n,e,t,r)}async function mx(n,e){const t=pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Pe();for(const p of s){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:h}))})})}function L3(n,e){const t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const v=p.batch,E=v.keys();let I=q.resolve();return E.forEach(R=>{I=I.next(()=>y.getEntry(f,R)).next(C=>{const V=p.docVersions.get(R);ve(V!==null,48541),C.version.compareTo(V)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),y.addEntry(C)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Pe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function px(n){const e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function U3(n,e){const t=pe(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const h=[];e.targetChanges.forEach((y,v)=>{const E=s.get(v);if(!E)return;h.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,v)));let I=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),s=s.insert(v,I),function(C,V,B){return C.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=V3?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(E,I,y)&&h.push(t.Ti.updateTargetData(o,I))});let f=Kn(),p=Pe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(gx(o,u,e.documentUpdates).next(y=>{f=y.qs,p=y.Qs})),!r.isEqual(Ee.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(v=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return q.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.xs=s,o))}function gx(n,e,t){let r=Pe(),s=Pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Kn();return t.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ee.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):le(oE,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function B3(n,e){const t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ra),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Du(n,e){const t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,q.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new Ji(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Nu(n,e,t){const r=pe(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ba(u))throw u;le(oE,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Ep(n,e,t){const r=pe(n);let s=Ee.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const v=pe(f),E=v.Os.get(y);return E!==void 0?q.resolve(v.xs.get(E)):v.Ti.getTargetData(p,y)}(r,u,Bn(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:Ee.min(),t?o:Pe())).next(h=>(vx(r,wC(e),h),{documents:h,$s:o})))}function yx(n,e){const t=pe(n),r=pe(t.Ti),s=t.xs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function _x(n,e){const t=pe(n),r=t.Ns.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Bs.getAllFromCollectionGroup(s,e,j1(r,Eu),Number.MAX_SAFE_INTEGER)).then(s=>(vx(t,e,s),s))}function vx(n,e,t){let r=n.Ns.get(e)||Ee.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function z3(n,e,t,r){const s=pe(n);let o=Pe(),u=Kn();for(const p of t){const y=e.Us(p.metadata.name);p.document&&(o=o.add(y));const v=e.Ks(p);v.setReadTime(e.Ws(p.metadata.readTime)),u=u.insert(y,v)}const h=s.Bs.newChangeBuffer({trackRemovals:!0}),f=await Du(s,function(y){return Bn($u(Ue.fromString(`__bundle__/docs/${y}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",p=>gx(p,h,u).next(y=>(h.apply(p),y)).next(y=>s.Ti.removeMatchingKeysForTargetId(p,f.targetId).next(()=>s.Ti.addMatchingKeys(p,o,f.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(p,y.qs,y.Qs)).next(()=>y.qs)))}async function F3(n,e,t=Pe()){const r=await Du(n,Bn(Z0(e.bundledQuery))),s=pe(n);return s.persistence.runTransaction("Save named query","readwrite",o=>{const u=Ft(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(kt.EMPTY_BYTE_STRING,u);return s.xs=s.xs.insert(h.targetId,h),s.Ti.updateTargetData(o,h).next(()=>s.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>s.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>s.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="firestore_clients";function EI(n,e){return`${Ex}_${n}_${e}`}const Tx="firestore_mutations";function TI(n,e,t){let r=`${Tx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const bx="firestore_targets";function ev(n,e){return`${bx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="SharedClientState";class Tp{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Gs(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new oe(s.error.code,s.error.message))),u?new Tp(e,t,s.state,o):(zt(ai,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new oe(r.error.code,r.error.message))),o?new jh(e,r.state,s):(zt(ai,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=G0();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=K1(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new bp(e,o):(zt(ai,`Failed to parse client data for instance '${e}': ${t}`),null)}}class lE{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new lE(t.clientId,t.onlineState):(zt(ai,`Failed to parse online state: ${e}`),null)}}class Hv{constructor(){this.activeTargetIds=G0()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tv{constructor(e,t,r,s,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new mt(Re),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=EI(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new Hv),this.io=new RegExp(`^${Ex}_${u}_([^_]*)$`),this.so=new RegExp(`^${Tx}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${bx}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const s=this.getItem(EI(this.persistenceKey,r));if(s){const o=bp.Gs(r,s);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ev(this.persistenceKey,e));if(s){const o=jh.Gs(e,s);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ev(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.To(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le(ai,"READ",e,t),t}setItem(e,t){le(ai,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){le(ai,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(le(ai,"EVENT",t.key,t.newValue),t.key===this.no)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=Gn.le;if(o!=null)try{const h=JSON.parse(o);ve(typeof h=="number",30636,{bo:o}),u=h}catch(h){zt(ai,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==Gn.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(s=>this.syncEngine.vo(s)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const s=new Tp(this.currentUser,e,t,r),o=TI(this.persistenceKey,this.currentUser,e);this.setItem(o,s.zs())}To(e){const t=TI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const s=ev(this.persistenceKey,e),o=new jh(e,t,r);this.setItem(s,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return bp.Gs(r,t)}po(e,t){const r=this.so.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Tp.Gs(new dn(o),s,t)}wo(e,t){const r=this.oo.exec(e),s=Number(r[1]);return jh.Gs(s,t)}co(e){return lE.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);le(ai,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),s=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{s.has(f)||u.push(f)}),s.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=G0();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class wx{constructor(){this.xo=new Hv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Hv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="ConnectivityMonitor";class wI{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(bI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(bI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om=null;function Gv(){return Om===null?Om=function(){return 268435456+Math.round(2147483648*Math.random())}():Om++,"0x"+Om.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="RestConnection",q3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Pv?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=Gv(),h=this.jo(e,t.toUriEncodedString());le(nv,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:p}=new URL(h),y=Pd(p);return this.Jo(e,h,f,r,y).then(v=>(le(nv,`Received RPC '${e}' ${u}: `,v),v),v=>{throw vi(nv,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=q3[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class $3 extends H3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=Gv();return new Promise((h,f)=>{const p=new O1;p.setWithCredentials(!0),p.listenOnce(k1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jm.NO_ERROR:const v=p.getResponseJson();le(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case jm.TIMEOUT:le(Rn,`RPC '${e}' ${u} timed out`),f(new oe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const E=p.getStatus();if(le(Rn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const C=function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(X)>=0?X:Q.UNKNOWN}(R.status);f(new oe(C,R.message))}else f(new oe(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new oe(Q.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Rn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);le(Rn,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",y,r,15)})}T_(e,t,r){const s=Gv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=L1(),h=M1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");le(Rn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const v=u.createWebChannel(y,f);let E=!1,I=!1;const R=new G3({Zo:V=>{I?le(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(E||(le(Rn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),le(Rn,`RPC '${e}' stream ${s} sending:`,V),v.send(V))},Xo:()=>v.close()}),C=(V,B,X)=>{V.listen(B,F=>{try{X(F)}catch(te){setTimeout(()=>{throw te},0)}})};return C(v,Ch.EventType.OPEN,()=>{I||(le(Rn,`RPC '${e}' stream ${s} transport opened.`),R.__())}),C(v,Ch.EventType.CLOSE,()=>{I||(I=!0,le(Rn,`RPC '${e}' stream ${s} transport closed`),R.u_())}),C(v,Ch.EventType.ERROR,V=>{I||(I=!0,vi(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),R.u_(new oe(Q.UNAVAILABLE,"The operation could not be completed")))}),C(v,Ch.EventType.MESSAGE,V=>{var B;if(!I){const X=V.data[0];ve(!!X,16349);const F=X,te=(F==null?void 0:F.error)||((B=F[0])===null||B===void 0?void 0:B.error);if(te){le(Rn,`RPC '${e}' stream ${s} received error:`,te);const ne=te.status;let ce=function(D){const w=Qt[D];if(w!==void 0)return LC(w)}(ne),P=te.message;ce===void 0&&(ce=Q.INTERNAL,P="Unknown error status: "+ne+" with message "+te.message),I=!0,R.u_(new oe(ce,P)),v.close()}else le(Rn,`RPC '${e}' stream ${s} received:`,X),R.c_(X)}}),C(h,V1.STAT_EVENT,V=>{V.stat===wv.PROXY?le(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===wv.NOPROXY&&le(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){return typeof window<"u"?window:null}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(n){return new X6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="PersistentStream";class Ax{constructor(e,t,r,s,o,u,h,f){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new uE(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(zt(t.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new oe(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return le(SI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(le(SI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K3 extends Ax{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=e3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ee.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?Ft(u.readTime):Ee.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Bv(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=fp(f)?{documents:$C(o,f)}:{query:KC(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=zC(o,u.resumeToken);const p=Lv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ee.min())>0){h.readTime=Pu(o,u.snapshotVersion.toTimestamp());const p=Lv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=n3(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Bv(this.serializer),t.removeTarget=e,this.L_(t)}}class Q3 extends Ax{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=t3(e.writeResults,e.commitTime),r=Ft(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Bv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fd(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{}class W3 extends Y3{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new oe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Uv(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(Q.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Uv(t,r),s,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Q.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class X3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zt(t),this.oa=!1):le("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class J3{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{Sa(this)&&(le(Vo,"Restarting streams for network reachability change."),await async function(f){const p=pe(f);p.Ta.add(4),await Yu(p),p.da.set("Unknown"),p.Ta.delete(4),await zd(p)}(this))})}),this.da=new X3(r,s)}}async function zd(n){if(Sa(n))for(const e of n.Ia)await e(!0)}async function Yu(n){for(const e of n.Ia)await e(!1)}function og(n,e){const t=pe(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),dE(t)?hE(t):Xu(t).M_()&&cE(t,e))}function Ou(n,e){const t=pe(n),r=Xu(t);t.Pa.delete(e),r.M_()&&Ix(t,e),t.Pa.size===0&&(r.M_()?r.N_():Sa(t)&&t.da.set("Unknown"))}function cE(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xu(n).H_(e)}function Ix(n,e){n.Aa.Ke(e),Xu(n).J_(e)}function hE(n){n.Aa=new K6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Xu(n).start(),n.da._a()}function dE(n){return Sa(n)&&!Xu(n).F_()&&n.Pa.size>0}function Sa(n){return pe(n).Ta.size===0}function Rx(n){n.Aa=void 0}async function Z3(n){n.da.set("Online")}async function e5(n){n.Pa.forEach((e,t)=>{cE(n,e)})}async function t5(n,e){Rx(n),dE(n)?(n.da.ca(e),hE(n)):n.da.set("Unknown")}async function n5(n,e,t){if(n.da.set("Online"),e instanceof BC&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Pa.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Pa.delete(h),s.Aa.removeTarget(h))}(n,e)}catch(r){le(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wp(n,r)}else if(e instanceof Wm?n.Aa.Xe(e):e instanceof UC?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ee.min()))try{const r=await px(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Pa.get(p);y&&o.Pa.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=o.Pa.get(f);if(!y)return;o.Pa.set(f,y.withResumeToken(kt.EMPTY_BYTE_STRING,y.snapshotVersion)),Ix(o,f);const v=new Ji(y.target,f,p,y.sequenceNumber);cE(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){le(Vo,"Failed to raise snapshot:",r),await wp(n,r)}}async function wp(n,e,t){if(!ba(e))throw e;n.Ta.add(1),await Yu(n),n.da.set("Offline"),t||(t=()=>px(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Vo,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await zd(n)})}function Cx(n,e){return e().catch(t=>wp(n,t,e))}async function Wu(n){const e=pe(n),t=ga(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ra;for(;r5(e);)try{const s=await B3(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,i5(e,s)}catch(s){await wp(e,s)}xx(e)&&Px(e)}function r5(n){return Sa(n)&&n.ha.length<10}function i5(n,e){n.ha.push(e);const t=ga(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function xx(n){return Sa(n)&&!ga(n).F_()&&n.ha.length>0}function Px(n){ga(n).start()}async function s5(n){ga(n).ta()}async function a5(n){const e=ga(n);for(const t of n.ha)e.Z_(t.mutations)}async function o5(n,e,t){const r=n.ha.shift(),s=Y0.from(r,e,t);await Cx(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Wu(n)}async function l5(n,e){e&&ga(n).Y_&&await async function(r,s){if(function(u){return MC(u)&&u!==Q.ABORTED}(s.code)){const o=r.ha.shift();ga(r).O_(),await Cx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Wu(r)}}(n,e),xx(n)&&Px(n)}async function AI(n,e){const t=pe(n);t.asyncQueue.verifyOperationInProgress(),le(Vo,"RemoteStore received new credentials");const r=Sa(t);t.Ta.add(3),await Yu(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await zd(t)}async function $v(n,e){const t=pe(n);e?(t.Ta.delete(2),await zd(t)):e||(t.Ta.add(2),await Yu(t),t.da.set("Unknown"))}function Xu(n){return n.Ra||(n.Ra=function(t,r,s){const o=pe(t);return o.ra(),new K3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:Z3.bind(null,n),n_:e5.bind(null,n),i_:t5.bind(null,n),j_:n5.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),dE(n)?hE(n):n.da.set("Unknown")):(await n.Ra.stop(),Rx(n))})),n.Ra}function ga(n){return n.Va||(n.Va=function(t,r,s){const o=pe(t);return o.ra(),new Q3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:s5.bind(null,n),i_:l5.bind(null,n),X_:a5.bind(null,n),ea:o5.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Wu(n)):(await n.Va.stop(),n.ha.length>0&&(le(Vo,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new fE(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ju(n,e){if(zt("AsyncQueue",`${e}: ${n}`),ba(n))return new oe(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{static emptySet(e){return new uu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(t,r)=>fe.comparator(t.key,r.key),this.keyedMap=xh(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.ma=new mt(fe.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ye(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class ku{constructor(e,t,r,s,o,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ku(e,t,uu.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class c5{constructor(){this.queries=RI(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=pe(t),o=s.queries;s.queries=RI(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new oe(Q.ABORTED,"Firestore shutting down"))}}function RI(){return new ds(n=>bC(n),kd)}async function mE(n,e){const t=pe(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new u5,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(s,!0);break;case 1:o.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Ju(u,`Initialization of query '${eu(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&gE(t)}async function pE(n,e){const t=pe(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function h5(n,e){const t=pe(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(s)&&(r=!0);u.pa=s}}r&&gE(t)}function d5(n,e,t){const r=pe(n),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(t);r.queries.delete(e)}function gE(n){n.ba.forEach(e=>{e.next()})}var Kv,CI;(CI=Kv||(Kv={})).Ca="default",CI.Cache="cache";class yE{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Kv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.serializer=e}Us(e){return gi(this.serializer,e)}Ks(e){return e.metadata.exists?GC(this.serializer,e.document,!1):pt.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return Ft(e)}}class m5{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dx(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=Ue.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new xI(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.Us(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||Pe()).add(o);t.set(u,h)}}return t}async complete(){const e=await z3(this.localStore,new xI(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await F3(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function Dx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.key=e}}class Ox{constructor(e){this.key=e}}class kx{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pe(),this.mutatedKeys=Pe(),this.Ha=SC(e),this.Ja=new uu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new II,s=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,v)=>{const E=s.get(y),I=Vd(this.query,v)?v:null,R=!!E&&this.mutatedKeys.has(E.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;E&&I?E.data.isEqual(I.data)?R!==C&&(r.track({type:3,doc:I}),V=!0):this.eu(E,I)||(r.track({type:2,doc:I}),V=!0,(f&&this.Ha(I,f)>0||p&&this.Ha(I,p)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),V=!0):E&&!I&&(r.track({type:1,doc:E}),V=!0,(f||p)&&(h=!0)),V&&(I?(u=u.add(I),o=C?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((y,v)=>function(I,R){const C=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:V})}};return C(I)-C(R)}(y.type,v.type)||this.Ha(y.doc,v.doc)),this.tu(r),s=s!=null&&s;const h=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,p=f!==this.za;return this.za=f,u.length!==0||p?{snapshot:new ku(this.query,e.Ja,o,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new II,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Ox(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Nx(r))}),t}su(e){this.Ga=e.$s,this.ja=Pe();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ku.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Aa="SyncEngine";class p5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class g5{constructor(e){this.key=e,this._u=!1}}class y5{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new ds(h=>bC(h),kd),this.cu=new Map,this.lu=new Set,this.hu=new mt(fe.comparator),this.Pu=new Map,this.Tu=new nE,this.Iu={},this.Eu=new Map,this.du=ko.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function _5(n,e,t=!0){const r=lg(n);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await Vx(r,e,t,!0),s}async function v5(n,e){const t=lg(n);await Vx(t,e,!0,!1)}async function Vx(n,e,t,r){const s=await Du(n.localStore,Bn(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await _E(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&og(n.remoteStore,s),h}async function _E(n,e,t,r,s){n.Ru=(v,E,I)=>async function(C,V,B,X){let F=V.view.Za(B);F.Cs&&(F=await Ep(C.localStore,V.query,!1).then(({documents:P})=>V.view.Za(P,F)));const te=X&&X.targetChanges.get(V.targetId),ne=X&&X.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(F,C.isPrimaryClient,te,ne);return Qv(C,V.targetId,ce.ru),ce.snapshot}(n,v,E,I);const o=await Ep(n.localStore,e,!0),u=new kx(e,o.$s),h=u.Za(o.documents),f=Ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);Qv(n,t,p.ru);const y=new p5(e,t,u);return n.uu.set(e,y),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),p.snapshot}async function E5(n,e,t){const r=pe(n),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(u=>!kd(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Nu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ou(r.remoteStore,s.targetId),Vu(r,s.targetId)}).catch(Ta)):(Vu(r,s.targetId),await Nu(r.localStore,s.targetId,!0))}async function T5(n,e){const t=pe(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ou(t.remoteStore,r.targetId))}async function b5(n,e,t){const r=bE(n);try{const s=await function(u,h){const f=pe(u),p=wt.now(),y=h.reduce((I,R)=>I.add(R.key),Pe());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=Kn(),C=Pe();return f.Bs.getEntries(I,y).next(V=>{R=V,R.forEach((B,X)=>{X.isValidDocument()||(C=C.add(B))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,R)).next(V=>{v=V;const B=[];for(const X of h){const F=H6(X,v.get(X.key).overlayedDocument);F!=null&&B.push(new fs(X.key,F,fC(F.value.mapValue),bt.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,B,h)}).next(V=>{E=V;const B=V.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(I,V.batchId,B)})}).then(()=>({batchId:E.batchId,changes:IC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Iu[u.currentUser.toKey()];p||(p=new mt(Re)),p=p.insert(h,f),u.Iu[u.currentUser.toKey()]=p}(r,s.batchId,t),await ms(r,s.changes),await Wu(r.remoteStore)}catch(s){const o=Ju(s,"Failed to persist write");t.reject(o)}}async function Mx(n,e){const t=pe(n);try{const r=await U3(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Pu.get(o);u&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?ve(u._u,14607):s.removedDocuments.size>0&&(ve(u._u,42227),u._u=!1))}),await ms(t,r,e)}catch(r){await Ta(r)}}function PI(n,e,t){const r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=pe(u);f.onlineState=h;let p=!1;f.queries.forEach((y,v)=>{for(const E of v.ya)E.Da(h)&&(p=!0)}),p&&gE(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w5(n,e,t){const r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),o=s&&s.key;if(o){let u=new mt(fe.comparator);u=u.insert(o,pt.newNoDocument(o,Ee.min()));const h=Pe().add(o),f=new Ld(Ee.min(),new Map,new mt(Re),u,h);await Mx(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),TE(r)}else await Nu(r.localStore,e,!1).then(()=>Vu(r,e,t)).catch(Ta)}async function S5(n,e){const t=pe(n),r=e.batch.batchId;try{const s=await L3(t.localStore,e);EE(t,r,null),vE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ms(t,s)}catch(s){await Ta(s)}}async function A5(n,e,t){const r=pe(n);try{const s=await function(u,h){const f=pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(v=>(ve(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);EE(r,e,t),vE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ms(r,s)}catch(s){await Ta(s)}}async function I5(n,e){const t=pe(n);Sa(t.remoteStore)||le(Aa,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=pe(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===ra)return void e.resolve();const s=t.Eu.get(r)||[];s.push(e),t.Eu.set(r,s)}catch(r){const s=Ju(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function vE(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function EE(n,e,t){const r=pe(n);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Vu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||Lx(n,r)})}function Lx(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(Ou(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),TE(n))}function Qv(n,e,t){for(const r of t)r instanceof Nx?(n.Tu.addReference(r.key,e),R5(n,r)):r instanceof Ox?(le(Aa,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||Lx(n,r.key)):ye(19791,{mu:r})}function R5(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(le(Aa,"New document in limbo: "+t),n.lu.add(r),TE(n))}function TE(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new fe(Ue.fromString(e)),r=n.du.next();n.Pu.set(r,new g5(t)),n.hu=n.hu.insert(t,r),og(n.remoteStore,new Ji(Bn($u(t.path)),r,"TargetPurposeLimboResolution",Gn.le))}}async function ms(n,e,t){const r=pe(n),s=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=aE.Rs(f.targetId,p);o.push(v)}}))}),await Promise.all(u),r.au.j_(s),await async function(f,p){const y=pe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>q.forEach(p,E=>q.forEach(E.ds,I=>y.persistence.referenceDelegate.addReference(v,E.targetId,I)).next(()=>q.forEach(E.As,I=>y.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))}catch(v){if(!ba(v))throw v;le(oE,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=y.xs.get(E),R=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(R);y.xs=y.xs.insert(E,C)}}}(r.localStore,o))}async function C5(n,e){const t=pe(n);if(!t.currentUser.isEqual(e)){le(Aa,"User change. New user:",e.toKey());const r=await mx(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new oe(Q.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ms(t,r.ks)}}function x5(n,e){const t=pe(n),r=t.Pu.get(e);if(r&&r._u)return Pe().add(r.key);{let s=Pe();const o=t.cu.get(e);if(!o)return s;for(const u of o){const h=t.uu.get(u);s=s.unionWith(h.view.Ya)}return s}}async function P5(n,e){const t=pe(n),r=await Ep(t.localStore,e.query,!0),s=e.view.su(r);return t.isPrimaryClient&&Qv(t,e.targetId,s.ru),s}async function D5(n,e){const t=pe(n);return _x(t.localStore,e).then(r=>ms(t,r))}async function N5(n,e,t,r){const s=pe(n),o=await function(h,f){const p=pe(h),y=pe(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",v=>y.tr(v,f).next(E=>E?p.localDocuments.getDocuments(v,E):q.resolve(null)))}(s.localStore,e);o!==null?(t==="pending"?await Wu(s.remoteStore):t==="acknowledged"||t==="rejected"?(EE(s,e,r||null),vE(s,e),function(h,f){pe(pe(h).mutationQueue).sr(f)}(s.localStore,e)):ye(6720,"Unknown batchState",{fu:t}),await ms(s,o)):le(Aa,"Cannot apply mutation batch with id: "+e)}async function O5(n,e){const t=pe(n);if(lg(t),bE(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await DI(t,r.toArray());t.Au=!0,await $v(t.remoteStore,!0);for(const o of s)og(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let s=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then(()=>(Vu(t,u),Nu(t.localStore,u,!0))),Ou(t.remoteStore,u)}),await s,await DI(t,r),function(u){const h=pe(u);h.Pu.forEach((f,p)=>{Ou(h.remoteStore,p)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new mt(fe.comparator)}(t),t.Au=!1,await $v(t.remoteStore,!1)}}async function DI(n,e,t){const r=pe(n),s=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await Du(r.localStore,Bn(f[0]));for(const p of f){const y=r.uu.get(p),v=await P5(r,y);v.snapshot&&o.push(v.snapshot)}}else{const p=await yx(r.localStore,u);h=await Du(r.localStore,p),await _E(r,Ux(p),u,!1,h.resumeToken)}s.push(h)}return r.au.j_(o),s}function Ux(n){return TC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function k5(n){return function(t){return pe(pe(t).persistence).Is()}(pe(n).localStore)}async function V5(n,e,t,r){const s=pe(n);if(s.Au)return void le(Aa,"Ignoring unexpected query state notification.");const o=s.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await _x(s.localStore,wC(o[0])),h=Ld.createSynthesizedRemoteEventForCurrentChange(e,t==="current",kt.EMPTY_BYTE_STRING);await ms(s,u,h);break}case"rejected":await Nu(s.localStore,e,!0),Vu(s,e,r);break;default:ye(64155,t)}}async function M5(n,e,t){const r=lg(n);if(r.Au){for(const s of e){if(r.cu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){le(Aa,"Adding an already active target "+s);continue}const o=await yx(r.localStore,s),u=await Du(r.localStore,o);await _E(r,Ux(o),u.targetId,!1,u.resumeToken),og(r.remoteStore,u)}for(const s of t)r.cu.has(s)&&await Nu(r.localStore,s,!1).then(()=>{Ou(r.remoteStore,s),Vu(r,s)}).catch(Ta)}}function lg(n){const e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.au.j_=h5.bind(null,e.eventManager),e.au.Vu=d5.bind(null,e.eventManager),e}function bE(n){const e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A5.bind(null,e),e}function L5(n,e,t){const r=pe(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(I,R){const C=pe(I),V=Ft(R.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",B=>C.Ei.getBundleMetadata(B,R.id)).then(B=>!!B&&B.createTime.compareTo(V)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(I){return{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(Dx(f));const p=new m5(f,o.localStore,u.serializer);let y=await u.gu();for(;y;){const E=await p.$a(y);E&&h._updateProgress(E),y=await u.gu()}const v=await p.complete();return await ms(o,v.Wa,void 0),await function(I,R){const C=pe(I);return C.persistence.runTransaction("Save bundle","readwrite",V=>C.Ei.saveBundleMetadata(V,R))}(o.localStore,f),h._completeWith(v.progress),Promise.resolve(v.Ka)}catch(f){return vi(Aa,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return fx(this.persistence,new dx,e.initialUser,this.serializer)}yu(e){return new rE(ag.fi,this.serializer)}pu(e){return new wx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class U5 extends md{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){ve(this.persistence.referenceDelegate instanceof vp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ax(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new rE(r=>vp.fi(r,t),this.serializer)}}class Bx extends md{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await bE(this.Du.syncEngine),await Wu(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return fx(this.persistence,new dx,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new ax(r,e.asyncQueue,t)}bu(e,t){const r=new KL(t,this.persistence);return new $L(e.asyncQueue,r)}yu(e){const t=sE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new iE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Sx(),Jm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new wx}}class B5 extends Bx{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof tv&&(this.sharedClientState.syncEngine={Co:N5.bind(null,t),Fo:V5.bind(null,t),Mo:M5.bind(null,t),Is:k5.bind(null,t),vo:D5.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await O5(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=Sx();if(!tv.C(t))throw new oe(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class pd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C5.bind(null,this.syncEngine),await $v(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c5}()}createDatastore(e){const t=Bd(e.databaseInfo.databaseId),r=function(o){return new $3(o)}(e.databaseInfo);return function(o,u,h,f){return new W3(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,h){return new J3(r,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>PI(this.syncEngine,t,0),function(){return wI.C()?new wI:new j3}())}createSyncEngine(e,t){return function(s,o,u,h,f,p,y){const v=new y5(s,o,u,h,f,p);return y&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=pe(s);le(Vo,"RemoteStore shutting down."),o.Ta.add(5),await Yu(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pd.provider={build:()=>new pd};function NI(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new bn,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const s=await this.Bu(r);return new f5(JSON.parse(s),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,o){const u=pe(s),h={documents:o.map(v=>dd(u.serializer,v))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,Ue.emptyPath(),h,o.length),p=new Map;f.forEach(v=>{const E=Z6(u.serializer,v);p.set(E.key.toString(),E)});const y=[];return o.forEach(v=>{const E=p.get(v.toString());ve(!!E,55234,{key:v}),y.push(E)}),y}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const s=fe.fromPath(r);this.mutations.push(new K0(s,this.precondition(s)))}),await async function(r,s){const o=pe(r),u={writes:s.map(h=>fd(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,Ue.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ye(50498,{qu:e.constructor.name});t=Ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new oe(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?bt.exists(!1):bt.updateTime(t):bt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new oe(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bt.updateTime(t)}return bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new uE(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new F5(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Wu(s)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!Dd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!MC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class q5{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=z1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{le(ya,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le(ya,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ju(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rv(n,e){n.asyncQueue.verifyOperationInProgress(),le(ya,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function OI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wE(n);le(ya,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>AI(e.remoteStore,s)),n._onlineComponents=e}async function wE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(ya,"Using user provided OfflineComponentProvider");try{await rv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;vi("Error using user provided cache. Falling back to memory cache: "+t),await rv(n,new md)}}else le(ya,"Using default OfflineComponentProvider"),await rv(n,new U5(void 0));return n._offlineComponents}async function cg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(ya,"Using user provided OnlineComponentProvider"),await OI(n,n._uninitializedComponentsProvider._online)):(le(ya,"Using default OnlineComponentProvider"),await OI(n,new pd))),n._onlineComponents}function zx(n){return wE(n).then(e=>e.persistence)}function SE(n){return wE(n).then(e=>e.localStore)}function Fx(n){return cg(n).then(e=>e.remoteStore)}function AE(n){return cg(n).then(e=>e.syncEngine)}function H5(n){return cg(n).then(e=>e.datastore)}async function Mu(n){const e=await cg(n),t=e.eventManager;return t.onListen=_5.bind(null,e.syncEngine),t.onUnlisten=E5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=T5.bind(null,e.syncEngine),t}function G5(n){return n.asyncQueue.enqueue(async()=>{const e=await zx(n),t=await Fx(n);return e.setNetworkEnabled(!0),function(s){const o=pe(s);return o.Ta.delete(0),zd(o)}(t)})}function $5(n){return n.asyncQueue.enqueue(async()=>{const e=await zx(n),t=await Fx(n);return e.setNetworkEnabled(!1),async function(s){const o=pe(s);o.Ta.add(0),await Yu(o),o.da.set("Offline")}(t)})}function K5(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget(async()=>async function(s,o,u){try{const h=await function(p,y){const v=pe(p);return v.persistence.runTransaction("read document","readonly",E=>v.localDocuments.getDocument(E,y))}(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new oe(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Ju(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await SE(n),e,t)),t.promise}function jx(n,e,t={}){const r=new bn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new ug({next:E=>{y.Cu(),u.enqueueAndForget(()=>pE(o,v));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new oe(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new oe(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new yE($u(h.path),y,{includeMetadataChanges:!0,La:!0});return mE(o,v)}(await Mu(n),n.asyncQueue,e,t,r)),r.promise}function Q5(n,e){const t=new bn;return n.asyncQueue.enqueueAndForget(async()=>async function(s,o,u){try{const h=await Ep(s,o,!0),f=new kx(o,h.$s),p=f.Za(h.documents),y=f.applyChanges(p,!1);u.resolve(y.snapshot)}catch(h){const f=Ju(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await SE(n),e,t)),t.promise}function qx(n,e,t={}){const r=new bn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new ug({next:E=>{y.Cu(),u.enqueueAndForget(()=>pE(o,v)),E.fromCache&&f.source==="server"?p.reject(new oe(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new yE(h,y,{includeMetadataChanges:!0,La:!0});return mE(o,v)}(await Mu(n),n.asyncQueue,e,t,r)),r.promise}function Y5(n,e){const t=new ug(e);return n.asyncQueue.enqueueAndForget(async()=>function(s,o){pe(s).ba.add(o),o.next()}(await Mu(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(s,o){pe(s).ba.delete(o)}(await Mu(n),t))}}function W5(n,e,t,r){const s=function(u,h){let f;return f=typeof u=="string"?k0().encode(u):u,function(y,v){return new z5(y,v)}(function(y,v){if(y instanceof Uint8Array)return NI(y,v);if(y instanceof ArrayBuffer)return NI(new Uint8Array(y),v);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Bd(e));n.asyncQueue.enqueueAndForget(async()=>{L5(await AE(n),s,r)})}function X5(n,e){return n.asyncQueue.enqueue(async()=>function(r,s){const o=pe(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,s))}(await SE(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n,e,t){if(!t)throw new oe(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gx(n,e,t,r){if(e===!0&&r===!0)throw new oe(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VI(n){if(!fe.isDocumentKey(n))throw new oe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MI(n){if(fe.isDocumentKey(n))throw new oe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Ke(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hg(n);throw new oe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $x(n,e){if(e<=0)throw new oe(Q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firestore.googleapis.com",LI=!0;class UI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kx,this.ssl=LI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_3)throw new oe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VL;switch(r.type){case"firstParty":return new BL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,R0("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=kI.get(t);r&&(le("ComponentProvider","Removing Datastore"),kI.delete(t),r.terminate())}(this),Promise.resolve()}}function J5(n,e,t,r={}){var s;n=Ke(n,Fd);const o=Pd(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==Kx&&u.host!==f&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!oa(p,h)&&(n._setSettings(p),o&&(d1(`https://${f}`),R0("Firestore",!0)),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=dn.MOCK_USER;else{y=JM(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new oe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(E)}n._authCredentials=new ML(new B1(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zn=class Qx{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qx(this.firestore,e,this._query)}},It=class Yx{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yx(this.firestore,e,this._key)}},ia=class Wx extends zn{constructor(e,t,r){super(e,t,$u(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new fe(e))}withConverter(e){return new Wx(this.firestore,e,this._path)}};function Xx(n,e,...t){if(n=Se(n),IE("collection","path",e),n instanceof Fd){const r=Ue.fromString(e,...t);return MI(r),new ia(n,null,r)}{if(!(n instanceof It||n instanceof ia))throw new oe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return MI(r),new ia(n.firestore,null,r)}}function Z5(n,e){if(n=Ke(n,Fd),IE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zn(n,null,function(r){return new hs(Ue.emptyPath(),r)}(e))}function Sp(n,e,...t){if(n=Se(n),arguments.length===1&&(e=z1.newId()),IE("doc","path",e),n instanceof Fd){const r=Ue.fromString(e,...t);return VI(r),new It(n,null,new fe(r))}{if(!(n instanceof It||n instanceof ia))throw new oe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return VI(r),new It(n.firestore,n instanceof ia?n.converter:null,new fe(r))}}function Jx(n,e){return n=Se(n),e=Se(e),(n instanceof It||n instanceof ia)&&(e instanceof It||e instanceof ia)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Zx(n,e){return n=Se(n),e=Se(e),n instanceof zn&&e instanceof zn&&n.firestore===e.firestore&&kd(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="AsyncQueue";class zI{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new uE(this,"async_queue_retry"),this.ec=()=>{const r=Jm();r&&le(BI,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new bn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ba(e))throw e;le(BI,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,zt("INTERNAL UNHANDLED ERROR: ",FI(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=fE.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&ye(47125,{_c:FI(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function FI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class eU{constructor(){this._progressObserver={},this._taskCompletionResolver=new bn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=-1;let jt=class extends Fd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new zI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zI(e),this._firestoreClient=void 0,await e}}};function Dn(n){if(n._terminated)throw new oe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eP(n),n._firestoreClient}function eP(n){var e,t,r;const s=n._freezeSettings(),o=function(h,f,p,y){return new b6(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Hx(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new q5(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function nU(n,e){vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return tP(n,pd.provider,{build:r=>new Bx(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function rU(n){vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();tP(n,pd.provider,{build:t=>new B5(t,e.cacheSizeBytes)})}function tP(n,e,t){if((n=Ke(n,jt))._firestoreClient||n._terminated)throw new oe(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(Q.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},eP(n)}function iU(n){if(n._initialized&&!n._terminated)throw new oe(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!pi.C())return Promise.resolve();const s=r+hx;await pi.delete(s)}(sE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function sU(n){return function(t){const r=new bn;return t.asyncQueue.enqueueAndForget(async()=>I5(await AE(t),r)),r.promise}(Dn(n=Ke(n,jt)))}function aU(n){return G5(Dn(n=Ke(n,jt)))}function oU(n){return $5(Dn(n=Ke(n,jt)))}function lU(n,e){const t=Dn(n=Ke(n,jt)),r=new eU;return W5(t,n._databaseId,e,r),r}function uU(n,e){return X5(Dn(n=Ke(n,jt)),e).then(t=>t?new zn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(kt.fromBase64String(e))}catch(t){throw new oe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ti(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/^__.*__$/;class hU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}class nP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{hc:n})}}class fg{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ap(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(rP(this.hc)&&cU.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class dU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bd(e)}gc(e,t,r,s=!1){return new fg({hc:e,methodName:t,fc:r,path:Tt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ho(n){const e=n._freezeSettings(),t=Bd(n._databaseId);return new dU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mg(n,e,t,r,s,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,s);kE("Data must be an object, but it was:",u,r);const h=aP(r,u);let f,p;if(o.merge)f=new $n(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=Wv(e,v,t);if(!u.contains(E))throw new oe(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lP(y,E)||y.push(E)}f=new $n(y),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new hU(new Tn(h),f,p)}class jd extends qo{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function iP(n,e,t){return new fg({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CE extends qo{_toFieldTransform(e){return new Md(e.path,new Cu)}isEqual(e){return e instanceof CE}}class xE extends qo{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=iP(this,e,!0),r=this.yc.map(o=>Go(o,t)),s=new Po(r);return new Md(e.path,s)}isEqual(e){return e instanceof xE&&oa(this.yc,e.yc)}}class PE extends qo{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=iP(this,e,!0),r=this.yc.map(o=>Go(o,t)),s=new Do(r);return new Md(e.path,s)}isEqual(e){return e instanceof PE&&oa(this.yc,e.yc)}}class DE extends qo{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new xu(e.serializer,xC(e.serializer,this.wc));return new Md(e.path,t)}isEqual(e){return e instanceof DE&&this.wc===e.wc}}function NE(n,e,t,r){const s=n.gc(1,e,t);kE("Data must be an object, but it was:",s,r);const o=[],u=Tn.empty();wa(r,(f,p)=>{const y=VE(e,f,t);p=Se(p);const v=s.Ac(y);if(p instanceof jd)o.push(y);else{const E=Go(p,v);E!=null&&(o.push(y),u.set(y,E))}});const h=new $n(o);return new nP(u,h,s.fieldTransforms)}function OE(n,e,t,r,s,o){const u=n.gc(1,e,t),h=[Wv(e,r,t)],f=[s];if(o.length%2!=0)throw new oe(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Wv(e,o[E])),f.push(o[E+1]);const p=[],y=Tn.empty();for(let E=h.length-1;E>=0;--E)if(!lP(p,h[E])){const I=h[E];let R=f[E];R=Se(R);const C=u.Ac(I);if(R instanceof jd)p.push(I);else{const V=Go(R,C);V!=null&&(p.push(I),y.set(I,V))}}const v=new $n(p);return new nP(y,v,u.fieldTransforms)}function sP(n,e,t,r=!1){return Go(t,n.gc(r?4:3,e))}function Go(n,e){if(oP(n=Se(n)))return kE("Unsupported field value:",e,n),aP(n,e);if(n instanceof qo)return function(r,s){if(!rP(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const h of r){let f=Go(h,s.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Se(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wt.fromDate(r);return{timestampValue:Pu(s.serializer,o)}}if(r instanceof wt){const o=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pu(s.serializer,o)}}if(r instanceof dg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:zC(s.serializer,r._byteString)};if(r instanceof It){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:J0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof RE)return function(u,h){return{mapValue:{fields:{[F0]:{stringValue:j0},[Au]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Vc("VectorValues must only contain numeric values.");return $0(h.serializer,p)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${hg(r)}`)}(n,e)}function aP(n,e){const t={};return iC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(n,(r,s)=>{const o=Go(s,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function oP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof dg||n instanceof Ti||n instanceof It||n instanceof qo||n instanceof RE)}function kE(n,e,t){if(!oP(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=hg(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function Wv(n,e,t){if((e=Se(e))instanceof _a)return e._internalPath;if(typeof e=="string")return VE(n,e);throw Ap("Field path arguments must be of type string or ",n,!1,void 0,t)}const fU=new RegExp("[~\\*/\\[\\]]");function VE(n,e,t){if(e.search(fU)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _a(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ap(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new oe(Q.INVALID_ARGUMENT,h+n+f)}function lP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mU extends gd{data(){return super.data()}}function pg(n,e){return typeof e=="string"?VE(n,e):e instanceof _a?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ME{}class qd extends ME{}function Ys(n,e,...t){let r=[];e instanceof ME&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof LE).length,h=o.filter(f=>f instanceof gg).length;if(u>1||u>0&&h>0)throw new oe(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class gg extends qd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gg(e,t,r)}_apply(e){const t=this._parse(e);return hP(e._query,t),new zn(e.firestore,e.converter,Mv(e._query,t))}_parse(e){const t=Ho(e.firestore);return function(o,u,h,f,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new oe(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){qI(v,y);const R=[];for(const C of v)R.push(jI(f,o,C));E={arrayValue:{values:R}}}else E=jI(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||qI(v,y),E=sP(h,u,v,y==="in"||y==="not-in");return Be.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pU(n,e,t){const r=e,s=pg("where",n);return gg._create(s,r,t)}class LE extends ME{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new LE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:nt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)hP(u,f),u=Mv(u,f)}(e._query,t),new zn(e.firestore,e.converter,Mv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UE extends qd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UE(e,t)}_apply(e){const t=function(s,o,u){if(s.startAt!==null)throw new oe(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hd(o,u)}(e._query,this._field,this._direction);return new zn(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new hs(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function gU(n,e="asc"){const t=e,r=pg("orderBy",n);return UE._create(r,t)}class yg extends qd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yg(e,t,r)}_apply(e){return new zn(e.firestore,e.converter,pp(e._query,this._limit,this._limitType))}}function yU(n){return $x("limit",n),yg._create("limit",n,"F")}function _U(n){return $x("limitToLast",n),yg._create("limitToLast",n,"L")}class _g extends qd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _g(e,t,r)}_apply(e){const t=cP(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,function(s,o){return new hs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,t))}}function vU(...n){return _g._create("startAt",n,!0)}function EU(...n){return _g._create("startAfter",n,!1)}class vg extends qd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vg(e,t,r)}_apply(e){const t=cP(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,function(s,o){return new hs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)}(e._query,t))}}function TU(...n){return vg._create("endBefore",n,!1)}function bU(...n){return vg._create("endAt",n,!0)}function cP(n,e,t,r){if(t[0]=Se(t[0]),t[0]instanceof gd)return function(o,u,h,f,p){if(!f)throw new oe(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const v of lu(o))if(v.field.isKeyField())y.push(Co(u,f.key));else{const E=f.data.field(v.field);if(Zp(E))throw new oe(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const I=v.field.canonicalString();throw new oe(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}y.push(E)}return new pa(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Ho(n.firestore);return function(u,h,f,p,y,v){const E=u.explicitOrderBy;if(y.length>E.length)throw new oe(Q.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let R=0;R<y.length;R++){const C=y[R];if(E[R].field.isKeyField()){if(typeof C!="string")throw new oe(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof C}`);if(!H0(u)&&C.indexOf("/")!==-1)throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${C}' contains a slash.`);const V=u.path.child(Ue.fromString(C));if(!fe.isDocumentKey(V))throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const B=new fe(V);I.push(Co(h,B))}else{const V=sP(f,p,C);I.push(V)}}return new pa(I,v)}(n._query,n.firestore._databaseId,s,e,t,r)}}function jI(n,e,t){if(typeof(t=Se(t))=="string"){if(t==="")throw new oe(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(e)&&t.indexOf("/")!==-1)throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ue.fromString(t));if(!fe.isDocumentKey(r))throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Co(n,new fe(r))}if(t instanceof It)return Co(n,t._key);throw new oe(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hg(t)}.`)}function qI(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hP(n,e){const t=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BE{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wa(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Au].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>vt(u.doubleValue));return new RE(o)}convertGeoPoint(e){return new dg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const t=as(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ue.fromString(e);ve(XC(r),9688,{name:e});const s=new da(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return s.isEqual(t)||zt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wU extends BE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ls=class extends gd{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},qh=class extends ls{data(e={}){return super.data(e)}},va=class{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new To(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qh(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new qh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new To(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new qh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new To(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:SU(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function SU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}function dP(n,e){return n instanceof ls&&e instanceof ls?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof va&&e instanceof va&&n._firestore===e._firestore&&Zx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n){n=Ke(n,It);const e=Ke(n.firestore,jt);return jx(Dn(e),n._key).then(t=>zE(e,n,t))}class $o extends BE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function IU(n){n=Ke(n,It);const e=Ke(n.firestore,jt),t=Dn(e),r=new $o(e);return K5(t,n._key).then(s=>new ls(e,r,n._key,s,new To(s!==null&&s.hasLocalMutations,!0),n.converter))}function RU(n){n=Ke(n,It);const e=Ke(n.firestore,jt);return jx(Dn(e),n._key,{source:"server"}).then(t=>zE(e,n,t))}function CU(n){n=Ke(n,zn);const e=Ke(n.firestore,jt),t=Dn(e),r=new $o(e);return uP(n._query),qx(t,n._query).then(s=>new va(e,r,n,s))}function xU(n){n=Ke(n,zn);const e=Ke(n.firestore,jt),t=Dn(e),r=new $o(e);return Q5(t,n._query).then(s=>new va(e,r,n,s))}function PU(n){n=Ke(n,zn);const e=Ke(n.firestore,jt),t=Dn(e),r=new $o(e);return qx(t,n._query,{source:"server"}).then(s=>new va(e,r,n,s))}function HI(n,e,t){n=Ke(n,It);const r=Ke(n.firestore,jt),s=Eg(n.converter,e,t);return Hd(r,[mg(Ho(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,bt.none())])}function GI(n,e,t,...r){n=Ke(n,It);const s=Ke(n.firestore,jt),o=Ho(s);let u;return u=typeof(e=Se(e))=="string"||e instanceof _a?OE(o,"updateDoc",n._key,e,t,r):NE(o,"updateDoc",n._key,e),Hd(s,[u.toMutation(n._key,bt.exists(!0))])}function DU(n){return Hd(Ke(n.firestore,jt),[new Qu(n._key,bt.none())])}function NU(n,e){const t=Ke(n.firestore,jt),r=Sp(n),s=Eg(n.converter,e);return Hd(t,[mg(Ho(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function fP(n,...e){var t,r,s;n=Se(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Yv(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Yv(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let f,p,y;if(n instanceof It)p=Ke(n.firestore,jt),y=$u(n._key.path),f={next:v=>{e[u]&&e[u](zE(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=Ke(n,zn);p=Ke(v.firestore,jt),y=v._query;const E=new $o(p);f={next:I=>{e[u]&&e[u](new va(p,E,v,I))},error:e[u+1],complete:e[u+2]},uP(n._query)}return function(E,I,R,C){const V=new ug(C),B=new yE(I,V,R);return E.asyncQueue.enqueueAndForget(async()=>mE(await Mu(E),B)),()=>{V.Cu(),E.asyncQueue.enqueueAndForget(async()=>pE(await Mu(E),B))}}(Dn(p),y,h,f)}function OU(n,e){return Y5(Dn(n=Ke(n,jt)),Yv(e)?e:{next:e})}function Hd(n,e){return function(r,s){const o=new bn;return r.asyncQueue.enqueueAndForget(async()=>b5(await AE(r),s,o)),o.promise}(Dn(n),e)}function zE(n,e,t){const r=t.docs.get(e._key),s=new $o(n);return new ls(n,s,e._key,r,new To(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VU=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ho(e)}set(e,t,r){this._verifyNotCommitted();const s=Zs(e,this._firestore),o=Eg(s.converter,t,r),u=mg(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,bt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=Zs(e,this._firestore);let u;return u=typeof(t=Se(t))=="string"||t instanceof _a?OE(this._dataReader,"WriteBatch.update",o._key,t,r,s):NE(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zs(e,this._firestore);return this._mutations=this._mutations.concat(new Qu(t._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Zs(n,e){if((n=Se(n)).firestore!==e)throw new oe(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ho(e)}get(e){const t=Zs(e,this._firestore),r=new wU(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return ye(24041);const o=s[0];if(o.isFoundDocument())return new gd(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new gd(this._firestore,r,t._key,null,t.converter);throw ye(18433,{doc:o})})}set(e,t,r){const s=Zs(e,this._firestore),o=Eg(s.converter,t,r),u=mg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=Zs(e,this._firestore);let u;return u=typeof(t=Se(t))=="string"||t instanceof _a?OE(this._dataReader,"Transaction.update",o._key,t,r,s):NE(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Zs(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LU=class extends MU{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zs(e,this._firestore),r=new $o(this._firestore);return super.get(e).then(s=>new ls(this._firestore,r,t._key,s._document,new To(!1,!1),t.converter))}};function UU(n,e,t){n=Ke(n,jt);const r=Object.assign(Object.assign({},kU),t);return function(o){if(o.maxAttempts<1)throw new oe(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new bn;return o.asyncQueue.enqueueAndForget(async()=>{const p=await H5(o);new j5(o.asyncQueue,p,h,u,f).$u()}),f.promise}(Dn(n),s=>e(new LU(n,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(){return new jd("deleteField")}function zU(){return new CE("serverTimestamp")}function FU(...n){return new xE("arrayUnion",n)}function jU(...n){return new PE("arrayRemove",n)}function qU(n){return new DE("increment",n)}(function(e,t=!0){(function(s){Gu=s})(Ea),ca(new _i("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new jt(new LL(r.getProvider("auth-internal")),new zL(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new oe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(p.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Lr(EA,TA,e),Lr(EA,TA,"esm2017")})();const HU="@firebase/firestore-compat",GU="0.3.50";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function KI(){if(!E6())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class yd{constructor(e){this._delegate=e}static fromBase64String(e){return KI(),new yd(Ti.fromBase64String(e))}static fromUint8Array(e){return $I(),new yd(Ti.fromUint8Array(e))}toBase64(){return KI(),this._delegate.toBase64()}toUint8Array(){return $I(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n){return $U(n,["next","error","complete"])}function $U(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{enableIndexedDbPersistence(e,t){return nU(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return rU(e._delegate)}clearIndexedDbPersistence(e){return iU(e._delegate)}}class mP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof da||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){J5(this._delegate,e,t,r)}enableNetwork(){return aU(this._delegate)}disableNetwork(){return oU(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Gx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return sU(this._delegate)}onSnapshotsInSync(e){return OU(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lu(this,Xx(this._delegate,e))}catch(t){throw Ln(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ar(this,Sp(this._delegate,e))}catch(t){throw Ln(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mn(this,Z5(this._delegate,e))}catch(t){throw Ln(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return UU(this._delegate,t=>e(new pP(this,t)))}batch(){return Dn(this._delegate),new gP(new VU(this._delegate,e=>Hd(this._delegate,e)))}loadBundle(e){return lU(this._delegate,e)}namedQuery(e){return uU(this._delegate,e).then(t=>t?new Mn(this,t):null)}}class Tg extends BE{constructor(e){super(),this.firestore=e}convertBytes(e){return new yd(new Ti(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ar.forKey(t,this.firestore,null)}}function QU(n){OL(n)}class pP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tg(e)}get(e){const t=bo(e);return this._delegate.get(t).then(r=>new _d(this._firestore,new ls(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=bo(e);return r?(FE("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=bo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=bo(e);return this._delegate.delete(t),this}}class gP{constructor(e){this._delegate=e}set(e,t,r){const s=bo(e);return r?(FE("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=bo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=bo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mo{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Mo.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let o=s.get(t);return o||(o=new Mo(e,new Tg(e),t),s.set(t,o)),o}}Mo.INSTANCES=new WeakMap;class Ar{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tg(e)}static forPath(e,t,r){if(e.length%2!==0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ar(t,new It(t._delegate,r,new fe(e)))}static forKey(e,t,r){return new Ar(t,new It(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Lu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lu(this.firestore,Xx(this._delegate,e))}catch(t){throw Ln(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Se(e),e instanceof It?Jx(this._delegate,e):!1}set(e,t){t=FE("DocumentReference.set",t);try{return t?HI(this._delegate,e,t):HI(this._delegate,e)}catch(r){throw Ln(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?GI(this._delegate,e):GI(this._delegate,e,t,...r)}catch(s){throw Ln(s,"updateDoc()","DocumentReference.update()")}}delete(){return DU(this._delegate)}onSnapshot(...e){const t=yP(e),r=_P(e,s=>new _d(this.firestore,new ls(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return fP(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=IU(this._delegate):(e==null?void 0:e.source)==="server"?t=RU(this._delegate):t=AU(this._delegate),t.then(r=>new _d(this.firestore,new ls(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ar(this.firestore,e?this._delegate.withConverter(Mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ln(n,e,t){return n.message=n.message.replace(e,t),n}function yP(n){for(const e of n)if(typeof e=="object"&&!Xv(e))return e;return{}}function _P(n,e){var t,r;let s;return Xv(n[0])?s=n[0]:Xv(n[1])?s=n[1]:typeof n[0]=="function"?s={next:n[0],error:n[1],complete:n[2]}:s={next:n[1],error:n[2],complete:n[3]},{next:o=>{s.next&&s.next(e(o))},error:(t=s.error)===null||t===void 0?void 0:t.bind(s),complete:(r=s.complete)===null||r===void 0?void 0:r.bind(s)}}class _d{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ar(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dP(this._delegate,e._delegate)}}class vd extends _d{data(e){const t=this._delegate.data(e);return this._delegate._converter||kL(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Mn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tg(e)}where(e,t,r){try{return new Mn(this.firestore,Ys(this._delegate,pU(e,t,r)))}catch(s){throw Ln(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mn(this.firestore,Ys(this._delegate,gU(e,t)))}catch(r){throw Ln(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mn(this.firestore,Ys(this._delegate,yU(e)))}catch(t){throw Ln(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mn(this.firestore,Ys(this._delegate,_U(e)))}catch(t){throw Ln(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mn(this.firestore,Ys(this._delegate,vU(...e)))}catch(t){throw Ln(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mn(this.firestore,Ys(this._delegate,EU(...e)))}catch(t){throw Ln(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mn(this.firestore,Ys(this._delegate,TU(...e)))}catch(t){throw Ln(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mn(this.firestore,Ys(this._delegate,bU(...e)))}catch(t){throw Ln(t,"endAt()","Query.endAt()")}}isEqual(e){return Zx(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=xU(this._delegate):(e==null?void 0:e.source)==="server"?t=PU(this._delegate):t=CU(this._delegate),t.then(r=>new Jv(this.firestore,new va(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=yP(e),r=_P(e,s=>new Jv(this.firestore,new va(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return fP(this._delegate,t,r)}withConverter(e){return new Mn(this.firestore,e?this._delegate.withConverter(Mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class YU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Jv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new vd(this._firestore,r))})}isEqual(e){return dP(this._delegate,e._delegate)}}class Lu extends Mn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ar(this.firestore,e):null}doc(e){try{return e===void 0?new Ar(this.firestore,Sp(this._delegate)):new Ar(this.firestore,Sp(this._delegate,e))}catch(t){throw Ln(t,"doc()","CollectionReference.doc()")}}add(e){return NU(this._delegate,e).then(t=>new Ar(this.firestore,t))}isEqual(e){return Jx(this._delegate,e._delegate)}withConverter(e){return new Lu(this.firestore,e?this._delegate.withConverter(Mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function bo(n){return Ke(n,It)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(...e){this._delegate=new _a(...e)}static documentId(){return new jE(Tt.keyField().canonicalString())}isEqual(e){return e=Se(e),e instanceof _a?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static serverTimestamp(){const e=zU();return e._methodName="FieldValue.serverTimestamp",new vo(e)}static delete(){const e=BU();return e._methodName="FieldValue.delete",new vo(e)}static arrayUnion(...e){const t=FU(...e);return t._methodName="FieldValue.arrayUnion",new vo(t)}static arrayRemove(...e){const t=jU(...e);return t._methodName="FieldValue.arrayRemove",new vo(t)}static increment(e){const t=qU(e);return t._methodName="FieldValue.increment",new vo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU={Firestore:mP,GeoPoint:dg,Timestamp:wt,Blob:yd,Transaction:pP,WriteBatch:gP,DocumentReference:Ar,DocumentSnapshot:_d,Query:Mn,QueryDocumentSnapshot:vd,QuerySnapshot:Jv,CollectionReference:Lu,FieldPath:jE,FieldValue:vo,setLogLevel:QU,CACHE_SIZE_UNLIMITED:tU};function XU(n,e){n.INTERNAL.registerComponent(new _i("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},WU)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(n){XU(n,(e,t)=>new mP(e,t,new KU)),n.registerVersion(HU,GU)}JU(jo);function qE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}const Th={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Xl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function vP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e9=ZU,t9=vP,EP=new Fo("auth","Firebase",vP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Qp("@firebase/auth");function n9(n,...e){Ip.logLevel<=Le.WARN&&Ip.warn(`Auth (${Ea}): ${n}`,...e)}function Zm(n,...e){Ip.logLevel<=Le.ERROR&&Ip.error(`Auth (${Ea}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n,...e){throw GE(n,...e)}function nn(n,...e){return GE(n,...e)}function HE(n,e,t){const r=Object.assign(Object.assign({},t9()),{[e]:t});return new Fo("auth","Firebase",r).create(e,{appName:n.name})}function fn(n){return HE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(n,"argument-error"),HE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function GE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EP.create(n,...e)}function ue(n,e,...t){if(!n)throw GE(e,...t)}function fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zm(e),new Error(e)}function Ur(n,e){n||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $E(){return QI()==="http:"||QI()==="https:"}function QI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($E()||m1()||"connection"in navigator)?navigator.onLine:!0}function i9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=t4()||C0()}get(){return r9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o9=new Gd(3e4,6e4);function Vt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mt(n,e,t,r,s={}){return bP(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Hu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return r4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Pd(n.emulatorConfig.host)&&(p.credentials="include"),TP.fetch()(await wP(n,n.config.apiHost,t,h),p)})}async function bP(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},s9),e);try{const s=new u9(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Nh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Nh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Nh(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw HE(n,y,p);wn(n,y)}}catch(s){if(s instanceof Un)throw s;wn(n,"network-request-failed",{message:String(s)})}}async function ps(n,e,t,r,s={}){const o=await Mt(n,e,t,r,s);return"mfaPendingCredential"in o&&wn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function wP(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?KE(n.config,s):`${n.config.apiScheme}://${s}`;return a9.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function l9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(nn(this.auth,"network-request-failed")),o9.get())})}}function Nh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=nn(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n){return n!==void 0&&n.getResponse!==void 0}function WI(n){return n!==void 0&&n.enterprise!==void 0}class SP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return l9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n){return(await Mt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function AP(n,e){return Mt(n,"GET","/v2/recaptchaConfig",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(n,e){return Mt(n,"POST","/v1/accounts:delete",e)}async function d9(n,e){return Mt(n,"POST","/v1/accounts:update",e)}async function Rp(n,e){return Mt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f9(n,e=!1){const t=Se(n),r=await t.getIdToken(e),s=bg(r);ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Hh(iv(s.auth_time)),issuedAtTime:Hh(iv(s.iat)),expirationTime:Hh(iv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function iv(n){return Number(n)*1e3}function bg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zm("JWT malformed, contained fewer than 3 sections"),null;try{const s=S0(t);return s?JSON.parse(s):(Zm("Failed to decode base64 JWT payload"),null)}catch(s){return Zm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XI(n){const e=bg(n);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Un&&m9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function m9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hh(this.lastLoginAt),this.creationTime=Hh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n){var e;const t=n.auth,r=await n.getIdToken(),s=await us(n,Rp(t,{idToken:r}));ue(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IP(o.providerUserInfo):[],h=y9(n.providerData,u),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zv(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function g9(n){const e=Se(n);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y9(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function IP(n){return n.map(e=>{var{providerId:t}=e,r=qE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(n,e){const t=await bP(n,{},async()=>{const r=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await wP(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",TP.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v9(n,e){return Mt(n,"POST","/v2/accounts:revokeToken",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const t=XI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await _9(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new cu;return r&&(ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ue(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(n,e){ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=qE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await us(this,this.stsTokenManager.getToken(this.auth,e));return ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return f9(this,e)}reload(){return g9(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Et(this.auth.app))return Promise.reject(fn(this.auth));const e=await this.getIdToken();return await us(this,h9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,h,f,p,y;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(h=t.tenantId)!==null&&h!==void 0?h:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,X=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:te,isAnonymous:ne,providerData:ce,stsTokenManager:P}=t;ue(F&&P,e,"internal-error");const x=cu.fromJSON(this.name,P);ue(typeof F=="string",e,"internal-error"),Ws(v,e.name),Ws(E,e.name),ue(typeof te=="boolean",e,"internal-error"),ue(typeof ne=="boolean",e,"internal-error"),Ws(I,e.name),Ws(R,e.name),Ws(C,e.name),Ws(V,e.name),Ws(B,e.name),Ws(X,e.name);const D=new Mr({uid:F,auth:e,email:E,emailVerified:te,displayName:v,isAnonymous:ne,photoURL:R,phoneNumber:I,tenantId:C,stsTokenManager:x,createdAt:B,lastLoginAt:X});return ce&&Array.isArray(ce)&&(D.providerData=ce.map(w=>Object.assign({},w))),V&&(D._redirectEventId=V),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new cu;s.updateFromServerResponse(t);const o=new Mr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Td(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?IP(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new cu;h.updateFromIdToken(r);const f=new Mr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;function or(n){Ur(n instanceof Function,"Expected a class definition");let e=JI.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RP.type="NONE";const Uu=RP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(n,e,t){return`firebase:${n}:${e}:${t}`}class hu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Ao(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ao("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rp(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hu(or(Uu),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||or(Uu);const u=Ao(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Rp(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Mr._fromGetAccountInfoResponse(e,E,y)}else v=Mr._fromJSON(e,y);p!==o&&(h=v),o=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new hu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new hu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NP(e))return"Blackberry";if(OP(e))return"Webos";if(xP(e))return"Safari";if((e.includes("chrome/")||PP(e))&&!e.includes("edge/"))return"Chrome";if($d(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CP(n=Rt()){return/firefox\//i.test(n)}function xP(n=Rt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PP(n=Rt()){return/crios\//i.test(n)}function DP(n=Rt()){return/iemobile/i.test(n)}function $d(n=Rt()){return/android/i.test(n)}function NP(n=Rt()){return/blackberry/i.test(n)}function OP(n=Rt()){return/webos/i.test(n)}function Kd(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E9(n=Rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function T9(n=Rt()){var e;return Kd(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function b9(){return p1()&&document.documentMode===10}function kP(n=Rt()){return Kd(n)||$d(n)||OP(n)||NP(n)||/windows phone/i.test(n)||DP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n,e=[]){let t;switch(n){case"Browser":t=ZI(Rt());break;case"Worker":t=`${ZI(Rt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(n,e={}){return Mt(n,"GET","/v2/passwordPolicy",Vt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=6;class I9{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:A9,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eR(this),this.idTokenSubscription=new eR(this),this.beforeStateQueue=new w9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=or(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rp(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Et(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Et(this.app))return Promise.reject(fn(this));const t=e?Se(e):null;return t&&ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Et(this.app)?Promise.reject(fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Et(this.app)?Promise.reject(fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S9(this),t=new I9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await v9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&or(e)||this._popupRedirectResolver;ue(t,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&n9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ct(n){return Se(n)}class eR{constructor(e){this.auth=e,this.observer=null,this.addObserver=_1(t=>this.observer=t)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C9(n){Qd=n}function QE(n){return Qd.loadJS(n)}function x9(){return Qd.recaptchaV2Script}function P9(){return Qd.recaptchaEnterpriseScript}function D9(){return Qd.gapiScript}function MP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=500,O9=6e4,km=1e12;class k9{constructor(e){this.auth=e,this.counter=km,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new L9(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||km;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||km;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||km;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class V9{constructor(){this.enterprise=new M9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class M9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class L9{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ue(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=U9(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},O9)},N9))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function U9(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const B9="recaptcha-enterprise",Gh="NO_RECAPTCHA";class LP{constructor(e){this.type=B9,this.auth=Ct(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{AP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new SP(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;WI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(Gh)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new V9().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&WI(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=P9();f.length!==0&&(f+=h),QE(f).then(()=>{s(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function bh(n,e,t,r=!1,s=!1){const o=new LP(n);let u;if(s)u=Gh;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sa(n,e,t,r,s){var o,u;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await bh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await bh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(s==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await bh(n,e,t);return r(n,h).catch(async f=>{var p;if(((p=n._getRecaptchaConfig())===null||p===void 0?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await bh(n,e,t,!1,!0);return r(n,y)}return Promise.reject(f)})}else{const h=await bh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(s+" provider is not supported.")}async function z9(n){const e=Ct(n),t=await AP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new SP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new LP(e).verify()}function F9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(or);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j9(n,e,t){const r=Ct(n);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),o=UP(e),{host:u,port:h}=q9(e),f=h===null?"":`:${h}`,p={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(oa(p,r.config.emulator)&&oa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Pd(u)?(R0("Auth",!0),d1(`${o}//${u}${f}`)):s||H9()}function UP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function q9(n){const e=UP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:tR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:tR(u)}}}function tR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function H9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(n,e){return Mt(n,"POST","/v1/accounts:resetPassword",Vt(n,e))}async function G9(n,e){return Mt(n,"POST","/v1/accounts:update",e)}async function $9(n,e){return Mt(n,"POST","/v1/accounts:signUp",e)}async function K9(n,e){return Mt(n,"POST","/v1/accounts:update",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(n,e){return ps(n,"POST","/v1/accounts:signInWithPassword",Vt(n,e))}async function wg(n,e){return Mt(n,"POST","/v1/accounts:sendOobCode",Vt(n,e))}async function Y9(n,e){return wg(n,e)}async function W9(n,e){return wg(n,e)}async function X9(n,e){return wg(n,e)}async function J9(n,e){return wg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(n,e){return ps(n,"POST","/v1/accounts:signInWithEmailLink",Vt(n,e))}async function eB(n,e){return ps(n,"POST","/v1/accounts:signInWithEmailLink",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends ec{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new bd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sa(e,t,"signInWithPassword",Q9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Z9(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sa(e,r,"signUpPassword",$9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eB(e,{idToken:t,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(n,e){return ps(n,"POST","/v1/accounts:signInWithIdp",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="http://localhost";class bi extends ec{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=qE(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new bi(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}buildRequest(){const e={requestUri:tB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,e){return Mt(n,"POST","/v1/accounts:sendVerificationCode",Vt(n,e))}async function nB(n,e){return ps(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,e))}async function rB(n,e){const t=await ps(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,e));if(t.temporaryProof)throw Nh(n,"account-exists-with-different-credential",t);return t}const iB={USER_NOT_FOUND:"user-not-found"};async function sB(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ps(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,t),iB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends ec{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Io({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Io({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return nB(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return rB(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return sB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new Io({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oB(n){const e=iu(Rh(n)).link,t=e?iu(Rh(e)).deep_link_id:null,r=iu(Rh(n)).deep_link_id;return(r?iu(Rh(r)).link:null)||r||t||e||n}class Sg{constructor(e){var t,r,s,o,u,h;const f=iu(Rh(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,v=aB((s=f.mode)!==null&&s!==void 0?s:null);ue(p&&y&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=oB(e);try{return new Sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return bd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sg.parseLink(t);return ue(r,"argument-error"),bd._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class du extends tc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ue("providerId"in t&&"signInMethod"in t,"argument-error"),bi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ue(e.idToken||e.accessToken,"argument-error"),bi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return du.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return du.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!s&&!t&&!o||!h)return null;try{return new du(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends tc{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bi._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return li.credential(t,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends tc{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="http://localhost";class Bu extends ec{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new Bu(r,o)}static _create(e,t){return new Bu(e,t)}buildRequest(){return{requestUri:lB,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="saml.";class Cp extends gs{constructor(e){ue(e.startsWith(uB),"argument-error"),super(e)}static credentialFromResult(e){return Cp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Bu.fromJSON(e);return ue(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Bu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends tc{constructor(){super("twitter.com")}static credential(e,t){return bi._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(n,e){return ps(n,"POST","/v1/accounts:signUp",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Mr._fromIdTokenResponse(e,r,s),u=rR(r);return new Rr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=rR(r);return new Rr({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function rR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(n){var e;if(Et(n.app))return Promise.reject(fn(n));const t=Ct(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Rr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await zP(t,{returnSecureToken:!0}),s=await Rr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Un{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new xp(e,t,r,s)}}function FP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(n,e){const t=Se(n);await Ag(!0,t,e);const{providerUserInfo:r}=await d9(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=jP(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function YE(n,e,t=!1){const r=await us(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Rr._forOperation(n,"link",r)}async function Ag(n,e,t){await Td(e);const r=jP(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ue(r.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(n,e,t=!1){const{auth:r}=n;if(Et(r.app))return Promise.reject(fn(r));const s="reauthenticate";try{const o=await us(n,FP(r,s,e,n),t);ue(o.idToken,r,"internal-error");const u=bg(o.idToken);ue(u,r,"internal-error");const{sub:h}=u;return ue(n.uid===h,r,"user-mismatch"),Rr._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(n,e,t=!1){if(Et(n.app))return Promise.reject(fn(n));const r="signIn",s=await FP(n,r,e),o=await Rr._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function Ig(n,e){return HP(Ct(n),e)}async function GP(n,e){const t=Se(n);return await Ag(!1,t,e.providerId),YE(t,e)}async function $P(n,e){return qP(Se(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(n,e){return ps(n,"POST","/v1/accounts:signInWithCustomToken",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(n,e){if(Et(n.app))return Promise.reject(fn(n));const t=Ct(n),r=await dB(t,{token:e,returnSecureToken:!0}),s=await Rr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?WE._fromServerResponse(e,t):"totpInfo"in t?XE._fromServerResponse(e,t):wn(e,"internal-error")}}class WE extends Yd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new WE(t)}}class XE extends Yd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new XE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n,e,t){var r;ue(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ue(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ue(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ue(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ue(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(n){const e=Ct(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mB(n,e,t){const r=Ct(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Rg(r,s,t),await sa(r,s,"getOobCode",W9,"EMAIL_PASSWORD_PROVIDER")}async function pB(n,e,t){await BP(Se(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JE(n),r})}async function gB(n,e){await K9(Se(n),{oobCode:e})}async function KP(n,e){const t=Se(n),r=await BP(t,{oobCode:e}),s=r.requestType;switch(ue(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(r.mfaInfo,t,"internal-error");default:ue(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Yd._fromServerResponse(Ct(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function yB(n,e){const{data:t}=await KP(Se(n),e);return t.email}async function _B(n,e,t){if(Et(n.app))return Promise.reject(fn(n));const r=Ct(n),u=await sa(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zP,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&JE(n),f}),h=await Rr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function vB(n,e,t){return Et(n.app)?Promise.reject(fn(n)):Ig(Se(n),Ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(n,e,t){const r=Ct(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ue(h.handleCodeInApp,r,"argument-error"),h&&Rg(r,u,h)}o(s,t),await sa(r,s,"getOobCode",X9,"EMAIL_PASSWORD_PROVIDER")}function TB(n,e){const t=Sg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function bB(n,e,t){if(Et(n.app))return Promise.reject(fn(n));const r=Se(n),s=Ia.credentialWithLink(e,t||Ed());return ue(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ig(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(n,e){return Mt(n,"POST","/v1/accounts:createAuthUri",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(n,e){const t=$E()?Ed():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await wB(Se(n),r);return s||[]}async function AB(n,e){const t=Se(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Rg(t.auth,s,e);const{email:o}=await Y9(t.auth,s);o!==n.email&&await n.reload()}async function IB(n,e,t){const r=Se(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Rg(r.auth,o,t);const{email:u}=await J9(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RB(n,e){return Mt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Se(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await us(r,RB(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function xB(n,e){const t=Se(n);return Et(t.auth.app)?Promise.reject(fn(t.auth)):QP(t,e,null)}function PB(n,e){return QP(Se(n),null,e)}async function QP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await us(n,G9(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=bg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new fu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new NB(o,s);case"github.com":return new OB(o,s);case"google.com":return new kB(o,s);case"twitter.com":return new VB(o,s,n.screenName||null);case"custom":case"anonymous":return new fu(o,null);default:return new fu(o,r,s)}}class fu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class YP extends fu{constructor(e,t,r,s){super(e,t,r),this.username=s}}class NB extends fu{constructor(e,t){super(e,"facebook.com",t)}}class OB extends YP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class kB extends fu{constructor(e,t){super(e,"google.com",t)}}class VB extends YP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function MB(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:DB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new wo("enroll",e,t)}static _fromMfaPendingCredential(e){return new wo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return wo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return wo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ct(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>Yd._fromServerResponse(r,h));ue(s.mfaPendingCredential,r,"internal-error");const u=wo._fromMfaPendingCredential(s.mfaPendingCredential);return new ZE(u,o,async h=>{const f=await h._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const p=Object.assign(Object.assign({},s),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const y=await Rr._fromIdTokenResponse(r,t.operationType,p);return await r._updateCurrentUser(y.user),y;case"reauthenticate":return ue(t.user,r,"internal-error"),Rr._forOperation(t.user,t.operationType,p);default:wn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function LB(n,e){var t;const r=Se(n),s=e;return ue(e.customData.operationType,r,"argument-error"),ue((t=s.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),ZE._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){return Mt(n,"POST","/v2/accounts/mfaEnrollment:start",Vt(n,e))}function UB(n,e){return Mt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(n,e))}function BB(n,e){return Mt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(n,e))}class eT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Yd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new eT(e)}async getSession(){return wo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await us(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await us(this.user,BB(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const sv=new WeakMap;function zB(n){const e=Se(n);return sv.has(e)||sv.set(e,eT._fromUser(e)),sv.get(e)}const Pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=1e3,jB=10;class XP extends WP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);b9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jB):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},FB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XP.type="LOCAL";const tT=XP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends WP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JP.type="SESSION";const Lo=JP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,o)),f=await qB(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const p=Wd("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return window}function GB(n){Yt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}async function $B(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KB(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QB(){return nT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebaseLocalStorageDb",YB=1,Dp="firebaseLocalStorage",eD="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xg(n,e){return n.transaction([Dp],e?"readwrite":"readonly").objectStore(Dp)}function WB(){const n=indexedDB.deleteDatabase(ZP);return new Xd(n).toPromise()}function e0(){const n=indexedDB.open(ZP,YB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dp,{keyPath:eD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dp)?e(r):(r.close(),await WB(),e(await e0()))})})}async function sR(n,e,t){const r=xg(n,!0).put({[eD]:e,value:t});return new Xd(r).toPromise()}async function XB(n,e){const t=xg(n,!1).get(e),r=await new Xd(t).toPromise();return r===void 0?null:r.value}function aR(n,e){const t=xg(n,!0).delete(e);return new Xd(t).toPromise()}const JB=800,ZB=3;class tD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ZB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cg._getInstance(QB()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $B(),!this.activeServiceWorker)return;this.sender=new HB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await sR(e,Pp,"1"),await aR(e,Pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>XB(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=xg(s,!1).getAll();return new Xd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tD.type="LOCAL";const wd=tD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n,e){return Mt(n,"POST","/v2/accounts/mfaSignIn:start",Vt(n,e))}function ez(n,e){return Mt(n,"POST","/v2/accounts/mfaSignIn:finalize",Vt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=MP("rcb"),tz=new Gd(3e4,6e4);class nz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Yt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ue(rz(t),e,"argument-error"),this.shouldResolveImmediately(t)&&YI(Yt().grecaptcha)?Promise.resolve(Yt().grecaptcha):new Promise((r,s)=>{const o=Yt().setTimeout(()=>{s(nn(e,"network-request-failed"))},tz.get());Yt()[av]=()=>{Yt().clearTimeout(o),delete Yt()[av];const h=Yt().grecaptcha;if(!h||!YI(h)){s(nn(e,"internal-error"));return}const f=h.render;h.render=(p,y)=>{const v=f(p,y);return this.counter++,v},this.hostLanguage=t,r(h)};const u=`${x9()}?${Hu({onload:av,render:"explicit",hl:t})}`;QE(u).catch(()=>{clearTimeout(o),s(nn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Yt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function rz(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class iz{async load(e){return new k9(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="recaptcha",sz={theme:"light",type:"image"};let az=class{constructor(e,t,r=Object.assign({},sz)){this.parameters=r,this.type=$h,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(e),this.isInvisible=this.parameters.size==="invisible",ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ue(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iz:new nz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Yt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ue($E()&&!nT(),this.auth,"internal-error"),await oz(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await c9(this.auth);ue(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function oz(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Io._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function lz(n,e,t){if(Et(n.app))return Promise.reject(fn(n));const r=Ct(n),s=await Pg(r,e,Se(t));return new rT(s,o=>Ig(r,o))}async function uz(n,e,t){const r=Se(n);await Ag(!1,r,"phone");const s=await Pg(r.auth,e,Se(t));return new rT(s,o=>GP(r,o))}async function cz(n,e,t){const r=Se(n);if(Et(r.auth.app))return Promise.reject(fn(r.auth));const s=await Pg(r.auth,e,Se(t));return new rT(s,o=>$P(r,o))}async function Pg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await z9(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){ue(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await sa(n,u,"mfaSmsEnrollment",async(y,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===Gh){ue((t==null?void 0:t.type)===$h,y,"argument-error");const E=await ov(y,v,t);return iR(y,E)}return iR(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ue(o.type==="signin",n,"internal-error");const u=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;ue(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await sa(n,h,"mfaSmsSignIn",async(v,E)=>{if(E.phoneSignInInfo.captchaResponse===Gh){ue((t==null?void 0:t.type)===$h,v,"argument-error");const I=await ov(v,E,t);return oR(v,I)}return oR(v,E)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await sa(n,o,"sendVerificationCode",async(p,y)=>{if(y.captchaResponse===Gh){ue((t==null?void 0:t.type)===$h,p,"argument-error");const v=await ov(p,y,t);return nR(p,v)}return nR(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t==null||t._reset()}}async function hz(n,e){const t=Se(n);if(Et(t.auth.app))return Promise.reject(fn(t.auth));await YE(t,e)}async function ov(n,e,t){ue(t.type===$h,n,"argument-error");const r=await t.verify();ue(typeof r=="string",n,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo=class ep{constructor(e){this.providerId=ep.PROVIDER_ID,this.auth=Ct(e)}verifyPhoneNumber(e,t){return Pg(this.auth,e,Se(t))}static credential(e,t){return Io._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ep.credentialFromTaggedObject(t)}static credentialFromError(e){return ep.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Io._fromTokenResponse(t,r):null}};Uo.PROVIDER_ID="phone";Uo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(n,e){return e?or(e):(ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends ec{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dz(n){return HP(n.auth,new iT(n),n.bypassAuthState)}function fz(n){const{auth:e,user:t}=n;return ue(t,e,"internal-error"),qP(t,new iT(n),n.bypassAuthState)}async function mz(n){const{auth:e,user:t}=n;return ue(t,e,"internal-error"),YE(t,new iT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dz;case"linkViaPopup":case"linkViaRedirect":return mz;case"reauthViaPopup":case"reauthViaRedirect":return fz;default:wn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new Gd(2e3,1e4);async function gz(n,e,t){if(Et(n.app))return Promise.reject(nn(n,"operation-not-supported-in-this-environment"));const r=Ct(n);Zu(n,e,gs);const s=Ko(r,t);return new Zi(r,"signInViaPopup",e,s).executeNotNull()}async function yz(n,e,t){const r=Se(n);if(Et(r.auth.app))return Promise.reject(nn(r.auth,"operation-not-supported-in-this-environment"));Zu(r.auth,e,gs);const s=Ko(r.auth,t);return new Zi(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function _z(n,e,t){const r=Se(n);Zu(r.auth,e,gs);const s=Ko(r.auth,t);return new Zi(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Zi extends nD{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pz.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="pendingRedirect",Kh=new Map;class Ez extends nD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const r=await Tz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tz(n,e){const t=iD(e),r=rD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function sT(n,e){return rD(n)._set(iD(e),"true")}function bz(){Kh.clear()}function aT(n,e){Kh.set(n._key(),e)}function rD(n){return or(n._redirectPersistence)}function iD(n){return Ao(vz,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(n,e,t){return Sz(n,e,t)}async function Sz(n,e,t){if(Et(n.app))return Promise.reject(fn(n));const r=Ct(n);Zu(n,e,gs),await r._initializationPromise;const s=Ko(r,t);return await sT(s,r),s._openRedirect(r,e,"signInViaRedirect")}function Az(n,e,t){return Iz(n,e,t)}async function Iz(n,e,t){const r=Se(n);if(Zu(r.auth,e,gs),Et(r.auth.app))return Promise.reject(fn(r.auth));await r.auth._initializationPromise;const s=Ko(r.auth,t);await sT(s,r.auth);const o=await sD(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Rz(n,e,t){return Cz(n,e,t)}async function Cz(n,e,t){const r=Se(n);Zu(r.auth,e,gs),await r.auth._initializationPromise;const s=Ko(r.auth,t);await Ag(!1,r,e.providerId),await sT(s,r.auth);const o=await sD(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function xz(n,e){return await Ct(n)._initializationPromise,Dg(n,e,!1)}async function Dg(n,e,t=!1){if(Et(n.app))return Promise.reject(fn(n));const r=Ct(n),s=Ko(r,e),u=await new Ez(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function sD(n){const e=Wd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=10*60*1e3;class aD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(nn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pz&&this.cachedEventUids.clear(),this.cachedEventUids.has(lR(e))}saveEventToCache(e){this.cachedEventUids.add(lR(e)),this.lastProcessedEventTime=Date.now()}}function lR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e={}){return Mt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oz=/^https?/;async function kz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lD(n);for(const t of e)try{if(Vz(t))return}catch{}wn(n,"unauthorized-domain")}function Vz(n){const e=Ed(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Oz.test(t))return!1;if(Nz.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Gd(3e4,6e4);function uR(){const n=Yt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Lz(n){return new Promise((e,t)=>{var r,s,o;function u(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),t(nn(n,"network-request-failed"))},timeout:Mz.get()})}if(!((s=(r=Yt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Yt().gapi)===null||o===void 0)&&o.load)u();else{const h=MP("iframefcb");return Yt()[h]=()=>{gapi.load?u():t(nn(n,"network-request-failed"))},QE(`${D9()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw tp=null,e})}let tp=null;function Uz(n){return tp=tp||Lz(n),tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new Gd(5e3,15e3),zz="__/auth/iframe",Fz="emulator/auth/iframe",jz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hz(n){const e=n.config;ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?KE(e,Fz):`https://${n.config.authDomain}/${zz}`,r={apiKey:e.apiKey,appName:n.name,v:Ea},s=qz.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hu(r).slice(1)}`}async function Gz(n){const e=await Uz(n),t=Yt().gapi;return ue(t,n,"internal-error"),e.open({where:document.body,url:Hz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jz,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=nn(n,"network-request-failed"),h=Yt().setTimeout(()=>{o(u)},Bz.get());function f(){Yt().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kz=500,Qz=600,Yz="_blank",Wz="http://localhost";class cR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xz(n,e,t,r=Kz,s=Qz){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},$z),{width:r.toString(),height:s.toString(),top:o,left:u}),p=Rt().toLowerCase();t&&(h=PP(p)?Yz:t),CP(p)&&(e=e||Wz,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[I,R])=>`${E}${I}=${R},`,"");if(T9(p)&&h!=="_self")return Jz(e||"",h),new cR(null);const v=window.open(e||"",h,y);ue(v,n,"popup-blocked");try{v.focus()}catch{}return new cR(v)}function Jz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="__/auth/handler",eF="emulator/auth/handler",tF=encodeURIComponent("fac");async function t0(n,e,t,r,s,o){ue(n.config.authDomain,n,"auth-domain-config-required"),ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ea,eventId:s};if(e instanceof gs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",l4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries(o||{}))u[y]=v}if(e instanceof tc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${tF}=${encodeURIComponent(f)}`:"";return`${nF(n)}?${Hu(h).slice(1)}${p}`}function nF({config:n}){return n.emulator?KE(n,eF):`https://${n.authDomain}/${Zz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="webStorageSupport";class rF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=Dg,this._overrideRedirectResult=aT}async _openPopup(e,t,r,s){var o;Ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await t0(e,t,r,Ed(),s);return Xz(e,u,Wd())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await t0(e,t,r,Ed(),s);return GB(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ur(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Gz(e),r=new aD(e);return t.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lv,{type:lv},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[lv];u!==void 0&&t(!!u),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kP()||xP()||Kd()}}const iF=rF;class sF{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return fi("unexpected MultiFactorSessionType")}}}class oT extends sF{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new oT(e)}_finalizeEnroll(e,t,r){return UB(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return ez(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class uD{constructor(){}static assertion(e){return oT._fromCredential(e)}}uD.FACTOR_ID="phone";var hR="@firebase/auth",dR="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lF(n){ca(new _i("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VP(n)},p=new R9(r,s,o,f);return F9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ca(new _i("auth-internal",e=>{const t=Ct(e.getProvider("auth").getImmediate());return(r=>new aF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(hR,dR,oF(n)),Lr(hR,dR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=5*60;WM("authIdTokenMaxAge");function cF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}C9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=nn("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",cF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lF("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=2e3;async function dF(n,e,t){var r;const{BuildInfo:s}=Bo();Ur(e.sessionId,"AuthEvent did not contain a session ID");const o=await yF(e.sessionId),u={};return Kd()?u.ibi=s.packageName:$d()?u.apn=s.packageName:wn(n,"operation-not-supported-in-this-environment"),s.displayName&&(u.appDisplayName=s.displayName),u.sessionId=o,t0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function fF(n){const{BuildInfo:e}=Bo(),t={};Kd()?t.iosBundleId=e.packageName:$d()?t.androidPackageName=e.packageName:wn(n,"operation-not-supported-in-this-environment"),await lD(n,t)}function mF(n){const{cordova:e}=Bo();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,E9()?"_blank":"_system","location=yes"),t(s)})})}async function pF(n,e,t){const{cordova:r}=Bo();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var v;o();const E=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof E=="function"&&E(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function p(){h||(h=window.setTimeout(()=>{u(nn(n,"redirect-cancelled-by-user"))},hF))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(f),document.addEventListener("resume",p,!1),$d()&&document.addEventListener("visibilitychange",y,!1),s=()=>{e.removePassiveListener(f),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{s()}}function gF(n){var e,t,r,s,o,u,h,f,p,y;const v=Bo();ue(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ue(typeof((t=v==null?void 0:v.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ue(typeof((o=(s=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue(typeof((f=(h=(u=v==null?void 0:v.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue(typeof((y=(p=v==null?void 0:v.cordova)===null||p===void 0?void 0:p.InAppBrowser)===null||y===void 0?void 0:y.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function yF(n){const e=_F(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function _F(n){if(Ur(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=20;class EF extends aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function TF(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:SF(),postBody:null,tenantId:n.tenantId,error:nn(n,"no-auth-event")}}function bF(n,e){return n0()._set(r0(n),e)}async function fR(n){const e=await n0()._get(r0(n));return e&&await n0()._remove(r0(n)),e}function wF(n,e){var t,r;const s=IF(e);if(s.includes("/__/auth/callback")){const o=np(s),u=o.firebaseError?AF(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?nn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}function SF(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<vF;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function n0(){return or(tT)}function r0(n){return Ao("authEvent",n.config.apiKey,n.name)}function AF(n){try{return JSON.parse(n)}catch{return null}}function IF(n){const e=np(n),t=e.link?decodeURIComponent(e.link):void 0,r=np(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return np(s).link||s||r||t||n}function np(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return iu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=500;class CF{constructor(){this._redirectPersistence=Lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dg,this._overrideRedirectResult=aT}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new EF(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){wn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,s){gF(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),bz(),await this._originValidation(e);const u=TF(e,r,s);await bF(e,u);const h=await dF(e,u,t),f=await mF(h);return pF(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fF(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=Bo(),u=setTimeout(async()=>{await fR(e),t.onEvent(mR())},RF),h=async y=>{clearTimeout(u);const v=await fR(e);let E=null;v&&(y!=null&&y.url)&&(E=wF(v,y.url)),t.onEvent(E||mR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=s,p=`${o.packageName.toLowerCase()}://`;Bo().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(p)&&h({url:y}),typeof f=="function")try{f(y)}catch(v){console.error(v)}}}}const xF=CF;function mR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n,e){Ct(n)._logFramework(e)}var DF="@firebase/auth-compat",NF="0.5.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=1e3;function Qh(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function kF(){return Qh()==="http:"||Qh()==="https:"}function cD(n=Rt()){return!!((Qh()==="file:"||Qh()==="ionic:"||Qh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function VF(){return C0()||Kp()}function MF(){return p1()&&(document==null?void 0:document.documentMode)===11}function LF(n=Rt()){return/Edge\/\d+/.test(n)}function UF(n=Rt()){return MF()||LF(n)}function hD(){try{const n=self.localStorage,e=Wd();if(n)return n.setItem(e,"1"),n.removeItem(e),UF()?ed():!0}catch{return lT()&&ed()}return!1}function lT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uv(){return(kF()||m1()||cD())&&!VF()&&hD()&&!lT()}function dD(){return cD()&&typeof document<"u"}async function BF(){return dD()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},OF);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function zF(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr={LOCAL:"local",NONE:"none",SESSION:"session"},wh=ue,fD="persistence";function FF(n,e){if(wh(Object.values(sr).includes(e),n,"invalid-persistence-type"),C0()){wh(e!==sr.SESSION,n,"unsupported-persistence-type");return}if(Kp()){wh(e===sr.NONE,n,"unsupported-persistence-type");return}if(lT()){wh(e===sr.NONE||e===sr.LOCAL&&ed(),n,"unsupported-persistence-type");return}wh(e===sr.NONE||hD(),n,"unsupported-persistence-type")}async function i0(n){await n._initializationPromise;const e=mD(),t=Ao(fD,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function jF(n,e){const t=mD();if(!t)return[];const r=Ao(fD,n,e);switch(t.getItem(r)){case sr.NONE:return[Uu];case sr.LOCAL:return[wd,Lo];case sr.SESSION:return[Lo];default:return[]}}function mD(){var n;try{return((n=zF())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=ue;class ea{constructor(){this.browserResolver=or(iF),this.cordovaResolver=or(xF),this.underlyingResolver=null,this._redirectPersistence=Lo,this._completeRedirectFn=Dg,this._overrideRedirectResult=aT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,s)}async _openRedirect(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qF(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await BF();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){return n.unwrap()}function HF(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(n){return gD(n)}function $F(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new KF(n,LB(n,e))}else if(r){const s=gD(e),o=e;s&&(o.credential=s,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function gD(n){const{_tokenResponse:e}=n instanceof Un?n.customData:n;if(!e)return null;if(!(n instanceof Un)&&"temporaryProof"in e&&"phoneNumber"in e)return Uo.credentialFromResult(n);const t=e.providerId;if(!t||t===Th.PASSWORD)return null;let r;switch(t){case Th.GOOGLE:r=li;break;case Th.FACEBOOK:r=oi;break;case Th.GITHUB:r=ui;break;case Th.TWITTER:r=ci;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?Bu._create(t,h):bi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new du(t).credential({idToken:s,accessToken:o,rawNonce:f})}return n instanceof Un?r.credentialFromError(n):r.credentialFromResult(n)}function Hn(n,e){return e.catch(t=>{throw t instanceof Un&&$F(n,t),t}).then(t=>{const r=t.operationType,s=t.user;return{operationType:r,credential:GF(t),additionalUserInfo:MB(t),user:es.getOrCreate(s)}})}async function s0(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Hn(n,t.confirm(r))}}class KF{constructor(e,t){this.resolver=t,this.auth=HF(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hn(pD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._delegate=e,this.multiFactor=zB(e)}static getOrCreate(e){return es.USER_MAP.has(e)||es.USER_MAP.set(e,new es(e)),es.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hn(this.auth,GP(this._delegate,e))}async linkWithPhoneNumber(e,t){return s0(this.auth,uz(this._delegate,e,t))}async linkWithPopup(e){return Hn(this.auth,_z(this._delegate,e,ea))}async linkWithRedirect(e){return await i0(Ct(this.auth)),Rz(this._delegate,e,ea)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hn(this.auth,$P(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return s0(this.auth,cz(this._delegate,e,t))}reauthenticateWithPopup(e){return Hn(this.auth,yz(this._delegate,e,ea))}async reauthenticateWithRedirect(e){return await i0(Ct(this.auth)),Az(this._delegate,e,ea)}sendEmailVerification(e){return AB(this._delegate,e)}async unlink(e){return await hB(this._delegate,e),this}updateEmail(e){return xB(this._delegate,e)}updatePassword(e){return PB(this._delegate,e)}updatePhoneNumber(e){return hz(this._delegate,e)}updateProfile(e){return CB(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return IB(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}es.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=ue;class a0{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Sh(r,"invalid-api-key",{appName:e.name}),Sh(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?ea:void 0;this._delegate=t.initialize({options:{persistence:QF(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(e9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){j9(this._delegate,e,t)}applyActionCode(e){return gB(this._delegate,e)}checkActionCode(e){return KP(this._delegate,e)}confirmPasswordReset(e,t){return pB(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Hn(this._delegate,_B(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return SB(this._delegate,e)}isSignInWithEmailLink(e){return TB(this._delegate,e)}async getRedirectResult(){Sh(uv(),this._delegate,"operation-not-supported-in-this-environment");const e=await xz(this._delegate,ea);return e?Hn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){PF(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:s,error:o,complete:u}=pR(e,t,r);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,r){const{next:s,error:o,complete:u}=pR(e,t,r);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return EB(this._delegate,e,t)}sendPasswordResetEmail(e,t){return mB(this._delegate,e,t||void 0)}async setPersistence(e){FF(this._delegate,e);let t;switch(e){case sr.SESSION:t=Lo;break;case sr.LOCAL:t=await or(wd)._isAvailable()?wd:tT;break;case sr.NONE:t=Uu;break;default:return wn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hn(this._delegate,cB(this._delegate))}signInWithCredential(e){return Hn(this._delegate,Ig(this._delegate,e))}signInWithCustomToken(e){return Hn(this._delegate,fB(this._delegate,e))}signInWithEmailAndPassword(e,t){return Hn(this._delegate,vB(this._delegate,e,t))}signInWithEmailLink(e,t){return Hn(this._delegate,bB(this._delegate,e,t))}signInWithPhoneNumber(e,t){return s0(this._delegate,lz(this._delegate,e,t))}async signInWithPopup(e){return Sh(uv(),this._delegate,"operation-not-supported-in-this-environment"),Hn(this._delegate,gz(this._delegate,e,ea))}async signInWithRedirect(e){return Sh(uv(),this._delegate,"operation-not-supported-in-this-environment"),await i0(this._delegate),wz(this._delegate,e,ea)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yB(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}a0.Persistence=sr;function pR(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const s=r;return{next:u=>s(u&&es.getOrCreate(u)),error:e,complete:t}}function QF(n,e){const t=jF(n,e);if(typeof self<"u"&&!t.includes(wd)&&t.push(wd),typeof window<"u")for(const r of[tT,Lo])t.includes(r)||t.push(r);return t.includes(Uu)||t.push(Uu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static credential(e,t){return Uo.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Uo(pD(jo.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}uT.PHONE_SIGN_IN_METHOD=Uo.PHONE_SIGN_IN_METHOD;uT.PROVIDER_ID=Uo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=ue;class WF{constructor(e,t,r=jo.app()){var s;YF((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new az(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="auth-compat";function JF(n){n.INTERNAL.registerComponent(new _i(XF,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new a0(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xl.EMAIL_SIGNIN,PASSWORD_RESET:Xl.PASSWORD_RESET,RECOVER_EMAIL:Xl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Xl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Xl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Xl.VERIFY_EMAIL}},EmailAuthProvider:Ia,FacebookAuthProvider:oi,GithubAuthProvider:ui,GoogleAuthProvider:li,OAuthProvider:du,SAMLAuthProvider:Cp,PhoneAuthProvider:uT,PhoneMultiFactorGenerator:uD,RecaptchaVerifier:WF,TwitterAuthProvider:ci,Auth:a0,AuthCredential:ec,Error:Un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(DF,NF)}JF(jo);const ZF={apiKey:"AIzaSyBn_EKXXW_T6aeLn4Vr6BtZSPcdjOZIHgY",authDomain:"challenge-364d4.firebaseapp.com",projectId:"challenge-364d4",storageBucket:"challenge-364d4.firebasestorage.app",messagingSenderId:"738416627199",appId:"1:738416627199:web:96c36aac72c915138cabca",measurementId:"G-NT7QDGDSFV"},e8=jo.initializeApp(ZF);e8.firestore();const Np=jo.auth();function gR(){const[{basket:n,user:e},t]=qu(),r=()=>{e&&Np.signOut()};return ie.jsxs("div",{className:"h-[60px] flex items-center bg-black sticky top-0 z-[100]",children:[ie.jsx(ou,{to:"/",children:ie.jsx("div",{className:"w-[100px] object-contain mx-[20px] mt-[18px] top-0 z-[100]",children:ie.jsx("img",{src:tN,alt:"logo"})})}),ie.jsxs("div",{className:"flex items-center w-full border-r-[24px] ",children:[ie.jsx("input",{type:"text",className:"bg-white p-[10px] w-full  h-[24px] flex-1"}),ie.jsx(pV,{className:"p-[5px] h-[26px] bg-[#cd9042]"})]}),ie.jsxs("div",{className:" flex justify-evenly",children:[ie.jsx(ou,{to:e?"#":"/login",children:ie.jsxs("div",{className:" flex flex-col mx-[10px] text-white ",onClick:r,children:[ie.jsx("span",{className:"text-[10px] ",children:"Hellow_Guest"}),ie.jsx("span",{className:"header_optionLineTwo",children:e?"sign out":"sign In"})]})}),ie.jsxs("div",{className:"flex flex-col mx-[10px] text-white",children:[ie.jsx("span",{className:"text-[10px]",children:"Returns"}),ie.jsx("span",{className:"header_optionLineTwo",children:"Orders"})]}),ie.jsxs("div",{className:"flex flex-col mx-[10px] text-white",children:[ie.jsx("span",{className:"text-[10px] ",children:"Your"}),ie.jsx("span",{className:"header_optionLineTwo ",children:"Prime"})]})]}),ie.jsx(ou,{to:"Checkout",children:ie.jsxs("div",{className:"flex m-3",children:[ie.jsx(gV,{className:"flex  items-center text-white"}),ie.jsx("span",{className:"text-white  items-center text-[10px] m-[5px]",children:n.length})]})})]})}function Jl({id:n,title:e,image:t,price:r,rating:s}){const[{basket:o},u]=qu();console.log("this is the basket",o);const h=()=>{u({type:"ADD_TO_BASKET",item:{id:n,title:e,image:t,price:r,rating:s}})};return ie.jsxs("div",{className:"flex flex-col bg-white shadow-lg rounded-lg p-4 max-w-xs mx-auto mt-6",children:[ie.jsx("img",{src:t,alt:"The Lean Startup",className:"w-full h-48 object-cover rounded"}),ie.jsxs("div",{className:"mt-4",children:[ie.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e}),ie.jsxs("p",{className:"text-gray-600 mt-1",children:[ie.jsx("small",{children:"$"}),ie.jsx("strong",{children:r})]}),ie.jsx("div",{className:"flex mt-2 space-x-1 text-yellow-500",children:Array(s).fill().map((f,p)=>ie.jsx("span",{children:"⭐️"},p))})]}),ie.jsx("button",{className:"mt-4 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded",onClick:h,children:"Add to Cart"})]})}const yD=()=>{const n=["https://images-eu.ssl-images-amazon.com/images/G/31/img20/AmazonLaunchpad/video/bxgy/2X_Decor_GBF_PC_3000X1200._CB794524354_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/INSLGW/pc_common_12th._CB555377188_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/img23/Consumables/X-GL/Feb5/PC_Hero_1_3000._CB582457311_.jpg"],[e,t]=W.useState(0),r=()=>{t(e===0?n.length-1:e-1)},s=()=>{t(e===n.length-1?0:e+1)};W.useEffect(()=>{const u=setInterval(()=>{s()},5e3);return()=>clearInterval(u)},[e]);const o="absolute top-1/2 transform -translate-y-1/2 bg-black/40 text-white text-3xl w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/60 transition";return ie.jsxs("div",{className:"relative w-full h-[300px] overflow-hidden",children:[ie.jsx("div",{className:"w-full h-full bg-cover bg-top bg-no-repeat transition-all duration-500",style:{backgroundImage:`url(${n[e]})`}}),ie.jsx("button",{onClick:r,className:`${o} left-4`,children:"‹"}),ie.jsx("button",{onClick:s,className:`${o} right-4`,children:"›"})]})};function t8(){return ie.jsxs("div",{className:"home",children:[ie.jsx(yD,{}),ie.jsxs("div",{className:"flex flex-wrap  gap-5 ",children:[ie.jsx(Jl,{title:"new product",price:29.99,rating:4,image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),ie.jsx(Jl,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),ie.jsx(Jl,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),ie.jsx(Jl,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),ie.jsx(Jl,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"}),ie.jsx(Jl,{image:"https://ideabuddy.com/wp-content/uploads/2020/06/lean-startup-methodology-1.jpg"})]})]})}function n8(){const[{basket:n}]=qu(),e=n.reduce((r,s)=>s.price+r,0),t=n.length;return ie.jsxs("div",{className:"flex flex-col items-center justify-center w-full max-w-[300px] sm:max-w-[400px] h-[300px] p-4 bg-[#f3f3f3] border border-[#dddddd] rounded mx-auto",children:[ie.jsxs("div",{children:[ie.jsxs("p",{className:"text-base sm:text-lg",children:["Subtotal (",t," items): ",ie.jsxs("strong",{children:["$",e.toFixed(2)]})]}),ie.jsxs("small",{className:"flex items-center mt-2 text-sm",children:[ie.jsx("input",{type:"checkbox",className:"mr-2"}),"This order contains a gift"]})]}),ie.jsx("button",{className:"bg-[#f0c14b] rounded w-full  border border-[#a88734] mt-4 text-[#111] font-medium hover:bg-yellow-400 transition",children:"Proceed to Checkout"})]})}function r8({id:n,image:e,title:t,price:r,rating:s,index:o}){const[{basket:u},h]=qu(),f=()=>{h({type:"REMOVE_FROM_BASKET",index:o})};return ie.jsxs("div",{className:"flex flex-col  m-4 md:flex-row mb-5 bg-gray-50 border border-gray-300 rounded-lg p-4 items-center justify-center",children:[ie.jsx("img",{className:"object-contain w-full md:w-44 h-44 rounded-md",src:e,alt:t}),ie.jsxs("div",{className:"pl-0 md:pl-5 mt-4 md:mt-0 text-center md:text-left flex-1",children:[ie.jsx("p",{className:"text-lg font-bold",children:t}),ie.jsxs("p",{className:"mt-1",children:[ie.jsx("small",{children:"$"}),ie.jsx("strong",{children:r})]}),ie.jsx("div",{className:"flex justify-center md:justify-start mt-2 space-x-1 text-yellow-500",children:Array(s).fill().map((p,y)=>ie.jsx("p",{children:"⭐"},y))}),ie.jsx("button",{className:"mt-4 bg-yellow-500 hover:bg-yellow-600 text-white font-medium py-2 px-6 rounded-lg transition duration-200",onClick:f,children:"Remove from Basket"})]})]})}function i8(){const[{basket:n,user:e},t]=qu();return ie.jsxs("div",{className:" w-full",children:[ie.jsxs("div",{className:"flex justify-between",children:[ie.jsx("div",{className:"w-8/10 ",children:ie.jsx(yD,{})}),ie.jsx("div",{className:"w-2/10",children:ie.jsx(n8,{})})]}),ie.jsxs("div",{class:"max-w-4xl  px-4 sm:px-6 lg:px-8 py-8 bg-white rounded-2xl shadow-md mt-10",children:[ie.jsxs("h3",{class:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 mb-2",children:["Hello, ",ie.jsx("span",{class:"text-blue-600 break-words",children:e?e.email:"Guest"})]}),ie.jsx("h2",{class:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Basket"})]}),ie.jsx("div",{className:"w-4/10 border-gray-500",children:n.map((r,s)=>ie.jsx(r8,{id:r.id,title:r.title,price:r.price,rating:r.rating,image:r.image,index:s}))})]})}function s8(){const n=e1(),[e,t]=W.useState(""),[r,s]=W.useState(""),[o,u]=W.useState(!1),[h,f]=W.useState(""),p=v=>{v.preventDefault(),u(!0),f(""),Np.signInWithEmailAndPassword(e,r).then(E=>{console.log(E),E&&n("/")}).catch(E=>{f(E.message),u(!1)})},y=v=>{v.preventDefault(),u(!0),f(""),Np.createUserWithEmailAndPassword(e,r).then(E=>{E&&n("/")}).catch(E=>{f(E.message),u(!1)})};return ie.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[ie.jsx(ou,{to:"/",children:ie.jsx("img",{className:"w-28 mb-6",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"Amazon Logo"})}),ie.jsxs("div",{className:"w-full max-w-sm bg-white border border-gray-300 rounded-md p-6 shadow-md",children:[ie.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Sign-In"}),ie.jsxs("form",{onSubmit:p,children:[ie.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"E-mail"}),ie.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),className:"w-full mb-4 px-3 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-yellow-500",disabled:o}),ie.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),ie.jsx("input",{type:"password",value:r,onChange:v=>s(v.target.value),className:"w-full mb-4 px-3 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-yellow-500",disabled:o}),ie.jsx("button",{type:"submit",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-md transition",disabled:o,children:o?"Processing...":"Sign In"})]}),h&&ie.jsx("p",{className:"text-red-600 text-sm mt-2",children:h}),ie.jsx("p",{className:"text-xs text-gray-600 mt-4",children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),ie.jsx("button",{onClick:y,className:"w-full mt-4 py-2 border border-gray-400 rounded-md hover:bg-gray-100 transition",disabled:o,children:o?"Processing...":"Create your Amazon Account"})]})]})}function a8(){const[{},n]=qu();return W.useEffect(()=>{Np.onIdTokenChanged(e=>{console.log("THE user is",e),n(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})})},[n]),ie.jsx(DM,{children:ie.jsxs(oM,{children:[ie.jsx(Bm,{path:"/",element:ie.jsxs(ie.Fragment,{children:[ie.jsx(gR,{}),ie.jsx(t8,{})]})}),ie.jsx(Bm,{path:"/checkout",element:ie.jsxs(ie.Fragment,{children:[ie.jsx(gR,{}),ie.jsx(i8,{})]})}),ie.jsx(Bm,{path:"/login",element:ie.jsx(ie.Fragment,{children:ie.jsx(s8,{})})})]})})}const o8={basket:[],user:null},l8=(n,e)=>{switch(console.log(e),e.type){case"ADD_TO_BASKET":return{...n,basket:[...n.basket,e.item]};case"REMOVE_FROM_BASKET":const t=e.index;let r=[...n.basket];return t>=0&&t<r.length?r.splice(t,1):console.warn(`Can't remove product at index ${t} as it's not in basket!`),{...n,basket:r};case"SET_USER":return{...n,user:e.user};default:return n}};eN.createRoot(document.getElementById("root")).render(ie.jsx(W.StrictMode,{children:ie.jsx(FM,{initialState:o8,reducer:l8,children:ie.jsx(a8,{})})}));
